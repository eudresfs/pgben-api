# ========================================
# CONFIGURAÇÕES DE AMBIENTE - EXEMPLO
# ========================================
# ATENÇÃO: Este arquivo contém apenas exemplos de configuração.
# NUNCA commite chaves reais ou dados sensíveis neste arquivo.
# Copie para .env e configure com valores reais.

# Nome do projeto Docker Compose
COMPOSE_PROJECT_NAME=pgben

# ========================================
# CONFIGURAÇÕES DO BANCO DE DADOS
# ========================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASS=your_secure_password_here
DB_NAME=pgben
DB_POOL_SIZE=10
DB_SSL=false

# ========================================
# CONFIGURAÇÕES JWT - SEGURANÇA CRÍTICA
# ========================================
# IMPORTANTE: Gere suas próprias chaves RSA 2048 bits
# Comando: openssl genrsa -out keys/private.pem 2048
# Comando: openssl rsa -in keys/private.pem -pubout -out keys/public.pem

JWT_ALGORITHM=RS256
# NUNCA use estas chaves em produção - são apenas exemplos
JWT_SECRET=SUBSTITUA_POR_CHAVE_SEGURA_BASE64
JWT_REFRESH_SECRET=SUBSTITUA_POR_CHAVE_REFRESH_SEGURA_BASE64

# Caminhos para arquivos de chaves (recomendado)
JWT_PRIVATE_KEY_PATH=./keys/private.key
JWT_PUBLIC_KEY_PATH=./keys/public.key

# Alternativa: Chaves em Base64 (menos seguro)
# JWT_PRIVATE_KEY_BASE64=SUA_CHAVE_PRIVADA_RSA_EM_BASE64
# JWT_PUBLIC_KEY_BASE64=SUA_CHAVE_PUBLICA_RSA_EM_BASE64

JWT_ACCESS_TOKEN_EXPIRES_IN=30m
JWT_REFRESH_TOKEN_EXPIRES_IN=7d

# ========================================
# CHAVES DE CRIPTOGRAFIA
# ========================================
# Gere uma chave de 32 caracteres (256 bits)
# Comando: openssl rand -hex 32
ENCRYPTION_KEY=SUBSTITUA_POR_CHAVE_256_BITS_HEX
AUDIT_SIGNING_KEY=SUBSTITUA_POR_CHAVE_AUDITORIA_256_BITS

# ========================================
# CONFIGURAÇÕES DE EMAIL SMTP
# ========================================
# Para desenvolvimento, use MailHog ou similar
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu_email@gmail.com
SMTP_PASS=sua_senha_app
SMTP_FROM=seu_email@gmail.com
SMTP_FROM_NAME=SEMTAS - Sistema

# ========================================
# CONFIGURAÇÕES MINIO (ARMAZENAMENTO)
# ========================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=SUBSTITUA_POR_ACCESS_KEY_SEGURA
MINIO_SECRET_KEY=SUBSTITUA_POR_SECRET_KEY_SEGURA
MINIO_BUCKET=documents
MINIO_USE_SSL=false

# ========================================
# CONFIGURAÇÕES DA APLICAÇÃO
# ========================================
APP_PORT=3000
API_PREFIX=/api/v1
NODE_ENV=development
APP_NAME=SEMTAS-PGBEN
FRONTEND_URL=http://localhost:5173

# ========================================
# CONFIGURAÇÕES DE RATE LIMITING
# ========================================
THROTTLE_TTL=60
THROTTLE_LIMIT=100
THROTTLE_LOGIN_LIMIT=5
THROTTLE_REGISTER_LIMIT=3

# ========================================
# CONFIGURAÇÕES DE SEGURANÇA - COOKIES E SESSÃO
# ========================================
# Chave secreta para assinatura de cookies (32+ caracteres)
# Comando: openssl rand -hex 32
COOKIE_SECRET=SUBSTITUA_POR_CHAVE_COOKIE_SEGURA_256_BITS

# Chave secreta para sessões (32+ caracteres)
# Comando: openssl rand -hex 32
SESSION_SECRET=SUBSTITUA_POR_CHAVE_SESSAO_SEGURA_256_BITS

# Domínios permitidos para CORS (separados por vírgula)
ALLOWED_ORIGINS=http://localhost:5173,https://pgben.gov.br
ALLOWED_DOMAINS=localhost:3000,localhost:5173,pgben.gov.br

# ========================================
# CONFIGURAÇÕES REDIS
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# ========================================
# CONFIGURAÇÕES DE LOGGING
# ========================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs
LOG_MAX_FILES=30
LOG_MAX_SIZE=10m

# ========================================
# CONFIGURAÇÕES DE SEGURANÇA
# ========================================
# Configurações para cookies seguros
COOKIE_SECRET=SUBSTITUA_POR_CHAVE_COOKIE_SEGURA
CSRF_SECRET=SUBSTITUA_POR_CHAVE_CSRF_SEGURA
SESSION_SECRET=SUBSTITUA_POR_CHAVE_SESSAO_SEGURA

# Configurações de CORS
CORS_ORIGIN=http://localhost:5173
CORS_CREDENTIALS=true


# ========================================
# CONFIGURAÇÕES DE NOTIFICAÇÔES
# ========================================
# Configurações SSE
SSE_HEARTBEAT_INTERVAL=30000          # Intervalo de heartbeat em ms (30 segundos)
SSE_CONNECTION_TIMEOUT=300000         # Timeout de conexão em ms (5 minutos)
SSE_MAX_CONNECTIONS_PER_USER=5       # Máximo de conexões por usuário
SSE_CLEANUP_INTERVAL=60000            # Intervalo de limpeza em ms (1 minuto)
SSE_ENABLE_COMPRESSION=true           # Habilitar compressão gzip
SSE_CORS_ORIGINS=http://localhost:3000,https://pgben-server.kemosoft.com.br

# ========================================
# CONFIGURAÇÕES DO USUÁRIO ADMINISTRADOR PADRÃO
# ========================================
# Configurações para criação automática do usuário administrador
# IMPORTANTE: Altere estas credenciais antes de usar em produção
DEFAULT_ADMIN_USER_EMAIL=admin@natal.pgben.gov.br
DEFAULT_ADMIN_USER_NAME=Administrador do Sistema
DEFAULT_ADMIN_USER_PASSWORD=SUBSTITUA_POR_SENHA_SEGURA

# ========================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO
# ========================================
# Apenas para desenvolvimento
DEBUG=false
SWAGGER_ENABLED=true
API_DOCS_PATH=/api/docs

# ========================================
# INSTRUÇÕES DE CONFIGURAÇÃO
# ========================================
# 1. Copie este arquivo para .env
# 2. Substitua todos os valores SUBSTITUA_POR_* por valores reais
# 3. Gere chaves RSA para JWT:
#    mkdir keys
#    node .scripts/gerar-chaves-jwt.js
# 4. Configure seu servidor SMTP
# 5. Configure Redis e MinIO
# 6. NUNCA commite o arquivo .env no Git