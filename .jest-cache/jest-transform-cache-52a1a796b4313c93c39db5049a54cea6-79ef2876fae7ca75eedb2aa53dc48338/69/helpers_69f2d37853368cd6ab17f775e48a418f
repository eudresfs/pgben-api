b5506d0593dac95ee0a801e02f3feb54
"use strict";
/**
 * Funções helper para lançamento de erros padronizados
 *
 * Fornece uma interface conveniente para lançar erros específicos
 * do catálogo com contexto apropriado, facilitando o uso em
 * serviços e controladores.
 *
 * @see docs/ADRs/catalogo-erros.md
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.throwInvalidCpf = throwInvalidCpf;
exports.throwDuplicateCpf = throwDuplicateCpf;
exports.throwInvalidNis = throwInvalidNis;
exports.throwDuplicateNis = throwDuplicateNis;
exports.throwInvalidAge = throwInvalidAge;
exports.throwInvalidIncome = throwInvalidIncome;
exports.throwIncomeExceedsLimit = throwIncomeExceedsLimit;
exports.throwNatalidadeAlreadyReceived = throwNatalidadeAlreadyReceived;
exports.throwInvalidBirthDateForNatalidade = throwInvalidBirthDateForNatalidade;
exports.throwAluguelAlreadyActive = throwAluguelAlreadyActive;
exports.throwInvalidPropertyForAluguel = throwInvalidPropertyForAluguel;
exports.throwBenefitNotFound = throwBenefitNotFound;
exports.throwInvalidWorkflowTransition = throwInvalidWorkflowTransition;
exports.throwAzureBlobUploadFailed = throwAzureBlobUploadFailed;
exports.throwEmailSendFailed = throwEmailSendFailed;
exports.throwDatabaseConnectionFailed = throwDatabaseConnectionFailed;
exports.throwPermissionDenied = throwPermissionDenied;
exports.throwDocumentRequired = throwDocumentRequired;
exports.throwApprovalDeadlineExceeded = throwApprovalDeadlineExceeded;
exports.throwForeignKeyViolation = throwForeignKeyViolation;
exports.throwUniqueConstraintViolation = throwUniqueConstraintViolation;
exports.throwRateLimitExceeded = throwRateLimitExceeded;
exports.throwMaintenanceMode = throwMaintenanceMode;
exports.throwFromPostgresError = throwFromPostgresError;
const AppError_1 = require("./AppError");
// ========================================
// HELPERS PARA VALIDAÇÕES
// ========================================
/**
 * Lança erro de CPF inválido
 */
function throwInvalidCpf(cpf, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('VALIDATIONS_CPF_INVALID', {
        ...context,
        data: {
            field: 'cpf',
            value: cpf,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de CPF duplicado
 */
function throwDuplicateCpf(cpf, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('VALIDATIONS_CPF_DUPLICATE', {
        ...context,
        data: {
            field: 'cpf',
            value: cpf,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de NIS inválido
 */
function throwInvalidNis(nis, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('VALIDATIONS_NIS_INVALID', {
        ...context,
        data: {
            field: 'nis',
            value: nis,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de NIS duplicado
 */
function throwDuplicateNis(nis, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('VALIDATIONS_NIS_DUPLICATE', {
        ...context,
        data: {
            field: 'nis',
            value: nis,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de idade inválida
 */
function throwInvalidAge(age, minAge, maxAge, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('VALIDATIONS_AGE_INVALID', {
        ...context,
        data: {
            field: 'age',
            value: age,
            minAge,
            maxAge,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de renda inválida
 */
function throwInvalidIncome(income, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('VALIDATIONS_INCOME_INVALID', {
        ...context,
        data: {
            field: 'income',
            value: income,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de renda que excede limite
 */
function throwIncomeExceedsLimit(income, limit, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('VALIDATIONS_INCOME_EXCEEDS_LIMIT', {
        ...context,
        data: {
            field: 'income',
            value: income,
            limit,
            ...context.data,
        },
    }, language);
}
// ========================================
// HELPERS PARA BENEFÍCIOS
// ========================================
/**
 * Lança erro de auxílio natalidade já recebido
 */
function throwNatalidadeAlreadyReceived(citizenId, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('BENEFITS_NATALIDADE_ALREADY_RECEIVED', {
        ...context,
        data: {
            benefitType: 'NATALIDADE',
            citizenId,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de data de nascimento inválida para natalidade
 */
function throwInvalidBirthDateForNatalidade(birthDate, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('BENEFITS_NATALIDADE_BIRTH_DATE_INVALID', {
        ...context,
        data: {
            benefitType: 'NATALIDADE',
            birthDate: birthDate.toISOString(),
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de aluguel social já ativo
 */
function throwAluguelAlreadyActive(citizenId, activeBenefitId, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('BENEFITS_ALUGUEL_ALREADY_ACTIVE', {
        ...context,
        data: {
            benefitType: 'ALUGUEL_SOCIAL',
            citizenId,
            activeBenefitId,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de imóvel inválido para aluguel social
 */
function throwInvalidPropertyForAluguel(propertyInfo, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('BENEFITS_ALUGUEL_PROPERTY_INVALID', {
        ...context,
        data: {
            benefitType: 'ALUGUEL_SOCIAL',
            propertyInfo,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de benefício não encontrado
 */
function throwBenefitNotFound(benefitId, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('BENEFITS_NOT_FOUND', {
        ...context,
        data: {
            benefitId,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de transição inválida no workflow
 */
function throwInvalidWorkflowTransition(benefitId, currentStatus, targetStatus, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('BENEFITS_WORKFLOW_INVALID_TRANSITION', {
        ...context,
        data: {
            benefitId,
            currentStatus,
            targetStatus,
            ...context.data,
        },
    }, language);
}
// ========================================
// HELPERS PARA INTEGRAÇÕES
// ========================================
/**
 * Lança erro de falha no upload para Azure Blob
 */
function throwAzureBlobUploadFailed(fileName, error, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('INTEGRATIONS_AZURE_BLOB_UPLOAD_FAILED', {
        ...context,
        cause: error,
        data: {
            service: 'Azure Blob Storage',
            fileName,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de falha no envio de email
 */
function throwEmailSendFailed(recipient, error, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('INTEGRATIONS_EMAIL_SEND_FAILED', {
        ...context,
        cause: error,
        data: {
            service: 'Email Service',
            recipient,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de falha na conexão com banco de dados
 */
function throwDatabaseConnectionFailed(error, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('INTEGRATIONS_DATABASE_CONNECTION_FAILED', {
        ...context,
        cause: error,
        data: {
            service: 'Database',
            ...context.data,
        },
    }, language);
}
// ========================================
// HELPERS PARA FLUXO OPERACIONAL
// ========================================
/**
 * Lança erro de permissão negada
 */
function throwPermissionDenied(operation, userId, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('OPERATIONAL_FLOW_PERMISSION_DENIED', {
        ...context,
        userId,
        data: {
            operation,
            userId,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de documento obrigatório não fornecido
 */
function throwDocumentRequired(documentType, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('OPERATIONAL_FLOW_DOCUMENT_REQUIRED', {
        ...context,
        data: {
            documentType,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de prazo de aprovação excedido
 */
function throwApprovalDeadlineExceeded(benefitId, deadline, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('OPERATIONAL_FLOW_APPROVAL_DEADLINE_EXCEEDED', {
        ...context,
        data: {
            benefitId,
            deadline: deadline.toISOString(),
            ...context.data,
        },
    }, language);
}
// ========================================
// HELPERS PARA SISTEMA
// ========================================
/**
 * Lança erro de violação de chave estrangeira
 */
function throwForeignKeyViolation(table, constraint, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('SYSTEM_FOREIGN_KEY_VIOLATION', {
        ...context,
        data: {
            table,
            constraint,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de violação de restrição de unicidade
 */
function throwUniqueConstraintViolation(table, constraint, value, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('SYSTEM_UNIQUE_CONSTRAINT_VIOLATION', {
        ...context,
        data: {
            table,
            constraint,
            value,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de limite de requisições excedido
 */
function throwRateLimitExceeded(limit, windowMs, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('SYSTEM_RATE_LIMIT_EXCEEDED', {
        ...context,
        data: {
            limit,
            windowMs,
            ...context.data,
        },
    }, language);
}
/**
 * Lança erro de sistema em manutenção
 */
function throwMaintenanceMode(estimatedEndTime, context = {}, language = 'pt-BR') {
    throw new AppError_1.AppError('SYSTEM_MAINTENANCE_MODE', {
        ...context,
        data: {
            estimatedEndTime: estimatedEndTime?.toISOString(),
            ...context.data,
        },
    }, language);
}
// ========================================
// HELPER GENÉRICO PARA POSTGRES
// ========================================
/**
 * Lança erro baseado em código PostgreSQL
 */
function throwFromPostgresError(postgresCode, error, context = {}, language = 'pt-BR') {
    throw AppError_1.AppError.fromPostgresError(postgresCode, {
        ...context,
        cause: error,
    }, language);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXHNoYXJlZFxcZXhjZXB0aW9uc1xcZXJyb3ItY2F0YWxvZ1xcaGVscGVycy50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7O0dBUUc7O0FBa0RILDBDQWlCQztBQUtELDhDQWlCQztBQUtELDBDQWlCQztBQUtELDhDQWlCQztBQUtELDBDQXFCQztBQUtELGdEQWlCQztBQUtELDBEQW1CQztBQVNELHdFQWlCQztBQUtELGdGQWlCQztBQUtELDhEQW1CQztBQUtELHdFQWlCQztBQUtELG9EQWdCQztBQUtELHdFQW9CQztBQVNELGdFQW1CQztBQUtELG9EQW1CQztBQUtELHNFQWlCQztBQVNELHNEQW1CQztBQUtELHNEQWdCQztBQUtELHNFQWtCQztBQVNELDREQWtCQztBQUtELHdFQW9CQztBQUtELHdEQWtCQztBQUtELG9EQWdCQztBQVNELHdEQWNDO0FBaG1CRCx5Q0FBb0Q7QUF5Q3BELDJDQUEyQztBQUMzQywwQkFBMEI7QUFDMUIsMkNBQTJDO0FBRTNDOztHQUVHO0FBQ0gsU0FBZ0IsZUFBZSxDQUM3QixHQUFXLEVBQ1gsVUFBa0MsRUFBRSxFQUNwQyxXQUFtQixPQUFPO0lBRTFCLE1BQU0sSUFBSSxtQkFBUSxDQUNoQix5QkFBeUIsRUFDekI7UUFDRSxHQUFHLE9BQU87UUFDVixJQUFJLEVBQUU7WUFDSixLQUFLLEVBQUUsS0FBSztZQUNaLEtBQUssRUFBRSxHQUFHO1lBQ1YsR0FBRyxPQUFPLENBQUMsSUFBSTtTQUNoQjtLQUNGLEVBQ0QsUUFBUSxDQUNULENBQUM7QUFDSixDQUFDO0FBRUQ7O0dBRUc7QUFDSCxTQUFnQixpQkFBaUIsQ0FDL0IsR0FBVyxFQUNYLFVBQWtDLEVBQUUsRUFDcEMsV0FBbUIsT0FBTztJQUUxQixNQUFNLElBQUksbUJBQVEsQ0FDaEIsMkJBQTJCLEVBQzNCO1FBQ0UsR0FBRyxPQUFPO1FBQ1YsSUFBSSxFQUFFO1lBQ0os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QixFQUN2QixVQUF3QixFQUFFLEVBQzFCLFdBQW1CLE9BQU87SUFFMUIsTUFBTSxJQUFJLG1CQUFRLENBQ2hCLHlCQUF5QixFQUN6QjtRQUNFLEdBQUcsT0FBTztRQUNWLElBQUksRUFBRTtZQUNKLGdCQUFnQixFQUFFLGdCQUFnQixFQUFFLFdBQVcsRUFBRTtZQUNqRCxHQUFHLE9BQU8sQ0FBQyxJQUFJO1NBQ2hCO0tBQ0YsRUFDRCxRQUFRLENBQ1QsQ0FBQztBQUNKLENBQUM7QUFFRCwyQ0FBMkM7QUFDM0MsZ0NBQWdDO0FBQ2hDLDJDQUEyQztBQUUzQzs7R0FFRztBQUNILFNBQWdCLHNCQUFzQixDQUNwQyxZQUFvQixFQUNwQixLQUFZLEVBQ1osVUFBd0IsRUFBRSxFQUMxQixXQUFtQixPQUFPO0lBRTFCLE1BQU0sbUJBQVEsQ0FBQyxpQkFBaUIsQ0FDOUIsWUFBWSxFQUNaO1FBQ0UsR0FBRyxPQUFPO1FBQ1YsS0FBSyxFQUFFLEtBQUs7S0FDYixFQUNELFFBQVEsQ0FDVCxDQUFDO0FBQ0osQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXGV1ZHJlXFxPbmVEcml2ZVxcRGVza3RvcFxcUHJvamV0b3NcXHBnYmVuXFxwZ2Jlbi1zZXJ2ZXJcXHNyY1xcc2hhcmVkXFxleGNlcHRpb25zXFxlcnJvci1jYXRhbG9nXFxoZWxwZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRnVuw6fDtWVzIGhlbHBlciBwYXJhIGxhbsOnYW1lbnRvIGRlIGVycm9zIHBhZHJvbml6YWRvc1xuICpcbiAqIEZvcm5lY2UgdW1hIGludGVyZmFjZSBjb252ZW5pZW50ZSBwYXJhIGxhbsOnYXIgZXJyb3MgZXNwZWPDrWZpY29zXG4gKiBkbyBjYXTDoWxvZ28gY29tIGNvbnRleHRvIGFwcm9wcmlhZG8sIGZhY2lsaXRhbmRvIG8gdXNvIGVtXG4gKiBzZXJ2acOnb3MgZSBjb250cm9sYWRvcmVzLlxuICpcbiAqIEBzZWUgZG9jcy9BRFJzL2NhdGFsb2dvLWVycm9zLm1kXG4gKi9cblxuaW1wb3J0IHsgQXBwRXJyb3IsIEVycm9yQ29udGV4dCB9IGZyb20gJy4vQXBwRXJyb3InO1xuXG4vKipcbiAqIFRpcG8gcGFyYSBkYWRvcyBkZSBjb250ZXh0byBlc3BlY8OtZmljb3MgZGUgdmFsaWRhw6fDo29cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0aW9uRXJyb3JDb250ZXh0IGV4dGVuZHMgRXJyb3JDb250ZXh0IHtcbiAgZGF0YT86IHtcbiAgICBmaWVsZD86IHN0cmluZztcbiAgICB2YWx1ZT86IGFueTtcbiAgICBjb25zdHJhaW50Pzogc3RyaW5nO1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaXBvIHBhcmEgZGFkb3MgZGUgY29udGV4dG8gZXNwZWPDrWZpY29zIGRlIGJlbmVmw61jaW9zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmVuZWZpdEVycm9yQ29udGV4dCBleHRlbmRzIEVycm9yQ29udGV4dCB7XG4gIGRhdGE/OiB7XG4gICAgYmVuZWZpdFR5cGU/OiBzdHJpbmc7XG4gICAgYmVuZWZpdElkPzogc3RyaW5nO1xuICAgIGNpdGl6ZW5JZD86IHN0cmluZztcbiAgICBjdXJyZW50U3RhdHVzPzogc3RyaW5nO1xuICAgIHRhcmdldFN0YXR1cz86IHN0cmluZztcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG4gIH07XG59XG5cbi8qKlxuICogVGlwbyBwYXJhIGRhZG9zIGRlIGNvbnRleHRvIGVzcGVjw61maWNvcyBkZSBpbnRlZ3Jhw6fDtWVzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZWdyYXRpb25FcnJvckNvbnRleHQgZXh0ZW5kcyBFcnJvckNvbnRleHQge1xuICBkYXRhPzoge1xuICAgIHNlcnZpY2U/OiBzdHJpbmc7XG4gICAgZW5kcG9pbnQ/OiBzdHJpbmc7XG4gICAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICByZXNwb25zZUJvZHk/OiBhbnk7XG4gICAgW2tleTogc3RyaW5nXTogYW55O1xuICB9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBIRUxQRVJTIFBBUkEgVkFMSURBw4fDlUVTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgQ1BGIGludsOhbGlkb1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dJbnZhbGlkQ3BmKFxuICBjcGY6IHN0cmluZyxcbiAgY29udGV4dDogVmFsaWRhdGlvbkVycm9yQ29udGV4dCA9IHt9LFxuICBsYW5ndWFnZTogc3RyaW5nID0gJ3B0LUJSJyxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEFwcEVycm9yKFxuICAgICdWQUxJREFUSU9OU19DUEZfSU5WQUxJRCcsXG4gICAge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZmllbGQ6ICdjcGYnLFxuICAgICAgICB2YWx1ZTogY3BmLFxuICAgICAgICAuLi5jb250ZXh0LmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGFuZ3VhZ2UsXG4gICk7XG59XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgQ1BGIGR1cGxpY2Fkb1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dEdXBsaWNhdGVDcGYoXG4gIGNwZjogc3RyaW5nLFxuICBjb250ZXh0OiBWYWxpZGF0aW9uRXJyb3JDb250ZXh0ID0ge30sXG4gIGxhbmd1YWdlOiBzdHJpbmcgPSAncHQtQlInLFxuKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgQXBwRXJyb3IoXG4gICAgJ1ZBTElEQVRJT05TX0NQRl9EVVBMSUNBVEUnLFxuICAgIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGZpZWxkOiAnY3BmJyxcbiAgICAgICAgdmFsdWU6IGNwZixcbiAgICAgICAgLi4uY29udGV4dC5kYXRhLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGxhbmd1YWdlLFxuICApO1xufVxuXG4vKipcbiAqIExhbsOnYSBlcnJvIGRlIE5JUyBpbnbDoWxpZG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93SW52YWxpZE5pcyhcbiAgbmlzOiBzdHJpbmcsXG4gIGNvbnRleHQ6IFZhbGlkYXRpb25FcnJvckNvbnRleHQgPSB7fSxcbiAgbGFuZ3VhZ2U6IHN0cmluZyA9ICdwdC1CUicsXG4pOiBuZXZlciB7XG4gIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAnVkFMSURBVElPTlNfTklTX0lOVkFMSUQnLFxuICAgIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGZpZWxkOiAnbmlzJyxcbiAgICAgICAgdmFsdWU6IG5pcyxcbiAgICAgICAgLi4uY29udGV4dC5kYXRhLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGxhbmd1YWdlLFxuICApO1xufVxuXG4vKipcbiAqIExhbsOnYSBlcnJvIGRlIE5JUyBkdXBsaWNhZG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93RHVwbGljYXRlTmlzKFxuICBuaXM6IHN0cmluZyxcbiAgY29udGV4dDogVmFsaWRhdGlvbkVycm9yQ29udGV4dCA9IHt9LFxuICBsYW5ndWFnZTogc3RyaW5nID0gJ3B0LUJSJyxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEFwcEVycm9yKFxuICAgICdWQUxJREFUSU9OU19OSVNfRFVQTElDQVRFJyxcbiAgICB7XG4gICAgICAuLi5jb250ZXh0LFxuICAgICAgZGF0YToge1xuICAgICAgICBmaWVsZDogJ25pcycsXG4gICAgICAgIHZhbHVlOiBuaXMsXG4gICAgICAgIC4uLmNvbnRleHQuZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYW5ndWFnZSxcbiAgKTtcbn1cblxuLyoqXG4gKiBMYW7Dp2EgZXJybyBkZSBpZGFkZSBpbnbDoWxpZGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93SW52YWxpZEFnZShcbiAgYWdlOiBudW1iZXIsXG4gIG1pbkFnZT86IG51bWJlcixcbiAgbWF4QWdlPzogbnVtYmVyLFxuICBjb250ZXh0OiBWYWxpZGF0aW9uRXJyb3JDb250ZXh0ID0ge30sXG4gIGxhbmd1YWdlOiBzdHJpbmcgPSAncHQtQlInLFxuKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgQXBwRXJyb3IoXG4gICAgJ1ZBTElEQVRJT05TX0FHRV9JTlZBTElEJyxcbiAgICB7XG4gICAgICAuLi5jb250ZXh0LFxuICAgICAgZGF0YToge1xuICAgICAgICBmaWVsZDogJ2FnZScsXG4gICAgICAgIHZhbHVlOiBhZ2UsXG4gICAgICAgIG1pbkFnZSxcbiAgICAgICAgbWF4QWdlLFxuICAgICAgICAuLi5jb250ZXh0LmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGFuZ3VhZ2UsXG4gICk7XG59XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgcmVuZGEgaW52w6FsaWRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvd0ludmFsaWRJbmNvbWUoXG4gIGluY29tZTogbnVtYmVyLFxuICBjb250ZXh0OiBWYWxpZGF0aW9uRXJyb3JDb250ZXh0ID0ge30sXG4gIGxhbmd1YWdlOiBzdHJpbmcgPSAncHQtQlInLFxuKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgQXBwRXJyb3IoXG4gICAgJ1ZBTElEQVRJT05TX0lOQ09NRV9JTlZBTElEJyxcbiAgICB7XG4gICAgICAuLi5jb250ZXh0LFxuICAgICAgZGF0YToge1xuICAgICAgICBmaWVsZDogJ2luY29tZScsXG4gICAgICAgIHZhbHVlOiBpbmNvbWUsXG4gICAgICAgIC4uLmNvbnRleHQuZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYW5ndWFnZSxcbiAgKTtcbn1cblxuLyoqXG4gKiBMYW7Dp2EgZXJybyBkZSByZW5kYSBxdWUgZXhjZWRlIGxpbWl0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dJbmNvbWVFeGNlZWRzTGltaXQoXG4gIGluY29tZTogbnVtYmVyLFxuICBsaW1pdDogbnVtYmVyLFxuICBjb250ZXh0OiBWYWxpZGF0aW9uRXJyb3JDb250ZXh0ID0ge30sXG4gIGxhbmd1YWdlOiBzdHJpbmcgPSAncHQtQlInLFxuKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgQXBwRXJyb3IoXG4gICAgJ1ZBTElEQVRJT05TX0lOQ09NRV9FWENFRURTX0xJTUlUJyxcbiAgICB7XG4gICAgICAuLi5jb250ZXh0LFxuICAgICAgZGF0YToge1xuICAgICAgICBmaWVsZDogJ2luY29tZScsXG4gICAgICAgIHZhbHVlOiBpbmNvbWUsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICAuLi5jb250ZXh0LmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGFuZ3VhZ2UsXG4gICk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEhFTFBFUlMgUEFSQSBCRU5FRsONQ0lPU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIExhbsOnYSBlcnJvIGRlIGF1eMOtbGlvIG5hdGFsaWRhZGUgasOhIHJlY2ViaWRvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvd05hdGFsaWRhZGVBbHJlYWR5UmVjZWl2ZWQoXG4gIGNpdGl6ZW5JZDogc3RyaW5nLFxuICBjb250ZXh0OiBCZW5lZml0RXJyb3JDb250ZXh0ID0ge30sXG4gIGxhbmd1YWdlOiBzdHJpbmcgPSAncHQtQlInLFxuKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgQXBwRXJyb3IoXG4gICAgJ0JFTkVGSVRTX05BVEFMSURBREVfQUxSRUFEWV9SRUNFSVZFRCcsXG4gICAge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYmVuZWZpdFR5cGU6ICdOQVRBTElEQURFJyxcbiAgICAgICAgY2l0aXplbklkLFxuICAgICAgICAuLi5jb250ZXh0LmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGFuZ3VhZ2UsXG4gICk7XG59XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgZGF0YSBkZSBuYXNjaW1lbnRvIGludsOhbGlkYSBwYXJhIG5hdGFsaWRhZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93SW52YWxpZEJpcnRoRGF0ZUZvck5hdGFsaWRhZGUoXG4gIGJpcnRoRGF0ZTogRGF0ZSxcbiAgY29udGV4dDogQmVuZWZpdEVycm9yQ29udGV4dCA9IHt9LFxuICBsYW5ndWFnZTogc3RyaW5nID0gJ3B0LUJSJyxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEFwcEVycm9yKFxuICAgICdCRU5FRklUU19OQVRBTElEQURFX0JJUlRIX0RBVEVfSU5WQUxJRCcsXG4gICAge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYmVuZWZpdFR5cGU6ICdOQVRBTElEQURFJyxcbiAgICAgICAgYmlydGhEYXRlOiBiaXJ0aERhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgLi4uY29udGV4dC5kYXRhLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGxhbmd1YWdlLFxuICApO1xufVxuXG4vKipcbiAqIExhbsOnYSBlcnJvIGRlIGFsdWd1ZWwgc29jaWFsIGrDoSBhdGl2b1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dBbHVndWVsQWxyZWFkeUFjdGl2ZShcbiAgY2l0aXplbklkOiBzdHJpbmcsXG4gIGFjdGl2ZUJlbmVmaXRJZDogc3RyaW5nLFxuICBjb250ZXh0OiBCZW5lZml0RXJyb3JDb250ZXh0ID0ge30sXG4gIGxhbmd1YWdlOiBzdHJpbmcgPSAncHQtQlInLFxuKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgQXBwRXJyb3IoXG4gICAgJ0JFTkVGSVRTX0FMVUdVRUxfQUxSRUFEWV9BQ1RJVkUnLFxuICAgIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGJlbmVmaXRUeXBlOiAnQUxVR1VFTF9TT0NJQUwnLFxuICAgICAgICBjaXRpemVuSWQsXG4gICAgICAgIGFjdGl2ZUJlbmVmaXRJZCxcbiAgICAgICAgLi4uY29udGV4dC5kYXRhLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGxhbmd1YWdlLFxuICApO1xufVxuXG4vKipcbiAqIExhbsOnYSBlcnJvIGRlIGltw7N2ZWwgaW52w6FsaWRvIHBhcmEgYWx1Z3VlbCBzb2NpYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93SW52YWxpZFByb3BlcnR5Rm9yQWx1Z3VlbChcbiAgcHJvcGVydHlJbmZvOiBhbnksXG4gIGNvbnRleHQ6IEJlbmVmaXRFcnJvckNvbnRleHQgPSB7fSxcbiAgbGFuZ3VhZ2U6IHN0cmluZyA9ICdwdC1CUicsXG4pOiBuZXZlciB7XG4gIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAnQkVORUZJVFNfQUxVR1VFTF9QUk9QRVJUWV9JTlZBTElEJyxcbiAgICB7XG4gICAgICAuLi5jb250ZXh0LFxuICAgICAgZGF0YToge1xuICAgICAgICBiZW5lZml0VHlwZTogJ0FMVUdVRUxfU09DSUFMJyxcbiAgICAgICAgcHJvcGVydHlJbmZvLFxuICAgICAgICAuLi5jb250ZXh0LmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGFuZ3VhZ2UsXG4gICk7XG59XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgYmVuZWbDrWNpbyBuw6NvIGVuY29udHJhZG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93QmVuZWZpdE5vdEZvdW5kKFxuICBiZW5lZml0SWQ6IHN0cmluZyxcbiAgY29udGV4dDogQmVuZWZpdEVycm9yQ29udGV4dCA9IHt9LFxuICBsYW5ndWFnZTogc3RyaW5nID0gJ3B0LUJSJyxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEFwcEVycm9yKFxuICAgICdCRU5FRklUU19OT1RfRk9VTkQnLFxuICAgIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGJlbmVmaXRJZCxcbiAgICAgICAgLi4uY29udGV4dC5kYXRhLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGxhbmd1YWdlLFxuICApO1xufVxuXG4vKipcbiAqIExhbsOnYSBlcnJvIGRlIHRyYW5zacOnw6NvIGludsOhbGlkYSBubyB3b3JrZmxvd1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dJbnZhbGlkV29ya2Zsb3dUcmFuc2l0aW9uKFxuICBiZW5lZml0SWQ6IHN0cmluZyxcbiAgY3VycmVudFN0YXR1czogc3RyaW5nLFxuICB0YXJnZXRTdGF0dXM6IHN0cmluZyxcbiAgY29udGV4dDogQmVuZWZpdEVycm9yQ29udGV4dCA9IHt9LFxuICBsYW5ndWFnZTogc3RyaW5nID0gJ3B0LUJSJyxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEFwcEVycm9yKFxuICAgICdCRU5FRklUU19XT1JLRkxPV19JTlZBTElEX1RSQU5TSVRJT04nLFxuICAgIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGJlbmVmaXRJZCxcbiAgICAgICAgY3VycmVudFN0YXR1cyxcbiAgICAgICAgdGFyZ2V0U3RhdHVzLFxuICAgICAgICAuLi5jb250ZXh0LmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGFuZ3VhZ2UsXG4gICk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEhFTFBFUlMgUEFSQSBJTlRFR1JBw4fDlUVTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgZmFsaGEgbm8gdXBsb2FkIHBhcmEgQXp1cmUgQmxvYlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dBenVyZUJsb2JVcGxvYWRGYWlsZWQoXG4gIGZpbGVOYW1lOiBzdHJpbmcsXG4gIGVycm9yOiBFcnJvcixcbiAgY29udGV4dDogSW50ZWdyYXRpb25FcnJvckNvbnRleHQgPSB7fSxcbiAgbGFuZ3VhZ2U6IHN0cmluZyA9ICdwdC1CUicsXG4pOiBuZXZlciB7XG4gIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAnSU5URUdSQVRJT05TX0FaVVJFX0JMT0JfVVBMT0FEX0ZBSUxFRCcsXG4gICAge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2VydmljZTogJ0F6dXJlIEJsb2IgU3RvcmFnZScsXG4gICAgICAgIGZpbGVOYW1lLFxuICAgICAgICAuLi5jb250ZXh0LmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGFuZ3VhZ2UsXG4gICk7XG59XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgZmFsaGEgbm8gZW52aW8gZGUgZW1haWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93RW1haWxTZW5kRmFpbGVkKFxuICByZWNpcGllbnQ6IHN0cmluZyxcbiAgZXJyb3I6IEVycm9yLFxuICBjb250ZXh0OiBJbnRlZ3JhdGlvbkVycm9yQ29udGV4dCA9IHt9LFxuICBsYW5ndWFnZTogc3RyaW5nID0gJ3B0LUJSJyxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEFwcEVycm9yKFxuICAgICdJTlRFR1JBVElPTlNfRU1BSUxfU0VORF9GQUlMRUQnLFxuICAgIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBjYXVzZTogZXJyb3IsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlcnZpY2U6ICdFbWFpbCBTZXJ2aWNlJyxcbiAgICAgICAgcmVjaXBpZW50LFxuICAgICAgICAuLi5jb250ZXh0LmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGFuZ3VhZ2UsXG4gICk7XG59XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgZmFsaGEgbmEgY29uZXjDo28gY29tIGJhbmNvIGRlIGRhZG9zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvd0RhdGFiYXNlQ29ubmVjdGlvbkZhaWxlZChcbiAgZXJyb3I6IEVycm9yLFxuICBjb250ZXh0OiBJbnRlZ3JhdGlvbkVycm9yQ29udGV4dCA9IHt9LFxuICBsYW5ndWFnZTogc3RyaW5nID0gJ3B0LUJSJyxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEFwcEVycm9yKFxuICAgICdJTlRFR1JBVElPTlNfREFUQUJBU0VfQ09OTkVDVElPTl9GQUlMRUQnLFxuICAgIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBjYXVzZTogZXJyb3IsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlcnZpY2U6ICdEYXRhYmFzZScsXG4gICAgICAgIC4uLmNvbnRleHQuZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYW5ndWFnZSxcbiAgKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSEVMUEVSUyBQQVJBIEZMVVhPIE9QRVJBQ0lPTkFMXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgcGVybWlzc8OjbyBuZWdhZGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93UGVybWlzc2lvbkRlbmllZChcbiAgb3BlcmF0aW9uOiBzdHJpbmcsXG4gIHVzZXJJZDogc3RyaW5nLFxuICBjb250ZXh0OiBFcnJvckNvbnRleHQgPSB7fSxcbiAgbGFuZ3VhZ2U6IHN0cmluZyA9ICdwdC1CUicsXG4pOiBuZXZlciB7XG4gIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAnT1BFUkFUSU9OQUxfRkxPV19QRVJNSVNTSU9OX0RFTklFRCcsXG4gICAge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIC4uLmNvbnRleHQuZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYW5ndWFnZSxcbiAgKTtcbn1cblxuLyoqXG4gKiBMYW7Dp2EgZXJybyBkZSBkb2N1bWVudG8gb2JyaWdhdMOzcmlvIG7Do28gZm9ybmVjaWRvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvd0RvY3VtZW50UmVxdWlyZWQoXG4gIGRvY3VtZW50VHlwZTogc3RyaW5nLFxuICBjb250ZXh0OiBFcnJvckNvbnRleHQgPSB7fSxcbiAgbGFuZ3VhZ2U6IHN0cmluZyA9ICdwdC1CUicsXG4pOiBuZXZlciB7XG4gIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAnT1BFUkFUSU9OQUxfRkxPV19ET0NVTUVOVF9SRVFVSVJFRCcsXG4gICAge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZG9jdW1lbnRUeXBlLFxuICAgICAgICAuLi5jb250ZXh0LmRhdGEsXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGFuZ3VhZ2UsXG4gICk7XG59XG5cbi8qKlxuICogTGFuw6dhIGVycm8gZGUgcHJhem8gZGUgYXByb3Zhw6fDo28gZXhjZWRpZG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93QXBwcm92YWxEZWFkbGluZUV4Y2VlZGVkKFxuICBiZW5lZml0SWQ6IHN0cmluZyxcbiAgZGVhZGxpbmU6IERhdGUsXG4gIGNvbnRleHQ6IEJlbmVmaXRFcnJvckNvbnRleHQgPSB7fSxcbiAgbGFuZ3VhZ2U6IHN0cmluZyA9ICdwdC1CUicsXG4pOiBuZXZlciB7XG4gIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAnT1BFUkFUSU9OQUxfRkxPV19BUFBST1ZBTF9ERUFETElORV9FWENFRURFRCcsXG4gICAge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYmVuZWZpdElkLFxuICAgICAgICBkZWFkbGluZTogZGVhZGxpbmUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgLi4uY29udGV4dC5kYXRhLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGxhbmd1YWdlLFxuICApO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBIRUxQRVJTIFBBUkEgU0lTVEVNQVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIExhbsOnYSBlcnJvIGRlIHZpb2xhw6fDo28gZGUgY2hhdmUgZXN0cmFuZ2VpcmFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93Rm9yZWlnbktleVZpb2xhdGlvbihcbiAgdGFibGU6IHN0cmluZyxcbiAgY29uc3RyYWludDogc3RyaW5nLFxuICBjb250ZXh0OiBFcnJvckNvbnRleHQgPSB7fSxcbiAgbGFuZ3VhZ2U6IHN0cmluZyA9ICdwdC1CUicsXG4pOiBuZXZlciB7XG4gIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAnU1lTVEVNX0ZPUkVJR05fS0VZX1ZJT0xBVElPTicsXG4gICAge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdGFibGUsXG4gICAgICAgIGNvbnN0cmFpbnQsXG4gICAgICAgIC4uLmNvbnRleHQuZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYW5ndWFnZSxcbiAgKTtcbn1cblxuLyoqXG4gKiBMYW7Dp2EgZXJybyBkZSB2aW9sYcOnw6NvIGRlIHJlc3RyacOnw6NvIGRlIHVuaWNpZGFkZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dVbmlxdWVDb25zdHJhaW50VmlvbGF0aW9uKFxuICB0YWJsZTogc3RyaW5nLFxuICBjb25zdHJhaW50OiBzdHJpbmcsXG4gIHZhbHVlOiBhbnksXG4gIGNvbnRleHQ6IEVycm9yQ29udGV4dCA9IHt9LFxuICBsYW5ndWFnZTogc3RyaW5nID0gJ3B0LUJSJyxcbik6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEFwcEVycm9yKFxuICAgICdTWVNURU1fVU5JUVVFX0NPTlNUUkFJTlRfVklPTEFUSU9OJyxcbiAgICB7XG4gICAgICAuLi5jb250ZXh0LFxuICAgICAgZGF0YToge1xuICAgICAgICB0YWJsZSxcbiAgICAgICAgY29uc3RyYWludCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIC4uLmNvbnRleHQuZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYW5ndWFnZSxcbiAgKTtcbn1cblxuLyoqXG4gKiBMYW7Dp2EgZXJybyBkZSBsaW1pdGUgZGUgcmVxdWlzacOnw7VlcyBleGNlZGlkb1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dSYXRlTGltaXRFeGNlZWRlZChcbiAgbGltaXQ6IG51bWJlcixcbiAgd2luZG93TXM6IG51bWJlcixcbiAgY29udGV4dDogRXJyb3JDb250ZXh0ID0ge30sXG4gIGxhbmd1YWdlOiBzdHJpbmcgPSAncHQtQlInLFxuKTogbmV2ZXIge1xuICB0aHJvdyBuZXcgQXBwRXJyb3IoXG4gICAgJ1NZU1RFTV9SQVRFX0xJTUlUX0VYQ0VFREVEJyxcbiAgICB7XG4gICAgICAuLi5jb250ZXh0LFxuICAgICAgZGF0YToge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgd2luZG93TXMsXG4gICAgICAgIC4uLmNvbnRleHQuZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYW5ndWFnZSxcbiAgKTtcbn1cblxuLyoqXG4gKiBMYW7Dp2EgZXJybyBkZSBzaXN0ZW1hIGVtIG1hbnV0ZW7Dp8Ojb1xuICovXG5leHBvcnQgZnVuY3Rpb24gdGhyb3dNYWludGVuYW5jZU1vZGUoXG4gIGVzdGltYXRlZEVuZFRpbWU/OiBEYXRlLFxuICBjb250ZXh0OiBFcnJvckNvbnRleHQgPSB7fSxcbiAgbGFuZ3VhZ2U6IHN0cmluZyA9ICdwdC1CUicsXG4pOiBuZXZlciB7XG4gIHRocm93IG5ldyBBcHBFcnJvcihcbiAgICAnU1lTVEVNX01BSU5URU5BTkNFX01PREUnLFxuICAgIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVzdGltYXRlZEVuZFRpbWU6IGVzdGltYXRlZEVuZFRpbWU/LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIC4uLmNvbnRleHQuZGF0YSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYW5ndWFnZSxcbiAgKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSEVMUEVSIEdFTsOJUklDTyBQQVJBIFBPU1RHUkVTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogTGFuw6dhIGVycm8gYmFzZWFkbyBlbSBjw7NkaWdvIFBvc3RncmVTUUxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm93RnJvbVBvc3RncmVzRXJyb3IoXG4gIHBvc3RncmVzQ29kZTogc3RyaW5nLFxuICBlcnJvcjogRXJyb3IsXG4gIGNvbnRleHQ6IEVycm9yQ29udGV4dCA9IHt9LFxuICBsYW5ndWFnZTogc3RyaW5nID0gJ3B0LUJSJyxcbik6IG5ldmVyIHtcbiAgdGhyb3cgQXBwRXJyb3IuZnJvbVBvc3RncmVzRXJyb3IoXG4gICAgcG9zdGdyZXNDb2RlLFxuICAgIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBjYXVzZTogZXJyb3IsXG4gICAgfSxcbiAgICBsYW5ndWFnZSxcbiAgKTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==