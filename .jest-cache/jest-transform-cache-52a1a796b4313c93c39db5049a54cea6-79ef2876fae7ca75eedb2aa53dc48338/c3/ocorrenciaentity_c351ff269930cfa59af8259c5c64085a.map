{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\ocorrencia.entity.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\ocorrencia.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  CreateDateColumn,\n  UpdateDateColumn,\n  DeleteDateColumn,\n  ManyToOne,\n  JoinColumn,\n  Index,\n} from 'typeorm';\nimport { IsNotEmpty, IsOptional } from 'class-validator';\nimport { Usuario } from './usuario.entity';\nimport { Cidadao } from './cidadao.entity';\nimport { Solicitacao } from './solicitacao.entity';\nimport { DemandaMotivo } from './demanda-motivo.entity';\n\nexport enum TipoOcorrencia {\n  DENUNCIA = 'denuncia',\n  RECLAMACAO = 'reclamacao',\n  SUGESTAO = 'sugestao',\n  ELOGIO = 'elogio',\n  INFORMACAO = 'informacao',\n  IRREGULARIDADE = 'irregularidade',\n  OUTRO = 'outro',\n}\n\nexport enum StatusOcorrencia {\n  ABERTA = 'aberta',\n  EM_ANALISE = 'em_analise',\n  RESOLVIDA = 'resolvida',\n  CONCLUIDA = 'concluida',\n  CANCELADA = 'cancelada',\n}\n\n@Entity('ocorrencia')\n@Index(['cidadao_id', 'created_at'])\n@Index(['status', 'created_at'])\nexport class Ocorrencia {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column()\n  @IsNotEmpty({ message: 'Tipo de ocorrência é obrigatório' })\n  tipo: TipoOcorrencia;\n\n  @Column({ nullable: true })\n  @IsOptional()\n  cidadao_id: string;\n\n  @ManyToOne(() => Cidadao, { nullable: true })\n  @JoinColumn({ name: 'cidadao_id' })\n  cidadao: Cidadao;\n\n  @Column({ nullable: true })\n  @IsOptional()\n  solicitacao_id: string;\n\n  @ManyToOne(() => Solicitacao, { nullable: true })\n  @JoinColumn({ name: 'solicitacao_id' })\n  solicitacao: Solicitacao;\n\n  @Column()\n  @IsNotEmpty({ message: 'Título é obrigatório' })\n  titulo: string;\n\n  @Column('text')\n  @IsNotEmpty({ message: 'Descrição é obrigatória' })\n  descricao: string;\n\n  @Column()\n  @IsNotEmpty({ message: 'Registrado por é obrigatório' })\n  registrado_por_id: string;\n\n  @ManyToOne(() => Usuario)\n  @JoinColumn({ name: 'registrado_por_id' })\n  registrado_por: Usuario;\n\n  @Column({ nullable: true })\n  @IsOptional()\n  demanda_motivo_id: string;\n\n  @ManyToOne(() => DemandaMotivo, { nullable: true })\n  @JoinColumn({ name: 'demanda_motivo_id' })\n  demanda_motivo: DemandaMotivo;\n\n  @Column({\n    type: 'enum',\n    enum: StatusOcorrencia,\n    enumName: 'status_ocorrencia',\n    default: StatusOcorrencia.ABERTA,\n  })\n  status: StatusOcorrencia;\n\n  @Column({ nullable: true })\n  @IsOptional()\n  responsavel_id: string;\n\n  @ManyToOne(() => Usuario, { nullable: true })\n  @JoinColumn({ name: 'responsavel_id' })\n  responsavel: Usuario;\n\n  @Column('text', { nullable: true })\n  @IsOptional()\n  parecer: string;\n\n  @Column({ type: 'timestamp', nullable: true })\n  @IsOptional()\n  data_resolucao: Date;\n\n  @Column({ nullable: true })\n  @IsOptional()\n  prioridade: number;\n\n  @CreateDateColumn()\n  created_at: Date;\n\n  @UpdateDateColumn()\n  updated_at: Date;\n\n  @DeleteDateColumn()\n  removed_at: Date;\n  usuario_id: string;\n}\n"],"version":3}