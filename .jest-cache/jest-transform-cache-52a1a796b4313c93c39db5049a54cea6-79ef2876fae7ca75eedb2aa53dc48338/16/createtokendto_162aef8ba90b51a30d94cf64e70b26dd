cd8d938cf6eb7ca5bc954fae504a3ff6
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CreateTokenDto = void 0;
const class_validator_1 = require("class-validator");
const swagger_1 = require("@nestjs/swagger");
const class_transformer_1 = require("class-transformer");
/**
 * DTO para criação de um novo token de integrador.
 * Define os parâmetros necessários para geração de um token de acesso.
 */
class CreateTokenDto {
    nome;
    descricao;
    escopos;
    diasValidade;
    semExpiracao = false;
}
exports.CreateTokenDto = CreateTokenDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Nome do token (identificação para gestão)',
        example: 'Token para integração com Sistema Financeiro'
    }),
    (0, class_validator_1.IsNotEmpty)({ message: 'O nome do token é obrigatório' }),
    (0, class_validator_1.IsString)({ message: 'O nome do token deve ser uma string' }),
    __metadata("design:type", String)
], CreateTokenDto.prototype, "nome", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Descrição do token',
        example: 'Acesso para consulta de benefícios e cidadãos'
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'A descrição deve ser uma string' }),
    __metadata("design:type", String)
], CreateTokenDto.prototype, "descricao", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Lista de escopos de permissão para este token',
        example: ['read:cidadaos', 'read:beneficios']
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsArray)({ message: 'Os escopos devem ser um array' }),
    __metadata("design:type", Array)
], CreateTokenDto.prototype, "escopos", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Número de dias de validade do token (se não informado, o token não expira)',
        example: 365,
        minimum: 1
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_transformer_1.Type)(() => Number),
    (0, class_validator_1.IsInt)({ message: 'Os dias de validade devem ser um número inteiro' }),
    (0, class_validator_1.Min)(1, { message: 'Os dias de validade devem ser maior que zero' }),
    __metadata("design:type", Number)
], CreateTokenDto.prototype, "diasValidade", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Indica se o token deve ser criado sem expiração',
        example: false,
        default: false
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo semExpiracao deve ser um booleano' }),
    __metadata("design:type", Boolean)
], CreateTokenDto.prototype, "semExpiracao", void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGludGVncmFkb3JcXGR0b1xcY3JlYXRlLXRva2VuLmR0by50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxxREFBbUc7QUFDbkcsNkNBQW1FO0FBQ25FLHlEQUF5QztBQUV6Qzs7O0dBR0c7QUFDSCxNQUFhLGNBQWM7SUFPekIsSUFBSSxDQUFTO0lBUWIsU0FBUyxDQUFVO0lBUW5CLE9BQU8sQ0FBWTtJQVduQixZQUFZLENBQVU7SUFTdEIsWUFBWSxHQUFhLEtBQUssQ0FBQztDQUNoQztBQTVDRCx3Q0E0Q0M7QUFyQ0M7SUFOQyxJQUFBLHFCQUFXLEVBQUM7UUFDWCxXQUFXLEVBQUUsMkNBQTJDO1FBQ3hELE9BQU8sRUFBRSw4Q0FBOEM7S0FDeEQsQ0FBQztJQUNELElBQUEsNEJBQVUsRUFBQyxFQUFFLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxDQUFDO0lBQ3hELElBQUEsMEJBQVEsRUFBQyxFQUFFLE9BQU8sRUFBRSxxQ0FBcUMsRUFBRSxDQUFDOzs0Q0FDaEQ7QUFRYjtJQU5DLElBQUEsNkJBQW1CLEVBQUM7UUFDbkIsV0FBVyxFQUFFLG9CQUFvQjtRQUNqQyxPQUFPLEVBQUUsK0NBQStDO0tBQ3pELENBQUM7SUFDRCxJQUFBLDRCQUFVLEdBQUU7SUFDWixJQUFBLDBCQUFRLEVBQUMsRUFBRSxPQUFPLEVBQUUsaUNBQWlDLEVBQUUsQ0FBQzs7aURBQ3RDO0FBUW5CO0lBTkMsSUFBQSw2QkFBbUIsRUFBQztRQUNuQixXQUFXLEVBQUUsK0NBQStDO1FBQzVELE9BQU8sRUFBRSxDQUFDLGVBQWUsRUFBRSxpQkFBaUIsQ0FBQztLQUM5QyxDQUFDO0lBQ0QsSUFBQSw0QkFBVSxHQUFFO0lBQ1osSUFBQSx5QkFBTyxFQUFDLEVBQUUsT0FBTyxFQUFFLCtCQUErQixFQUFFLENBQUM7OytDQUNuQztBQVduQjtJQVRDLElBQUEsNkJBQW1CLEVBQUM7UUFDbkIsV0FBVyxFQUFFLDRFQUE0RTtRQUN6RixPQUFPLEVBQUUsR0FBRztRQUNaLE9BQU8sRUFBRSxDQUFDO0tBQ1gsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTtJQUNaLElBQUEsd0JBQUksRUFBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUM7SUFDbEIsSUFBQSx1QkFBSyxFQUFDLEVBQUUsT0FBTyxFQUFFLGlEQUFpRCxFQUFFLENBQUM7SUFDckUsSUFBQSxxQkFBRyxFQUFDLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSw4Q0FBOEMsRUFBRSxDQUFDOztvREFDOUM7QUFTdEI7SUFQQyxJQUFBLDZCQUFtQixFQUFDO1FBQ25CLFdBQVcsRUFBRSxpREFBaUQ7UUFDOUQsT0FBTyxFQUFFLEtBQUs7UUFDZCxPQUFPLEVBQUUsS0FBSztLQUNmLENBQUM7SUFDRCxJQUFBLDRCQUFVLEdBQUU7SUFDWixJQUFBLDJCQUFTLEVBQUMsRUFBRSxPQUFPLEVBQUUsMkNBQTJDLEVBQUUsQ0FBQzs7b0RBQ3JDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZXVkcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZXRvc1xccGdiZW5cXHBnYmVuLXNlcnZlclxcc3JjXFxtb2R1bGVzXFxpbnRlZ3JhZG9yXFxkdG9cXGNyZWF0ZS10b2tlbi5kdG8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSXNOb3RFbXB0eSwgSXNTdHJpbmcsIElzT3B0aW9uYWwsIElzQXJyYXksIElzSW50LCBNaW4sIElzQm9vbGVhbiB9IGZyb20gJ2NsYXNzLXZhbGlkYXRvcic7XG5pbXBvcnQgeyBBcGlQcm9wZXJ0eSwgQXBpUHJvcGVydHlPcHRpb25hbCB9IGZyb20gJ0BuZXN0anMvc3dhZ2dlcic7XG5pbXBvcnQgeyBUeXBlIH0gZnJvbSAnY2xhc3MtdHJhbnNmb3JtZXInO1xuXG4vKipcbiAqIERUTyBwYXJhIGNyaWHDp8OjbyBkZSB1bSBub3ZvIHRva2VuIGRlIGludGVncmFkb3IuXG4gKiBEZWZpbmUgb3MgcGFyw6JtZXRyb3MgbmVjZXNzw6FyaW9zIHBhcmEgZ2VyYcOnw6NvIGRlIHVtIHRva2VuIGRlIGFjZXNzby5cbiAqL1xuZXhwb3J0IGNsYXNzIENyZWF0ZVRva2VuRHRvIHtcbiAgQEFwaVByb3BlcnR5KHsgXG4gICAgZGVzY3JpcHRpb246ICdOb21lIGRvIHRva2VuIChpZGVudGlmaWNhw6fDo28gcGFyYSBnZXN0w6NvKScsXG4gICAgZXhhbXBsZTogJ1Rva2VuIHBhcmEgaW50ZWdyYcOnw6NvIGNvbSBTaXN0ZW1hIEZpbmFuY2Vpcm8nXG4gIH0pXG4gIEBJc05vdEVtcHR5KHsgbWVzc2FnZTogJ08gbm9tZSBkbyB0b2tlbiDDqSBvYnJpZ2F0w7NyaW8nIH0pXG4gIEBJc1N0cmluZyh7IG1lc3NhZ2U6ICdPIG5vbWUgZG8gdG9rZW4gZGV2ZSBzZXIgdW1hIHN0cmluZycgfSlcbiAgbm9tZTogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eU9wdGlvbmFsKHsgXG4gICAgZGVzY3JpcHRpb246ICdEZXNjcmnDp8OjbyBkbyB0b2tlbicsXG4gICAgZXhhbXBsZTogJ0FjZXNzbyBwYXJhIGNvbnN1bHRhIGRlIGJlbmVmw61jaW9zIGUgY2lkYWTDo29zJyBcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnQSBkZXNjcmnDp8OjbyBkZXZlIHNlciB1bWEgc3RyaW5nJyB9KVxuICBkZXNjcmljYW8/OiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoeyBcbiAgICBkZXNjcmlwdGlvbjogJ0xpc3RhIGRlIGVzY29wb3MgZGUgcGVybWlzc8OjbyBwYXJhIGVzdGUgdG9rZW4nLFxuICAgIGV4YW1wbGU6IFsncmVhZDpjaWRhZGFvcycsICdyZWFkOmJlbmVmaWNpb3MnXVxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0FycmF5KHsgbWVzc2FnZTogJ09zIGVzY29wb3MgZGV2ZW0gc2VyIHVtIGFycmF5JyB9KVxuICBlc2NvcG9zPzogc3RyaW5nW107XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoeyBcbiAgICBkZXNjcmlwdGlvbjogJ07Dum1lcm8gZGUgZGlhcyBkZSB2YWxpZGFkZSBkbyB0b2tlbiAoc2UgbsOjbyBpbmZvcm1hZG8sIG8gdG9rZW4gbsOjbyBleHBpcmEpJyxcbiAgICBleGFtcGxlOiAzNjUsXG4gICAgbWluaW11bTogMVxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBUeXBlKCgpID0+IE51bWJlcilcbiAgQElzSW50KHsgbWVzc2FnZTogJ09zIGRpYXMgZGUgdmFsaWRhZGUgZGV2ZW0gc2VyIHVtIG7Dum1lcm8gaW50ZWlybycgfSlcbiAgQE1pbigxLCB7IG1lc3NhZ2U6ICdPcyBkaWFzIGRlIHZhbGlkYWRlIGRldmVtIHNlciBtYWlvciBxdWUgemVybycgfSlcbiAgZGlhc1ZhbGlkYWRlPzogbnVtYmVyO1xuXG4gIEBBcGlQcm9wZXJ0eU9wdGlvbmFsKHsgXG4gICAgZGVzY3JpcHRpb246ICdJbmRpY2Egc2UgbyB0b2tlbiBkZXZlIHNlciBjcmlhZG8gc2VtIGV4cGlyYcOnw6NvJyxcbiAgICBleGFtcGxlOiBmYWxzZSxcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0Jvb2xlYW4oeyBtZXNzYWdlOiAnTyBjYW1wbyBzZW1FeHBpcmFjYW8gZGV2ZSBzZXIgdW0gYm9vbGVhbm8nIH0pXG4gIHNlbUV4cGlyYWNhbz86IGJvb2xlYW4gPSBmYWxzZTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==