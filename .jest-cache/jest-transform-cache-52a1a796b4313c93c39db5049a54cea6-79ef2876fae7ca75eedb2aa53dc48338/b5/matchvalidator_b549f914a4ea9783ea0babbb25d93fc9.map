{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\shared\\validators\\match.validator.ts","mappings":";;;;;;;;;AA6CA,sBAUC;AAvDD,qDAMyB;AAEzB;;;;GAIG;AAEI,IAAM,cAAc,GAApB,MAAM,cAAc;IACzB,QAAQ,CAAC,KAAU,EAAE,IAAyB;QAC5C,MAAM,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;QAC/C,MAAM,YAAY,GAAI,IAAI,CAAC,MAAc,CAAC,mBAAmB,CAAC,CAAC;QAC/D,OAAO,KAAK,KAAK,YAAY,CAAC;IAChC,CAAC;IAED,cAAc,CAAC,IAAyB;QACtC,MAAM,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;QAC/C,OAAO,GAAG,IAAI,CAAC,QAAQ,qBAAqB,mBAAmB,EAAE,CAAC;IACpE,CAAC;CACF,CAAA;AAXY,wCAAc;yBAAd,cAAc;IAD1B,IAAA,qCAAmB,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;GACxC,cAAc,CAW1B;AAED;;;;;;;;;;;;;;;;;GAiBG;AACH,SAAgB,KAAK,CAAC,QAAgB,EAAE,iBAAqC;IAC3E,OAAO,UAAU,MAAc,EAAE,YAAoB;QACnD,IAAA,mCAAiB,EAAC;YAChB,MAAM,EAAE,MAAM,CAAC,WAAW;YAC1B,YAAY,EAAE,YAAY;YAC1B,OAAO,EAAE,iBAAiB;YAC1B,WAAW,EAAE,CAAC,QAAQ,CAAC;YACvB,SAAS,EAAE,cAAc;SAC1B,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\shared\\validators\\match.validator.ts"],"sourcesContent":["import {\n  ValidatorConstraint,\n  ValidatorConstraintInterface,\n  ValidationArguments,\n  ValidationOptions,\n  registerDecorator,\n} from 'class-validator';\n\n/**\n * Validador para verificar se dois campos possuem o mesmo valor\n *\n * Útil para confirmação de senhas, emails, etc.\n */\n@ValidatorConstraint({ name: 'match', async: false })\nexport class MatchValidator implements ValidatorConstraintInterface {\n  validate(value: any, args: ValidationArguments) {\n    const [relatedPropertyName] = args.constraints;\n    const relatedValue = (args.object as any)[relatedPropertyName];\n    return value === relatedValue;\n  }\n\n  defaultMessage(args: ValidationArguments) {\n    const [relatedPropertyName] = args.constraints;\n    return `${args.property} deve ser igual a ${relatedPropertyName}`;\n  }\n}\n\n/**\n * Decorator para validar se dois campos possuem o mesmo valor\n *\n * @param property - Nome da propriedade que deve ter o mesmo valor\n * @param validationOptions - Opções de validação\n *\n * @example\n * ```typescript\n * export class AlterarSenhaDto {\n *   @IsString()\n *   novaSenha: string;\n *\n *   @IsString()\n *   @Match('novaSenha', { message: 'As senhas não coincidem' })\n *   confirmarSenha: string;\n * }\n * ```\n */\nexport function Match(property: string, validationOptions?: ValidationOptions) {\n  return function (object: Object, propertyName: string) {\n    registerDecorator({\n      target: object.constructor,\n      propertyName: propertyName,\n      options: validationOptions,\n      constraints: [property],\n      validator: MatchValidator,\n    });\n  };\n}\n"],"version":3}