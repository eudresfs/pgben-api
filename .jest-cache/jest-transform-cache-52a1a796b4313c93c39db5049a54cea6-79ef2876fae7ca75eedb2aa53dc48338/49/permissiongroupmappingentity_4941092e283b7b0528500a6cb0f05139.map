{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\permission-group-mapping.entity.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\permission-group-mapping.entity.ts"],"sourcesContent":["import {\n  Column,\n  CreateDateColumn,\n  Entity,\n  JoinColumn,\n  ManyToOne,\n  PrimaryGeneratedColumn,\n  Index,\n} from 'typeorm';\nimport { IsNotEmpty, IsUUID, IsOptional } from 'class-validator';\nimport { Permission } from './permission.entity';\nimport { PermissionGroup } from './permission-group.entity';\nimport { Usuario } from './usuario.entity';\n\n/**\n * Entidade que representa o relacionamento muitos-para-muitos entre permissões e grupos.\n *\n * Esta entidade permite associar permissões a grupos, facilitando a organização\n * e atribuição de permissões relacionadas.\n */\n@Entity('mapeamento_grupo_permissao')\n@Index(['permissao_id', 'grupo_id'], { unique: true })\n@Index(['permissao_id'])\n@Index(['grupo_id'])\n@Index(['criado_por'])\n@Index(['created_at'])\nexport class PermissionGroupMapping {\n  /**\n   * Identificador único do mapeamento\n   */\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  /**\n   * Referência à permissão\n   */\n  @Column({ type: 'uuid', name: 'permissao_id' })\n  @IsNotEmpty({ message: 'ID da permissão é obrigatório' })\n  @IsUUID('4', { message: 'ID da permissão inválido' })\n  permissao_id: string;\n\n  /**\n   * Relação com a permissão\n   */\n  @ManyToOne(() => Permission, { onDelete: 'CASCADE' })\n  @JoinColumn({ name: 'permissao_id' })\n  permissao: Permission;\n\n  /**\n   * Referência ao grupo\n   */\n  @Column({ type: 'uuid', name: 'grupo_id' })\n  @IsNotEmpty({ message: 'ID do grupo é obrigatório' })\n  @IsUUID('4', { message: 'ID do grupo inválido' })\n  grupo_id: string;\n\n  /**\n   * Relação com o grupo\n   */\n  @ManyToOne(() => PermissionGroup, { onDelete: 'CASCADE' })\n  @JoinColumn({ name: 'grupo_id' })\n  grupo: PermissionGroup;\n\n  /**\n   * Data de criação\n   */\n  @CreateDateColumn({ name: 'created_at' })\n  created_at: Date;\n\n  /**\n   * Usuário que criou o mapeamento\n   */\n  @Column({ type: 'uuid', nullable: true, name: 'criado_por' })\n  @IsOptional()\n  @IsUUID('4', { message: 'ID do criador inválido' })\n  criado_por: string | null;\n\n  /**\n   * Relação com o usuário que criou o mapeamento\n   */\n  @ManyToOne(() => Usuario, { nullable: true })\n  @JoinColumn({ name: 'criado_por' })\n  usuario_criador: Usuario | null;\n\n  // Getters e setters para compatibilidade com código existente\n  get permissionId(): string {\n    return this.permissao_id;\n  }\n\n  set permissionId(value: string) {\n    this.permissao_id = value;\n  }\n\n  get permission(): Permission {\n    return this.permissao;\n  }\n\n  set permission(value: Permission) {\n    this.permissao = value;\n  }\n\n  get groupId(): string {\n    return this.grupo_id;\n  }\n\n  set groupId(value: string) {\n    this.grupo_id = value;\n  }\n\n  get group(): PermissionGroup {\n    return this.grupo;\n  }\n\n  set group(value: PermissionGroup) {\n    this.grupo = value;\n  }\n\n  get createdAt(): Date {\n    return this.created_at;\n  }\n\n  get createdBy(): string | null {\n    return this.criado_por;\n  }\n\n  set createdBy(value: string | null) {\n    this.criado_por = value;\n  }\n\n  /**\n   * Verifica se o mapeamento foi criado por um usuário específico\n   * @param usuarioId ID do usuário\n   * @returns true se foi criado pelo usuário\n   */\n  foiCriadoPor(usuarioId: string): boolean {\n    return this.criado_por === usuarioId;\n  }\n\n  /**\n   * Obtém uma chave única para o mapeamento\n   * @returns chave única baseada em permissão e grupo\n   */\n  getUniqueKey(): string {\n    return `${this.permissao_id}:${this.grupo_id}`;\n  }\n\n  /**\n   * Verifica se o mapeamento é válido\n   * @returns true se tem permissão e grupo válidos\n   */\n  isValido(): boolean {\n    return !!(this.permissao_id && this.grupo_id);\n  }\n\n  /**\n   * Define o criador do mapeamento\n   * @param usuarioId ID do usuário criador\n   */\n  definirCriador(usuarioId: string): void {\n    this.criado_por = usuarioId;\n  }\n\n  /**\n   * Verifica se o mapeamento pertence a um grupo específico\n   * @param grupoId ID do grupo\n   * @returns true se pertence ao grupo\n   */\n  pertenceAoGrupo(grupoId: string): boolean {\n    return this.grupo_id === grupoId;\n  }\n\n  /**\n   * Verifica se o mapeamento contém uma permissão específica\n   * @param permissaoId ID da permissão\n   * @returns true se contém a permissão\n   */\n  contemPermissao(permissaoId: string): boolean {\n    return this.permissao_id === permissaoId;\n  }\n\n  /**\n   * Verifica se o mapeamento foi criado recentemente (últimas 24 horas)\n   * @returns true se foi criado recentemente\n   */\n  isCriadoRecentemente(): boolean {\n    if (!this.created_at) return false;\n\n    const agora = new Date();\n    const umDiaAtras = new Date(agora.getTime() - 24 * 60 * 60 * 1000);\n\n    return this.created_at > umDiaAtras;\n  }\n\n  /**\n   * Calcula a idade do mapeamento em dias\n   * @returns idade em dias\n   */\n  getIdadeEmDias(): number {\n    if (!this.created_at) return 0;\n\n    const agora = new Date();\n    const diffTime = Math.abs(agora.getTime() - this.created_at.getTime());\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n    return diffDays;\n  }\n\n  /**\n   * Verifica se o mapeamento tem criador definido\n   * @returns true se tem criador\n   */\n  temCriador(): boolean {\n    return !!this.criado_por;\n  }\n\n  /**\n   * Obtém informações resumidas do mapeamento\n   * @returns objeto com informações resumidas\n   */\n  getSummary(): {\n    id: string;\n    permissao_id: string;\n    grupo_id: string;\n    criado_por: string | null;\n    created_at: Date;\n    idadeEmDias: number;\n    permissaoNome?: string;\n    grupoNome?: string;\n  } {\n    return {\n      id: this.id,\n      permissao_id: this.permissao_id,\n      grupo_id: this.grupo_id,\n      criado_por: this.criado_por,\n      created_at: this.created_at,\n      idadeEmDias: this.getIdadeEmDias(),\n      permissaoNome: this.permissao?.nome,\n      grupoNome: this.grupo?.nome,\n    };\n  }\n\n  /**\n   * Verifica se o mapeamento é compatível com outro mapeamento\n   * @param otherMapping Outro mapeamento\n   * @returns true se são compatíveis (mesmo grupo)\n   */\n  isCompatibleWith(otherMapping: PermissionGroupMapping): boolean {\n    return this.grupo_id === otherMapping.grupo_id;\n  }\n\n  /**\n   * Gera uma chave única estendida para o mapeamento\n   * @returns chave única estendida\n   */\n  getExtendedUniqueKey(): string {\n    return `permission_group_mapping_${this.permissao_id}_${this.grupo_id}_${this.id}`;\n  }\n\n  /**\n   * Verifica se o mapeamento está em estado consistente\n   * @returns true se está consistente\n   */\n  isConsistente(): boolean {\n    return (\n      !!this.id && !!this.permissao_id && !!this.grupo_id && !!this.created_at\n    );\n  }\n\n  /**\n   * Obtém uma descrição legível do mapeamento\n   * @returns descrição formatada\n   */\n  getDescricao(): string {\n    const permissaoNome = this.permissao?.nome || 'Permissão não carregada';\n    const grupoNome = this.grupo?.nome || 'Grupo não carregado';\n    return `Grupo \"${grupoNome}\" -> Permissão: ${permissaoNome}`;\n  }\n\n  /**\n   * Verifica se o mapeamento pode ser removido\n   * @returns true se pode ser removido\n   */\n  podeSerRemovido(): boolean {\n    // Por padrão, todos os mapeamentos podem ser removidos\n    // Esta lógica pode ser expandida conforme regras de negócio\n    return true;\n  }\n\n  /**\n   * Clona o mapeamento (sem ID e data)\n   * @returns mapeamento clonado\n   */\n  clone(): Partial<PermissionGroupMapping> {\n    return {\n      permissao_id: this.permissao_id,\n      grupo_id: this.grupo_id,\n      criado_por: this.criado_por,\n    };\n  }\n\n  /**\n   * Verifica se o mapeamento é para uma permissão de administrador\n   * @returns true se é permissão de admin\n   */\n  isAdminPermission(): boolean {\n    return this.permissao?.isAdminPermission() || false;\n  }\n\n  /**\n   * Verifica se o mapeamento é para uma permissão de sistema\n   * @returns true se é permissão de sistema\n   */\n  isSystemPermission(): boolean {\n    return this.permissao?.isSystemPermission() || false;\n  }\n\n  /**\n   * Obtém o nível de criticidade baseado na permissão\n   * @returns nível de criticidade\n   */\n  getCriticalityLevel(): 'LOW' | 'MEDIUM' | 'HIGH' | 'CRITICAL' {\n    return this.permissao?.getCriticalityLevel() || 'LOW';\n  }\n\n  /**\n   * Verifica se o grupo está ativo\n   * @returns true se o grupo está ativo\n   */\n  isGrupoAtivo(): boolean {\n    return this.grupo?.isAtivo() || false;\n  }\n\n  /**\n   * Verifica se a permissão está ativa\n   * @returns true se a permissão está ativa\n   */\n  isPermissaoAtiva(): boolean {\n    return this.permissao?.isAtiva() || false;\n  }\n\n  /**\n   * Verifica se tanto o grupo quanto a permissão estão ativos\n   * @returns true se ambos estão ativos\n   */\n  isAtivo(): boolean {\n    return this.isGrupoAtivo() && this.isPermissaoAtiva();\n  }\n\n  /**\n   * Formata a data de criação para exibição\n   * @returns data formatada\n   */\n  getCriacaoFormatada(): string {\n    return this.created_at.toLocaleString('pt-BR', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  }\n\n  /**\n   * Remove informações sensíveis para logs\n   * @returns objeto sanitizado\n   */\n  toSafeLog(): {\n    id: string;\n    permissao_id: string;\n    grupo_id: string;\n    criado_por: string | null;\n    created_at: Date;\n    isAtivo: boolean;\n    criticalityLevel: string;\n  } {\n    return {\n      id: this.id,\n      permissao_id: this.permissao_id,\n      grupo_id: this.grupo_id,\n      criado_por: this.criado_por,\n      created_at: this.created_at,\n      isAtivo: this.isAtivo(),\n      criticalityLevel: this.getCriticalityLevel(),\n    };\n  }\n}\n"],"version":3}