8443028ad7027369d4af835d40e7c623
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var _a, _b, _c, _d, _e, _f, _g, _h;
Object.defineProperty(exports, "__esModule", { value: true });
exports.DadosCestaBasicaController = void 0;
const common_1 = require("@nestjs/common");
const swagger_1 = require("@nestjs/swagger");
const jwt_auth_guard_1 = require("../../../auth/guards/jwt-auth.guard");
const roles_guard_1 = require("../../../auth/guards/roles.guard");
const dados_cesta_basica_service_1 = require("../services/dados-cesta-basica.service");
const create_dados_cesta_basica_dto_1 = require("../dto/create-dados-cesta-basica.dto");
const dados_cesta_basica_entity_1 = require("../../../entities/dados-cesta-basica.entity");
/**
 * Controlador para gerenciar dados específicos da Cesta Básica
 */
let DadosCestaBasicaController = class DadosCestaBasicaController {
    dadosCestaBasicaService;
    constructor(dadosCestaBasicaService) {
        this.dadosCestaBasicaService = dadosCestaBasicaService;
    }
    /**
     * Criar dados de cesta básica para uma solicitação
     */
    async create(createDto) {
        return this.dadosCestaBasicaService.create(createDto);
    }
    /**
     * Buscar dados de cesta básica por ID
     */
    async findOne(id) {
        return this.dadosCestaBasicaService.findOne(id);
    }
    /**
     * Buscar dados de cesta básica por solicitação
     */
    async findBySolicitacao(solicitacaoId) {
        return this.dadosCestaBasicaService.findBySolicitacao(solicitacaoId);
    }
    /**
     * Atualizar dados de cesta básica
     */
    async update(id, updateDto) {
        return this.dadosCestaBasicaService.update(id, updateDto);
    }
    /**
     * Remover dados de cesta básica
     */
    async remove(id) {
        return this.dadosCestaBasicaService.remove(id);
    }
};
exports.DadosCestaBasicaController = DadosCestaBasicaController;
__decorate([
    (0, common_1.Post)(),
    (0, swagger_1.ApiOperation)({
        summary: 'Criar dados de cesta básica',
        description: 'Cria dados específicos para solicitação de Cesta Básica',
    }),
    (0, swagger_1.ApiBody)({ type: create_dados_cesta_basica_dto_1.CreateDadosCestaBasicaDto }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.CREATED,
        description: 'Dados de cesta básica criados com sucesso',
        type: dados_cesta_basica_entity_1.DadosCestaBasica,
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.BAD_REQUEST,
        description: 'Dados inválidos fornecidos',
    }),
    __param(0, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [typeof (_b = typeof create_dados_cesta_basica_dto_1.CreateDadosCestaBasicaDto !== "undefined" && create_dados_cesta_basica_dto_1.CreateDadosCestaBasicaDto) === "function" ? _b : Object]),
    __metadata("design:returntype", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], DadosCestaBasicaController.prototype, "create", null);
__decorate([
    (0, common_1.Get)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Buscar dados de cesta básica por ID',
        description: 'Retorna os dados de cesta básica específicos pelo ID',
    }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'ID dos dados de cesta básica' }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.OK,
        description: 'Dados de cesta básica encontrados',
        type: dados_cesta_basica_entity_1.DadosCestaBasica,
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NOT_FOUND,
        description: 'Dados de cesta básica não encontrados',
    }),
    __param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], DadosCestaBasicaController.prototype, "findOne", null);
__decorate([
    (0, common_1.Get)('solicitacao/:solicitacaoId'),
    (0, swagger_1.ApiOperation)({
        summary: 'Buscar dados de cesta básica por solicitação',
        description: 'Retorna os dados de cesta básica de uma solicitação específica',
    }),
    (0, swagger_1.ApiParam)({ name: 'solicitacaoId', description: 'ID da solicitação' }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.OK,
        description: 'Dados de cesta básica encontrados',
        type: dados_cesta_basica_entity_1.DadosCestaBasica,
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NOT_FOUND,
        description: 'Dados de cesta básica não encontrados para esta solicitação',
    }),
    __param(0, (0, common_1.Param)('solicitacaoId', common_1.ParseUUIDPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_e = typeof Promise !== "undefined" && Promise) === "function" ? _e : Object)
], DadosCestaBasicaController.prototype, "findBySolicitacao", null);
__decorate([
    (0, common_1.Patch)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Atualizar dados de cesta básica',
        description: 'Atualiza dados específicos de uma solicitação de Cesta Básica',
    }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'ID dos dados de cesta básica' }),
    (0, swagger_1.ApiBody)({ type: create_dados_cesta_basica_dto_1.UpdateDadosCestaBasicaDto }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.OK,
        description: 'Dados de cesta básica atualizados com sucesso',
        type: dados_cesta_basica_entity_1.DadosCestaBasica,
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NOT_FOUND,
        description: 'Dados de cesta básica não encontrados',
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.BAD_REQUEST,
        description: 'Dados inválidos fornecidos',
    }),
    __param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, typeof (_f = typeof create_dados_cesta_basica_dto_1.UpdateDadosCestaBasicaDto !== "undefined" && create_dados_cesta_basica_dto_1.UpdateDadosCestaBasicaDto) === "function" ? _f : Object]),
    __metadata("design:returntype", typeof (_g = typeof Promise !== "undefined" && Promise) === "function" ? _g : Object)
], DadosCestaBasicaController.prototype, "update", null);
__decorate([
    (0, common_1.Delete)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Remover dados de cesta básica',
        description: 'Remove dados específicos de cesta básica (apenas administradores)',
    }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'ID dos dados de cesta básica' }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NO_CONTENT,
        description: 'Dados de cesta básica removidos com sucesso',
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NOT_FOUND,
        description: 'Dados de cesta básica não encontrados',
    }),
    __param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_h = typeof Promise !== "undefined" && Promise) === "function" ? _h : Object)
], DadosCestaBasicaController.prototype, "remove", null);
exports.DadosCestaBasicaController = DadosCestaBasicaController = __decorate([
    (0, swagger_1.ApiTags)('Benefícios'),
    (0, common_1.Controller)('dados-cesta-basica'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, swagger_1.ApiBearerAuth)(),
    __metadata("design:paramtypes", [typeof (_a = typeof dados_cesta_basica_service_1.DadosCestaBasicaService !== "undefined" && dados_cesta_basica_service_1.DadosCestaBasicaService) === "function" ? _a : Object])
], DadosCestaBasicaController);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGJlbmVmaWNpb1xcY29udHJvbGxlcnNcXGRhZG9zLWNlc3RhLWJhc2ljYS5jb250cm9sbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FXd0I7QUFDeEIsNkNBT3lCO0FBQ3pCLHdFQUFtRTtBQUNuRSxrRUFBOEQ7QUFHOUQsdUZBQWlGO0FBQ2pGLHdGQUc4QztBQUM5QywyRkFBK0U7QUFFL0U7O0dBRUc7QUFLSSxJQUFNLDBCQUEwQixHQUFoQyxNQUFNLDBCQUEwQjtJQUVsQjtJQURuQixZQUNtQix1QkFBZ0Q7UUFBaEQsNEJBQXVCLEdBQXZCLHVCQUF1QixDQUF5QjtJQUNoRSxDQUFDO0lBRUo7O09BRUc7SUFnQkcsQUFBTixLQUFLLENBQUMsTUFBTSxDQUNGLFNBQW9DO1FBRTVDLE9BQU8sSUFBSSxDQUFDLHVCQUF1QixDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQ7O09BRUc7SUFnQkcsQUFBTixLQUFLLENBQUMsT0FBTyxDQUNpQixFQUFVO1FBRXRDLE9BQU8sSUFBSSxDQUFDLHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQ7O09BRUc7SUFpQkcsQUFBTixLQUFLLENBQUMsaUJBQWlCLENBQ2tCLGFBQXFCO1FBRTVELE9BQU8sSUFBSSxDQUFDLHVCQUF1QixDQUFDLGlCQUFpQixDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRDs7T0FFRztJQXNCRyxBQUFOLEtBQUssQ0FBQyxNQUFNLENBQ2tCLEVBQVUsRUFDOUIsU0FBb0M7UUFFNUMsT0FBTyxJQUFJLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1RCxDQUFDO0lBRUQ7O09BRUc7SUFnQkcsQUFBTixLQUFLLENBQUMsTUFBTSxDQUE2QixFQUFVO1FBQ2pELE9BQU8sSUFBSSxDQUFDLHVCQUF1QixDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqRCxDQUFDO0NBQ0YsQ0FBQTtBQWxJWSxnRUFBMEI7QUF1Qi9CO0lBZkwsSUFBQSxhQUFJLEdBQUU7SUFDTixJQUFBLHNCQUFZLEVBQUM7UUFDWixPQUFPLEVBQUUsNkJBQTZCO1FBQ3RDLFdBQVcsRUFBRSx5REFBeUQ7S0FDdkUsQ0FBQztJQUNELElBQUEsaUJBQU8sRUFBQyxFQUFFLElBQUksRUFBRSx5REFBeUIsRUFBRSxDQUFDO0lBQzVDLElBQUEscUJBQVcsRUFBQztRQUNYLE1BQU0sRUFBRSxtQkFBVSxDQUFDLE9BQU87UUFDMUIsV0FBVyxFQUFFLDJDQUEyQztRQUN4RCxJQUFJLEVBQUUsNENBQWdCO0tBQ3ZCLENBQUM7SUFDRCxJQUFBLHFCQUFXLEVBQUM7UUFDWCxNQUFNLEVBQUUsbUJBQVUsQ0FBQyxXQUFXO1FBQzlCLFdBQVcsRUFBRSw0QkFBNEI7S0FDMUMsQ0FBQztJQUVDLFdBQUEsSUFBQSxhQUFJLEdBQUUsQ0FBQTs7eURBQVkseURBQXlCLG9CQUF6Qix5REFBeUI7d0RBQzNDLE9BQU8sb0JBQVAsT0FBTzt3REFFVDtBQW9CSztJQWZMLElBQUEsWUFBRyxFQUFDLEtBQUssQ0FBQztJQUNWLElBQUEsc0JBQVksRUFBQztRQUNaLE9BQU8sRUFBRSxxQ0FBcUM7UUFDOUMsV0FBVyxFQUFFLHNEQUFzRDtLQUNwRSxDQUFDO0lBQ0QsSUFBQSxrQkFBUSxFQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsOEJBQThCLEVBQUUsQ0FBQztJQUNyRSxJQUFBLHFCQUFXLEVBQUM7UUFDWCxNQUFNLEVBQUUsbUJBQVUsQ0FBQyxFQUFFO1FBQ3JCLFdBQVcsRUFBRSxtQ0FBbUM7UUFDaEQsSUFBSSxFQUFFLDRDQUFnQjtLQUN2QixDQUFDO0lBQ0QsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsTUFBTSxFQUFFLG1CQUFVLENBQUMsU0FBUztRQUM1QixXQUFXLEVBQUUsdUNBQXVDO0tBQ3JELENBQUM7SUFFQyxXQUFBLElBQUEsY0FBSyxFQUFDLElBQUksRUFBRSxzQkFBYSxDQUFDLENBQUE7Ozt3REFDMUIsT0FBTyxvQkFBUCxPQUFPO3lEQUVUO0FBcUJLO0lBaEJMLElBQUEsWUFBRyxFQUFDLDRCQUE0QixDQUFDO0lBQ2pDLElBQUEsc0JBQVksRUFBQztRQUNaLE9BQU8sRUFBRSw4Q0FBOEM7UUFDdkQsV0FBVyxFQUNULGdFQUFnRTtLQUNuRSxDQUFDO0lBQ0QsSUFBQSxrQkFBUSxFQUFDLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxXQUFXLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQztJQUNyRSxJQUFBLHFCQUFXLEVBQUM7UUFDWCxNQUFNLEVBQUUsbUJBQVUsQ0FBQyxFQUFFO1FBQ3JCLFdBQVcsRUFBRSxtQ0FBbUM7UUFDaEQsSUFBSSxFQUFFLDRDQUFnQjtLQUN2QixDQUFDO0lBQ0QsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsTUFBTSxFQUFFLG1CQUFVLENBQUMsU0FBUztRQUM1QixXQUFXLEVBQUUsNkRBQTZEO0tBQzNFLENBQUM7SUFFQyxXQUFBLElBQUEsY0FBSyxFQUFDLGVBQWUsRUFBRSxzQkFBYSxDQUFDLENBQUE7Ozt3REFDckMsT0FBTyxvQkFBUCxPQUFPO21FQUVUO0FBMEJLO0lBckJMLElBQUEsY0FBSyxFQUFDLEtBQUssQ0FBQztJQUNaLElBQUEsc0JBQVksRUFBQztRQUNaLE9BQU8sRUFBRSxpQ0FBaUM7UUFDMUMsV0FBVyxFQUNULCtEQUErRDtLQUNsRSxDQUFDO0lBQ0QsSUFBQSxrQkFBUSxFQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsOEJBQThCLEVBQUUsQ0FBQztJQUNyRSxJQUFBLGlCQUFPLEVBQUMsRUFBRSxJQUFJLEVBQUUseURBQXlCLEVBQUUsQ0FBQztJQUM1QyxJQUFBLHFCQUFXLEVBQUM7UUFDWCxNQUFNLEVBQUUsbUJBQVUsQ0FBQyxFQUFFO1FBQ3JCLFdBQVcsRUFBRSwrQ0FBK0M7UUFDNUQsSUFBSSxFQUFFLDRDQUFnQjtLQUN2QixDQUFDO0lBQ0QsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsTUFBTSxFQUFFLG1CQUFVLENBQUMsU0FBUztRQUM1QixXQUFXLEVBQUUsdUNBQXVDO0tBQ3JELENBQUM7SUFDRCxJQUFBLHFCQUFXLEVBQUM7UUFDWCxNQUFNLEVBQUUsbUJBQVUsQ0FBQyxXQUFXO1FBQzlCLFdBQVcsRUFBRSw0QkFBNEI7S0FDMUMsQ0FBQztJQUVDLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxFQUFFLHNCQUFhLENBQUMsQ0FBQTtJQUMxQixXQUFBLElBQUEsYUFBSSxHQUFFLENBQUE7O2lFQUFZLHlEQUF5QixvQkFBekIseURBQXlCO3dEQUMzQyxPQUFPLG9CQUFQLE9BQU87d0RBRVQ7QUFvQks7SUFmTCxJQUFBLGVBQU0sRUFBQyxLQUFLLENBQUM7SUFDYixJQUFBLHNCQUFZLEVBQUM7UUFDWixPQUFPLEVBQUUsK0JBQStCO1FBQ3hDLFdBQVcsRUFDVCxtRUFBbUU7S0FDdEUsQ0FBQztJQUNELElBQUEsa0JBQVEsRUFBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLDhCQUE4QixFQUFFLENBQUM7SUFDckUsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsTUFBTSxFQUFFLG1CQUFVLENBQUMsVUFBVTtRQUM3QixXQUFXLEVBQUUsNkNBQTZDO0tBQzNELENBQUM7SUFDRCxJQUFBLHFCQUFXLEVBQUM7UUFDWCxNQUFNLEVBQUUsbUJBQVUsQ0FBQyxTQUFTO1FBQzVCLFdBQVcsRUFBRSx1Q0FBdUM7S0FDckQsQ0FBQztJQUNZLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxFQUFFLHNCQUFhLENBQUMsQ0FBQTs7O3dEQUFjLE9BQU8sb0JBQVAsT0FBTzt3REFFNUQ7cUNBaklVLDBCQUEwQjtJQUp0QyxJQUFBLGlCQUFPLEVBQUMsWUFBWSxDQUFDO0lBQ3JCLElBQUEsbUJBQVUsRUFBQyxvQkFBb0IsQ0FBQztJQUNoQyxJQUFBLGtCQUFTLEVBQUMsNkJBQVksRUFBRSx3QkFBVSxDQUFDO0lBQ25DLElBQUEsdUJBQWEsR0FBRTt5REFHOEIsb0RBQXVCLG9CQUF2QixvREFBdUI7R0FGeEQsMEJBQTBCLENBa0l0QyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXGV1ZHJlXFxPbmVEcml2ZVxcRGVza3RvcFxcUHJvamV0b3NcXHBnYmVuXFxwZ2Jlbi1zZXJ2ZXJcXHNyY1xcbW9kdWxlc1xcYmVuZWZpY2lvXFxjb250cm9sbGVyc1xcZGFkb3MtY2VzdGEtYmFzaWNhLmNvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29udHJvbGxlcixcbiAgR2V0LFxuICBQb3N0LFxuICBCb2R5LFxuICBQYXRjaCxcbiAgUGFyYW0sXG4gIERlbGV0ZSxcbiAgUGFyc2VVVUlEUGlwZSxcbiAgVXNlR3VhcmRzLFxuICBIdHRwU3RhdHVzLFxufSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQge1xuICBBcGlUYWdzLFxuICBBcGlPcGVyYXRpb24sXG4gIEFwaVJlc3BvbnNlLFxuICBBcGlQYXJhbSxcbiAgQXBpQm9keSxcbiAgQXBpQmVhcmVyQXV0aCxcbn0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbmltcG9ydCB7IEp3dEF1dGhHdWFyZCB9IGZyb20gJy4uLy4uLy4uL2F1dGgvZ3VhcmRzL2p3dC1hdXRoLmd1YXJkJztcbmltcG9ydCB7IFJvbGVzR3VhcmQgfSBmcm9tICcuLi8uLi8uLi9hdXRoL2d1YXJkcy9yb2xlcy5ndWFyZCc7XG5pbXBvcnQgeyBSb2xlcyB9IGZyb20gJy4uLy4uLy4uL2F1dGgvZGVjb3JhdG9ycy9yb2xlLmRlY29yYXRvcic7XG5pbXBvcnQgeyBVc2VyUm9sZSB9IGZyb20gJy4uLy4uLy4uL2VudW1zJztcbmltcG9ydCB7IERhZG9zQ2VzdGFCYXNpY2FTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGFkb3MtY2VzdGEtYmFzaWNhLnNlcnZpY2UnO1xuaW1wb3J0IHtcbiAgQ3JlYXRlRGFkb3NDZXN0YUJhc2ljYUR0byxcbiAgVXBkYXRlRGFkb3NDZXN0YUJhc2ljYUR0byxcbn0gZnJvbSAnLi4vZHRvL2NyZWF0ZS1kYWRvcy1jZXN0YS1iYXNpY2EuZHRvJztcbmltcG9ydCB7IERhZG9zQ2VzdGFCYXNpY2EgfSBmcm9tICcuLi8uLi8uLi9lbnRpdGllcy9kYWRvcy1jZXN0YS1iYXNpY2EuZW50aXR5JztcblxuLyoqXG4gKiBDb250cm9sYWRvciBwYXJhIGdlcmVuY2lhciBkYWRvcyBlc3BlY8OtZmljb3MgZGEgQ2VzdGEgQsOhc2ljYVxuICovXG5AQXBpVGFncygnQmVuZWbDrWNpb3MnKVxuQENvbnRyb2xsZXIoJ2RhZG9zLWNlc3RhLWJhc2ljYScpXG5AVXNlR3VhcmRzKEp3dEF1dGhHdWFyZCwgUm9sZXNHdWFyZClcbkBBcGlCZWFyZXJBdXRoKClcbmV4cG9ydCBjbGFzcyBEYWRvc0Nlc3RhQmFzaWNhQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgZGFkb3NDZXN0YUJhc2ljYVNlcnZpY2U6IERhZG9zQ2VzdGFCYXNpY2FTZXJ2aWNlLFxuICApIHt9XG5cbiAgLyoqXG4gICAqIENyaWFyIGRhZG9zIGRlIGNlc3RhIGLDoXNpY2EgcGFyYSB1bWEgc29saWNpdGHDp8Ojb1xuICAgKi9cbiAgQFBvc3QoKVxuICBAQXBpT3BlcmF0aW9uKHtcbiAgICBzdW1tYXJ5OiAnQ3JpYXIgZGFkb3MgZGUgY2VzdGEgYsOhc2ljYScsXG4gICAgZGVzY3JpcHRpb246ICdDcmlhIGRhZG9zIGVzcGVjw61maWNvcyBwYXJhIHNvbGljaXRhw6fDo28gZGUgQ2VzdGEgQsOhc2ljYScsXG4gIH0pXG4gIEBBcGlCb2R5KHsgdHlwZTogQ3JlYXRlRGFkb3NDZXN0YUJhc2ljYUR0byB9KVxuICBAQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogSHR0cFN0YXR1cy5DUkVBVEVELFxuICAgIGRlc2NyaXB0aW9uOiAnRGFkb3MgZGUgY2VzdGEgYsOhc2ljYSBjcmlhZG9zIGNvbSBzdWNlc3NvJyxcbiAgICB0eXBlOiBEYWRvc0Nlc3RhQmFzaWNhLFxuICB9KVxuICBAQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogSHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcbiAgICBkZXNjcmlwdGlvbjogJ0RhZG9zIGludsOhbGlkb3MgZm9ybmVjaWRvcycsXG4gIH0pXG4gIGFzeW5jIGNyZWF0ZShcbiAgICBAQm9keSgpIGNyZWF0ZUR0bzogQ3JlYXRlRGFkb3NDZXN0YUJhc2ljYUR0byxcbiAgKTogUHJvbWlzZTxEYWRvc0Nlc3RhQmFzaWNhPiB7XG4gICAgcmV0dXJuIHRoaXMuZGFkb3NDZXN0YUJhc2ljYVNlcnZpY2UuY3JlYXRlKGNyZWF0ZUR0byk7XG4gIH1cblxuICAvKipcbiAgICogQnVzY2FyIGRhZG9zIGRlIGNlc3RhIGLDoXNpY2EgcG9yIElEXG4gICAqL1xuICBAR2V0KCc6aWQnKVxuICBAQXBpT3BlcmF0aW9uKHtcbiAgICBzdW1tYXJ5OiAnQnVzY2FyIGRhZG9zIGRlIGNlc3RhIGLDoXNpY2EgcG9yIElEJyxcbiAgICBkZXNjcmlwdGlvbjogJ1JldG9ybmEgb3MgZGFkb3MgZGUgY2VzdGEgYsOhc2ljYSBlc3BlY8OtZmljb3MgcGVsbyBJRCcsXG4gIH0pXG4gIEBBcGlQYXJhbSh7IG5hbWU6ICdpZCcsIGRlc2NyaXB0aW9uOiAnSUQgZG9zIGRhZG9zIGRlIGNlc3RhIGLDoXNpY2EnIH0pXG4gIEBBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiBIdHRwU3RhdHVzLk9LLFxuICAgIGRlc2NyaXB0aW9uOiAnRGFkb3MgZGUgY2VzdGEgYsOhc2ljYSBlbmNvbnRyYWRvcycsXG4gICAgdHlwZTogRGFkb3NDZXN0YUJhc2ljYSxcbiAgfSlcbiAgQEFwaVJlc3BvbnNlKHtcbiAgICBzdGF0dXM6IEh0dHBTdGF0dXMuTk9UX0ZPVU5ELFxuICAgIGRlc2NyaXB0aW9uOiAnRGFkb3MgZGUgY2VzdGEgYsOhc2ljYSBuw6NvIGVuY29udHJhZG9zJyxcbiAgfSlcbiAgYXN5bmMgZmluZE9uZShcbiAgICBAUGFyYW0oJ2lkJywgUGFyc2VVVUlEUGlwZSkgaWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxEYWRvc0Nlc3RhQmFzaWNhPiB7XG4gICAgcmV0dXJuIHRoaXMuZGFkb3NDZXN0YUJhc2ljYVNlcnZpY2UuZmluZE9uZShpZCk7XG4gIH1cblxuICAvKipcbiAgICogQnVzY2FyIGRhZG9zIGRlIGNlc3RhIGLDoXNpY2EgcG9yIHNvbGljaXRhw6fDo29cbiAgICovXG4gIEBHZXQoJ3NvbGljaXRhY2FvLzpzb2xpY2l0YWNhb0lkJylcbiAgQEFwaU9wZXJhdGlvbih7XG4gICAgc3VtbWFyeTogJ0J1c2NhciBkYWRvcyBkZSBjZXN0YSBiw6FzaWNhIHBvciBzb2xpY2l0YcOnw6NvJyxcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICdSZXRvcm5hIG9zIGRhZG9zIGRlIGNlc3RhIGLDoXNpY2EgZGUgdW1hIHNvbGljaXRhw6fDo28gZXNwZWPDrWZpY2EnLFxuICB9KVxuICBAQXBpUGFyYW0oeyBuYW1lOiAnc29saWNpdGFjYW9JZCcsIGRlc2NyaXB0aW9uOiAnSUQgZGEgc29saWNpdGHDp8OjbycgfSlcbiAgQEFwaVJlc3BvbnNlKHtcbiAgICBzdGF0dXM6IEh0dHBTdGF0dXMuT0ssXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBkZSBjZXN0YSBiw6FzaWNhIGVuY29udHJhZG9zJyxcbiAgICB0eXBlOiBEYWRvc0Nlc3RhQmFzaWNhLFxuICB9KVxuICBAQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogSHR0cFN0YXR1cy5OT1RfRk9VTkQsXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBkZSBjZXN0YSBiw6FzaWNhIG7Do28gZW5jb250cmFkb3MgcGFyYSBlc3RhIHNvbGljaXRhw6fDo28nLFxuICB9KVxuICBhc3luYyBmaW5kQnlTb2xpY2l0YWNhbyhcbiAgICBAUGFyYW0oJ3NvbGljaXRhY2FvSWQnLCBQYXJzZVVVSURQaXBlKSBzb2xpY2l0YWNhb0lkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8RGFkb3NDZXN0YUJhc2ljYT4ge1xuICAgIHJldHVybiB0aGlzLmRhZG9zQ2VzdGFCYXNpY2FTZXJ2aWNlLmZpbmRCeVNvbGljaXRhY2FvKHNvbGljaXRhY2FvSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dWFsaXphciBkYWRvcyBkZSBjZXN0YSBiw6FzaWNhXG4gICAqL1xuICBAUGF0Y2goJzppZCcpXG4gIEBBcGlPcGVyYXRpb24oe1xuICAgIHN1bW1hcnk6ICdBdHVhbGl6YXIgZGFkb3MgZGUgY2VzdGEgYsOhc2ljYScsXG4gICAgZGVzY3JpcHRpb246XG4gICAgICAnQXR1YWxpemEgZGFkb3MgZXNwZWPDrWZpY29zIGRlIHVtYSBzb2xpY2l0YcOnw6NvIGRlIENlc3RhIELDoXNpY2EnLFxuICB9KVxuICBAQXBpUGFyYW0oeyBuYW1lOiAnaWQnLCBkZXNjcmlwdGlvbjogJ0lEIGRvcyBkYWRvcyBkZSBjZXN0YSBiw6FzaWNhJyB9KVxuICBAQXBpQm9keSh7IHR5cGU6IFVwZGF0ZURhZG9zQ2VzdGFCYXNpY2FEdG8gfSlcbiAgQEFwaVJlc3BvbnNlKHtcbiAgICBzdGF0dXM6IEh0dHBTdGF0dXMuT0ssXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBkZSBjZXN0YSBiw6FzaWNhIGF0dWFsaXphZG9zIGNvbSBzdWNlc3NvJyxcbiAgICB0eXBlOiBEYWRvc0Nlc3RhQmFzaWNhLFxuICB9KVxuICBAQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogSHR0cFN0YXR1cy5OT1RfRk9VTkQsXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBkZSBjZXN0YSBiw6FzaWNhIG7Do28gZW5jb250cmFkb3MnLFxuICB9KVxuICBAQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogSHR0cFN0YXR1cy5CQURfUkVRVUVTVCxcbiAgICBkZXNjcmlwdGlvbjogJ0RhZG9zIGludsOhbGlkb3MgZm9ybmVjaWRvcycsXG4gIH0pXG4gIGFzeW5jIHVwZGF0ZShcbiAgICBAUGFyYW0oJ2lkJywgUGFyc2VVVUlEUGlwZSkgaWQ6IHN0cmluZyxcbiAgICBAQm9keSgpIHVwZGF0ZUR0bzogVXBkYXRlRGFkb3NDZXN0YUJhc2ljYUR0byxcbiAgKTogUHJvbWlzZTxEYWRvc0Nlc3RhQmFzaWNhPiB7XG4gICAgcmV0dXJuIHRoaXMuZGFkb3NDZXN0YUJhc2ljYVNlcnZpY2UudXBkYXRlKGlkLCB1cGRhdGVEdG8pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXIgZGFkb3MgZGUgY2VzdGEgYsOhc2ljYVxuICAgKi9cbiAgQERlbGV0ZSgnOmlkJylcbiAgQEFwaU9wZXJhdGlvbih7XG4gICAgc3VtbWFyeTogJ1JlbW92ZXIgZGFkb3MgZGUgY2VzdGEgYsOhc2ljYScsXG4gICAgZGVzY3JpcHRpb246XG4gICAgICAnUmVtb3ZlIGRhZG9zIGVzcGVjw61maWNvcyBkZSBjZXN0YSBiw6FzaWNhIChhcGVuYXMgYWRtaW5pc3RyYWRvcmVzKScsXG4gIH0pXG4gIEBBcGlQYXJhbSh7IG5hbWU6ICdpZCcsIGRlc2NyaXB0aW9uOiAnSUQgZG9zIGRhZG9zIGRlIGNlc3RhIGLDoXNpY2EnIH0pXG4gIEBBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiBIdHRwU3RhdHVzLk5PX0NPTlRFTlQsXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBkZSBjZXN0YSBiw6FzaWNhIHJlbW92aWRvcyBjb20gc3VjZXNzbycsXG4gIH0pXG4gIEBBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiBIdHRwU3RhdHVzLk5PVF9GT1VORCxcbiAgICBkZXNjcmlwdGlvbjogJ0RhZG9zIGRlIGNlc3RhIGLDoXNpY2EgbsOjbyBlbmNvbnRyYWRvcycsXG4gIH0pXG4gIGFzeW5jIHJlbW92ZShAUGFyYW0oJ2lkJywgUGFyc2VVVUlEUGlwZSkgaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmRhZG9zQ2VzdGFCYXNpY2FTZXJ2aWNlLnJlbW92ZShpZCk7XG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==