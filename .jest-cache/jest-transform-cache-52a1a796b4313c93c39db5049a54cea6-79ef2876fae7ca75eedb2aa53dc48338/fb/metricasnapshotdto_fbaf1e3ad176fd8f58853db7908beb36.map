{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\metricas\\dto\\metrica-snapshot.dto.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\metricas\\dto\\metrica-snapshot.dto.ts"],"sourcesContent":["import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport {\n  IsString,\n  IsEnum,\n  IsNotEmpty,\n  IsOptional,\n  IsNumber,\n  IsBoolean,\n  IsDate,\n  IsObject,\n  IsUUID,\n} from 'class-validator';\nimport { Type } from 'class-transformer';\nimport { GranularidadeTemporal } from '../../../entities';\n\n/**\n * DTO para criar um snapshot de métrica manualmente\n */\nexport class CriarMetricaSnapshotDto {\n  @ApiProperty({\n    description: 'ID da definição da métrica',\n    example: '123e4567-e89b-12d3-a456-426614174000',\n  })\n  @IsUUID()\n  @IsNotEmpty()\n  definicao_id: string;\n\n  @ApiProperty({\n    description: 'Início do período de referência',\n    example: '2023-01-01T00:00:00.000Z',\n  })\n  @IsDate()\n  @Type(() => Date)\n  periodo_inicio: Date;\n\n  @ApiProperty({\n    description: 'Fim do período de referência',\n    example: '2023-01-31T23:59:59.999Z',\n  })\n  @IsDate()\n  @Type(() => Date)\n  periodo_fim: Date;\n\n  @ApiProperty({\n    description: 'Granularidade temporal do snapshot',\n    enum: GranularidadeTemporal,\n    example: GranularidadeTemporal.MES,\n  })\n  @IsEnum(GranularidadeTemporal)\n  granularidade: GranularidadeTemporal;\n\n  @ApiProperty({\n    description: 'Valor numérico da métrica',\n    example: 85.75,\n  })\n  @IsNumber()\n  valor: number;\n\n  @ApiPropertyOptional({\n    description: 'Dimensões ou filtros aplicados na coleta do valor',\n    example: { regiao: 'nordeste', faixa_etaria: '18-25' },\n  })\n  @IsObject()\n  @IsOptional()\n  dimensoes?: Record<string, any>;\n\n  @ApiPropertyOptional({\n    description: 'Metadados adicionais sobre o snapshot',\n    example: { fonte: 'importacao_manual', usuario: 'admin' },\n  })\n  @IsObject()\n  @IsOptional()\n  metadados?: Record<string, any>;\n}\n\n/**\n * DTO para filtrar snapshots na consulta\n */\nexport class FiltroMetricaSnapshotsDto {\n  @ApiPropertyOptional({\n    description: 'Código da métrica',\n    example: 'tempo_medio_processamento_beneficio',\n  })\n  @IsString()\n  @IsOptional()\n  codigo_metrica?: string;\n\n  @ApiPropertyOptional({\n    description: 'ID da métrica',\n    example: '123e4567-e89b-12d3-a456-426614174000',\n  })\n  @IsUUID()\n  @IsOptional()\n  metrica_id?: string;\n\n  @ApiPropertyOptional({\n    description: 'Data inicial do período',\n    example: '2023-01-01T00:00:00.000Z',\n  })\n  @IsDate()\n  @Type(() => Date)\n  @IsOptional()\n  data_inicial?: Date;\n\n  @ApiPropertyOptional({\n    description: 'Data final do período',\n    example: '2023-12-31T23:59:59.999Z',\n  })\n  @IsDate()\n  @Type(() => Date)\n  @IsOptional()\n  data_final?: Date;\n\n  @ApiPropertyOptional({\n    description: 'Granularidade do snapshot',\n    enum: GranularidadeTemporal,\n    example: GranularidadeTemporal.MES,\n  })\n  @IsEnum(GranularidadeTemporal)\n  @IsOptional()\n  granularidade?: GranularidadeTemporal;\n\n  @ApiPropertyOptional({\n    description: 'Dimensões para filtrar os snapshots',\n    example: { regiao: 'nordeste' },\n  })\n  @IsObject()\n  @IsOptional()\n  dimensoes?: Record<string, any>;\n\n  @ApiPropertyOptional({\n    description: 'Página para paginação de resultados',\n    example: 1,\n    default: 1,\n  })\n  @IsNumber()\n  @IsOptional()\n  pagina?: number;\n\n  @ApiPropertyOptional({\n    description: 'Quantidade de itens por página',\n    example: 10,\n    default: 10,\n  })\n  @IsNumber()\n  @IsOptional()\n  limite?: number;\n\n  @ApiPropertyOptional({\n    description: 'Ordenar por campo específico',\n    example: 'periodo_inicio',\n    default: 'periodo_inicio',\n  })\n  @IsString()\n  @IsOptional()\n  ordenar_por?: string;\n\n  @ApiPropertyOptional({\n    description: 'Direção da ordenação (asc ou desc)',\n    example: 'desc',\n    default: 'desc',\n  })\n  @IsString()\n  @IsOptional()\n  direcao?: 'asc' | 'desc';\n}\n\n/**\n * DTO para configurar a coleta manual de uma métrica\n */\nexport class ColetaManualMetricaDto {\n  @ApiProperty({\n    description: 'Código da métrica',\n    example: 'tempo_medio_processamento_beneficio',\n  })\n  @IsString()\n  @IsNotEmpty()\n  codigo: string;\n\n  @ApiPropertyOptional({\n    description: 'Dimensões para filtrar a coleta',\n    example: { regiao: 'nordeste', faixa_etaria: '18-25' },\n  })\n  @IsObject()\n  @IsOptional()\n  dimensoes?: Record<string, any>;\n\n  @ApiPropertyOptional({\n    description:\n      'Data de início do período (se não informado, usa padrão da granularidade)',\n    example: '2023-01-01T00:00:00.000Z',\n  })\n  @IsDate()\n  @Type(() => Date)\n  @IsOptional()\n  periodo_inicio?: Date;\n\n  @ApiPropertyOptional({\n    description: 'Data de fim do período (se não informado, usa data atual)',\n    example: '2023-01-31T23:59:59.999Z',\n  })\n  @IsDate()\n  @Type(() => Date)\n  @IsOptional()\n  periodo_fim?: Date;\n}\n\n/**\n * DTO para consultar valor atual de uma métrica\n */\nexport class ConsultaValorMetricaDto {\n  @ApiProperty({\n    description: 'Código da métrica',\n    example: 'tempo_medio_processamento_beneficio',\n  })\n  @IsString()\n  @IsNotEmpty()\n  codigo: string;\n\n  @ApiPropertyOptional({\n    description: 'Dimensões para filtrar o valor',\n    example: { regiao: 'nordeste', faixa_etaria: '18-25' },\n  })\n  @IsObject()\n  @IsOptional()\n  dimensoes?: Record<string, any>;\n}\n\n/**\n * DTO para consultar série temporal de uma métrica\n */\nexport class ConsultaSerieTemporalDto {\n  @ApiProperty({\n    description: 'Código da métrica',\n    example: 'tempo_medio_processamento_beneficio',\n  })\n  @IsString()\n  @IsNotEmpty()\n  codigo: string;\n\n  @ApiProperty({\n    description: 'Data inicial do período',\n    example: '2023-01-01T00:00:00.000Z',\n  })\n  @IsDate()\n  @Type(() => Date)\n  data_inicial: Date;\n\n  @ApiProperty({\n    description: 'Data final do período',\n    example: '2023-12-31T23:59:59.999Z',\n  })\n  @IsDate()\n  @Type(() => Date)\n  data_final: Date;\n\n  @ApiPropertyOptional({\n    description: 'Granularidade para agregação dos dados',\n    enum: GranularidadeTemporal,\n    example: GranularidadeTemporal.MES,\n  })\n  @IsEnum(GranularidadeTemporal)\n  @IsOptional()\n  granularidade?: GranularidadeTemporal;\n\n  @ApiPropertyOptional({\n    description: 'Dimensões para filtrar os dados',\n    example: { regiao: 'nordeste' },\n  })\n  @IsObject()\n  @IsOptional()\n  dimensoes?: Record<string, any>;\n\n  @ApiPropertyOptional({\n    description: 'Limitar número máximo de pontos na série',\n    example: 12,\n  })\n  @IsNumber()\n  @IsOptional()\n  limite_pontos?: number;\n}\n"],"version":3}