80fd9107374fadd4ee390342642b11d6
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CreateTokenDto = void 0;
const class_validator_1 = require("class-validator");
const swagger_1 = require("@nestjs/swagger");
const class_transformer_1 = require("class-transformer");
/**
 * DTO para criação de um novo token de integrador.
 * Define os parâmetros necessários para geração de um token de acesso.
 */
class CreateTokenDto {
    nome;
    descricao;
    escopos;
    diasValidade;
    semExpiracao = false;
}
exports.CreateTokenDto = CreateTokenDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Nome do token (identificação para gestão)',
        example: 'Token para integração com Sistema Financeiro',
    }),
    (0, class_validator_1.IsNotEmpty)({ message: 'O nome do token é obrigatório' }),
    (0, class_validator_1.IsString)({ message: 'O nome do token deve ser uma string' }),
    __metadata("design:type", String)
], CreateTokenDto.prototype, "nome", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Descrição do token',
        example: 'Acesso para consulta de benefícios e cidadãos',
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'A descrição deve ser uma string' }),
    __metadata("design:type", String)
], CreateTokenDto.prototype, "descricao", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Lista de escopos de permissão para este token',
        example: ['read:cidadaos', 'read:beneficios'],
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsArray)({ message: 'Os escopos devem ser um array' }),
    __metadata("design:type", Array)
], CreateTokenDto.prototype, "escopos", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Número de dias de validade do token (se não informado, o token não expira)',
        example: 365,
        minimum: 1,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_transformer_1.Type)(() => Number),
    (0, class_validator_1.IsInt)({ message: 'Os dias de validade devem ser um número inteiro' }),
    (0, class_validator_1.Min)(1, { message: 'Os dias de validade devem ser maior que zero' }),
    __metadata("design:type", Number)
], CreateTokenDto.prototype, "diasValidade", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Indica se o token deve ser criado sem expiração',
        example: false,
        default: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo semExpiracao deve ser um booleano' }),
    __metadata("design:type", Boolean)
], CreateTokenDto.prototype, "semExpiracao", void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGludGVncmFkb3JcXGR0b1xcY3JlYXRlLXRva2VuLmR0by50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxxREFReUI7QUFDekIsNkNBQW1FO0FBQ25FLHlEQUF5QztBQUV6Qzs7O0dBR0c7QUFDSCxNQUFhLGNBQWM7SUFPekIsSUFBSSxDQUFTO0lBUWIsU0FBUyxDQUFVO0lBUW5CLE9BQU8sQ0FBWTtJQVluQixZQUFZLENBQVU7SUFTdEIsWUFBWSxHQUFhLEtBQUssQ0FBQztDQUNoQztBQTdDRCx3Q0E2Q0M7QUF0Q0M7SUFOQyxJQUFBLHFCQUFXLEVBQUM7UUFDWCxXQUFXLEVBQUUsMkNBQTJDO1FBQ3hELE9BQU8sRUFBRSw4Q0FBOEM7S0FDeEQsQ0FBQztJQUNELElBQUEsNEJBQVUsRUFBQyxFQUFFLE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxDQUFDO0lBQ3hELElBQUEsMEJBQVEsRUFBQyxFQUFFLE9BQU8sRUFBRSxxQ0FBcUMsRUFBRSxDQUFDOzs0Q0FDaEQ7QUFRYjtJQU5DLElBQUEsNkJBQW1CLEVBQUM7UUFDbkIsV0FBVyxFQUFFLG9CQUFvQjtRQUNqQyxPQUFPLEVBQUUsK0NBQStDO0tBQ3pELENBQUM7SUFDRCxJQUFBLDRCQUFVLEdBQUU7SUFDWixJQUFBLDBCQUFRLEVBQUMsRUFBRSxPQUFPLEVBQUUsaUNBQWlDLEVBQUUsQ0FBQzs7aURBQ3RDO0FBUW5CO0lBTkMsSUFBQSw2QkFBbUIsRUFBQztRQUNuQixXQUFXLEVBQUUsK0NBQStDO1FBQzVELE9BQU8sRUFBRSxDQUFDLGVBQWUsRUFBRSxpQkFBaUIsQ0FBQztLQUM5QyxDQUFDO0lBQ0QsSUFBQSw0QkFBVSxHQUFFO0lBQ1osSUFBQSx5QkFBTyxFQUFDLEVBQUUsT0FBTyxFQUFFLCtCQUErQixFQUFFLENBQUM7OytDQUNuQztBQVluQjtJQVZDLElBQUEsNkJBQW1CLEVBQUM7UUFDbkIsV0FBVyxFQUNULDRFQUE0RTtRQUM5RSxPQUFPLEVBQUUsR0FBRztRQUNaLE9BQU8sRUFBRSxDQUFDO0tBQ1gsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTtJQUNaLElBQUEsd0JBQUksRUFBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUM7SUFDbEIsSUFBQSx1QkFBSyxFQUFDLEVBQUUsT0FBTyxFQUFFLGlEQUFpRCxFQUFFLENBQUM7SUFDckUsSUFBQSxxQkFBRyxFQUFDLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSw4Q0FBOEMsRUFBRSxDQUFDOztvREFDOUM7QUFTdEI7SUFQQyxJQUFBLDZCQUFtQixFQUFDO1FBQ25CLFdBQVcsRUFBRSxpREFBaUQ7UUFDOUQsT0FBTyxFQUFFLEtBQUs7UUFDZCxPQUFPLEVBQUUsS0FBSztLQUNmLENBQUM7SUFDRCxJQUFBLDRCQUFVLEdBQUU7SUFDWixJQUFBLDJCQUFTLEVBQUMsRUFBRSxPQUFPLEVBQUUsMkNBQTJDLEVBQUUsQ0FBQzs7b0RBQ3JDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZXVkcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZXRvc1xccGdiZW5cXHBnYmVuLXNlcnZlclxcc3JjXFxtb2R1bGVzXFxpbnRlZ3JhZG9yXFxkdG9cXGNyZWF0ZS10b2tlbi5kdG8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSXNOb3RFbXB0eSxcbiAgSXNTdHJpbmcsXG4gIElzT3B0aW9uYWwsXG4gIElzQXJyYXksXG4gIElzSW50LFxuICBNaW4sXG4gIElzQm9vbGVhbixcbn0gZnJvbSAnY2xhc3MtdmFsaWRhdG9yJztcbmltcG9ydCB7IEFwaVByb3BlcnR5LCBBcGlQcm9wZXJ0eU9wdGlvbmFsIH0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbmltcG9ydCB7IFR5cGUgfSBmcm9tICdjbGFzcy10cmFuc2Zvcm1lcic7XG5cbi8qKlxuICogRFRPIHBhcmEgY3JpYcOnw6NvIGRlIHVtIG5vdm8gdG9rZW4gZGUgaW50ZWdyYWRvci5cbiAqIERlZmluZSBvcyBwYXLDom1ldHJvcyBuZWNlc3PDoXJpb3MgcGFyYSBnZXJhw6fDo28gZGUgdW0gdG9rZW4gZGUgYWNlc3NvLlxuICovXG5leHBvcnQgY2xhc3MgQ3JlYXRlVG9rZW5EdG8ge1xuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnTm9tZSBkbyB0b2tlbiAoaWRlbnRpZmljYcOnw6NvIHBhcmEgZ2VzdMOjbyknLFxuICAgIGV4YW1wbGU6ICdUb2tlbiBwYXJhIGludGVncmHDp8OjbyBjb20gU2lzdGVtYSBGaW5hbmNlaXJvJyxcbiAgfSlcbiAgQElzTm90RW1wdHkoeyBtZXNzYWdlOiAnTyBub21lIGRvIHRva2VuIMOpIG9icmlnYXTDs3JpbycgfSlcbiAgQElzU3RyaW5nKHsgbWVzc2FnZTogJ08gbm9tZSBkbyB0b2tlbiBkZXZlIHNlciB1bWEgc3RyaW5nJyB9KVxuICBub21lOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOiAnRGVzY3Jpw6fDo28gZG8gdG9rZW4nLFxuICAgIGV4YW1wbGU6ICdBY2Vzc28gcGFyYSBjb25zdWx0YSBkZSBiZW5lZsOtY2lvcyBlIGNpZGFkw6NvcycsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzU3RyaW5nKHsgbWVzc2FnZTogJ0EgZGVzY3Jpw6fDo28gZGV2ZSBzZXIgdW1hIHN0cmluZycgfSlcbiAgZGVzY3JpY2FvPzogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eU9wdGlvbmFsKHtcbiAgICBkZXNjcmlwdGlvbjogJ0xpc3RhIGRlIGVzY29wb3MgZGUgcGVybWlzc8OjbyBwYXJhIGVzdGUgdG9rZW4nLFxuICAgIGV4YW1wbGU6IFsncmVhZDpjaWRhZGFvcycsICdyZWFkOmJlbmVmaWNpb3MnXSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNBcnJheSh7IG1lc3NhZ2U6ICdPcyBlc2NvcG9zIGRldmVtIHNlciB1bSBhcnJheScgfSlcbiAgZXNjb3Bvcz86IHN0cmluZ1tdO1xuXG4gIEBBcGlQcm9wZXJ0eU9wdGlvbmFsKHtcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICdOw7ptZXJvIGRlIGRpYXMgZGUgdmFsaWRhZGUgZG8gdG9rZW4gKHNlIG7Do28gaW5mb3JtYWRvLCBvIHRva2VuIG7Do28gZXhwaXJhKScsXG4gICAgZXhhbXBsZTogMzY1LFxuICAgIG1pbmltdW06IDEsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQFR5cGUoKCkgPT4gTnVtYmVyKVxuICBASXNJbnQoeyBtZXNzYWdlOiAnT3MgZGlhcyBkZSB2YWxpZGFkZSBkZXZlbSBzZXIgdW0gbsO6bWVybyBpbnRlaXJvJyB9KVxuICBATWluKDEsIHsgbWVzc2FnZTogJ09zIGRpYXMgZGUgdmFsaWRhZGUgZGV2ZW0gc2VyIG1haW9yIHF1ZSB6ZXJvJyB9KVxuICBkaWFzVmFsaWRhZGU/OiBudW1iZXI7XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOiAnSW5kaWNhIHNlIG8gdG9rZW4gZGV2ZSBzZXIgY3JpYWRvIHNlbSBleHBpcmHDp8OjbycsXG4gICAgZXhhbXBsZTogZmFsc2UsXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzQm9vbGVhbih7IG1lc3NhZ2U6ICdPIGNhbXBvIHNlbUV4cGlyYWNhbyBkZXZlIHNlciB1bSBib29sZWFubycgfSlcbiAgc2VtRXhwaXJhY2FvPzogYm9vbGVhbiA9IGZhbHNlO1xufVxuIl0sInZlcnNpb24iOjN9