96981766018b290dab0f6fcd1aee4091
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var _a, _b, _c, _d, _e, _f, _g, _h;
Object.defineProperty(exports, "__esModule", { value: true });
exports.DadosFuneralController = void 0;
const common_1 = require("@nestjs/common");
const swagger_1 = require("@nestjs/swagger");
const jwt_auth_guard_1 = require("../../../auth/guards/jwt-auth.guard");
const roles_guard_1 = require("../../../auth/guards/roles.guard");
const dados_funeral_service_1 = require("../services/dados-funeral.service");
const create_dados_funeral_dto_1 = require("../dto/create-dados-funeral.dto");
const dados_funeral_entity_1 = require("../../../entities/dados-funeral.entity");
/**
 * Controlador para gerenciar dados específicos do Auxílio Funeral
 */
let DadosFuneralController = class DadosFuneralController {
    dadosFuneralService;
    constructor(dadosFuneralService) {
        this.dadosFuneralService = dadosFuneralService;
    }
    /**
     * Criar dados de funeral para uma solicitação
     */
    async create(createDto) {
        return this.dadosFuneralService.create(createDto);
    }
    /**
     * Buscar dados de funeral por ID
     */
    async findOne(id) {
        return this.dadosFuneralService.findOne(id);
    }
    /**
     * Buscar dados de funeral por solicitação
     */
    async findBySolicitacao(solicitacaoId) {
        return this.dadosFuneralService.findBySolicitacao(solicitacaoId);
    }
    /**
     * Atualizar dados de funeral
     */
    async update(id, updateDto) {
        return this.dadosFuneralService.update(id, updateDto);
    }
    /**
     * Remover dados de funeral
     */
    async remove(id) {
        return this.dadosFuneralService.remove(id);
    }
};
exports.DadosFuneralController = DadosFuneralController;
__decorate([
    (0, common_1.Post)(),
    (0, swagger_1.ApiOperation)({
        summary: 'Criar dados de funeral',
        description: 'Cria dados específicos para solicitação de Auxílio Funeral',
    }),
    (0, swagger_1.ApiBody)({ type: create_dados_funeral_dto_1.CreateDadosFuneralDto }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.CREATED,
        description: 'Dados de funeral criados com sucesso',
        type: dados_funeral_entity_1.DadosFuneral,
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.BAD_REQUEST,
        description: 'Dados inválidos fornecidos',
    }),
    __param(0, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [typeof (_b = typeof create_dados_funeral_dto_1.CreateDadosFuneralDto !== "undefined" && create_dados_funeral_dto_1.CreateDadosFuneralDto) === "function" ? _b : Object]),
    __metadata("design:returntype", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], DadosFuneralController.prototype, "create", null);
__decorate([
    (0, common_1.Get)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Buscar dados de funeral por ID',
        description: 'Retorna os dados de funeral específicos pelo ID',
    }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'ID dos dados de funeral' }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.OK,
        description: 'Dados de funeral encontrados',
        type: dados_funeral_entity_1.DadosFuneral,
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NOT_FOUND,
        description: 'Dados de funeral não encontrados',
    }),
    __param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], DadosFuneralController.prototype, "findOne", null);
__decorate([
    (0, common_1.Get)('solicitacao/:solicitacaoId'),
    (0, swagger_1.ApiOperation)({
        summary: 'Buscar dados de funeral por solicitação',
        description: 'Retorna os dados de funeral de uma solicitação específica',
    }),
    (0, swagger_1.ApiParam)({ name: 'solicitacaoId', description: 'ID da solicitação' }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.OK,
        description: 'Dados de funeral encontrados',
        type: dados_funeral_entity_1.DadosFuneral,
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NOT_FOUND,
        description: 'Dados de funeral não encontrados para esta solicitação',
    }),
    __param(0, (0, common_1.Param)('solicitacaoId', common_1.ParseUUIDPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_e = typeof Promise !== "undefined" && Promise) === "function" ? _e : Object)
], DadosFuneralController.prototype, "findBySolicitacao", null);
__decorate([
    (0, common_1.Patch)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Atualizar dados de funeral',
        description: 'Atualiza dados específicos de uma solicitação de Auxílio Funeral',
    }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'ID dos dados de funeral' }),
    (0, swagger_1.ApiBody)({ type: create_dados_funeral_dto_1.UpdateDadosFuneralDto }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.OK,
        description: 'Dados de funeral atualizados com sucesso',
        type: dados_funeral_entity_1.DadosFuneral,
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NOT_FOUND,
        description: 'Dados de funeral não encontrados',
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.BAD_REQUEST,
        description: 'Dados inválidos fornecidos',
    }),
    __param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, typeof (_f = typeof create_dados_funeral_dto_1.UpdateDadosFuneralDto !== "undefined" && create_dados_funeral_dto_1.UpdateDadosFuneralDto) === "function" ? _f : Object]),
    __metadata("design:returntype", typeof (_g = typeof Promise !== "undefined" && Promise) === "function" ? _g : Object)
], DadosFuneralController.prototype, "update", null);
__decorate([
    (0, common_1.Delete)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Remover dados de funeral',
        description: 'Remove dados específicos de funeral (apenas administradores)',
    }),
    (0, swagger_1.ApiParam)({ name: 'id', description: 'ID dos dados de funeral' }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NO_CONTENT,
        description: 'Dados de funeral removidos com sucesso',
    }),
    (0, swagger_1.ApiResponse)({
        status: common_1.HttpStatus.NOT_FOUND,
        description: 'Dados de funeral não encontrados',
    }),
    __param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_h = typeof Promise !== "undefined" && Promise) === "function" ? _h : Object)
], DadosFuneralController.prototype, "remove", null);
exports.DadosFuneralController = DadosFuneralController = __decorate([
    (0, swagger_1.ApiTags)('Benefícios'),
    (0, common_1.Controller)('dados-funeral'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard, roles_guard_1.RolesGuard),
    (0, swagger_1.ApiBearerAuth)(),
    __metadata("design:paramtypes", [typeof (_a = typeof dados_funeral_service_1.DadosFuneralService !== "undefined" && dados_funeral_service_1.DadosFuneralService) === "function" ? _a : Object])
], DadosFuneralController);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGJlbmVmaWNpb1xcY29udHJvbGxlcnNcXGRhZG9zLWZ1bmVyYWwuY29udHJvbGxlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBV3dCO0FBQ3hCLDZDQU95QjtBQUN6Qix3RUFBbUU7QUFDbkUsa0VBQThEO0FBRzlELDZFQUF3RTtBQUN4RSw4RUFHeUM7QUFDekMsaUZBQXNFO0FBRXRFOztHQUVHO0FBS0ksSUFBTSxzQkFBc0IsR0FBNUIsTUFBTSxzQkFBc0I7SUFDSjtJQUE3QixZQUE2QixtQkFBd0M7UUFBeEMsd0JBQW1CLEdBQW5CLG1CQUFtQixDQUFxQjtJQUFHLENBQUM7SUFFekU7O09BRUc7SUFnQkcsQUFBTixLQUFLLENBQUMsTUFBTSxDQUNGLFNBQWdDO1FBRXhDLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQ7O09BRUc7SUFnQkcsQUFBTixLQUFLLENBQUMsT0FBTyxDQUE2QixFQUFVO1FBQ2xELE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRUQ7O09BRUc7SUFnQkcsQUFBTixLQUFLLENBQUMsaUJBQWlCLENBQ2tCLGFBQXFCO1FBRTVELE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQixDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFRDs7T0FFRztJQXNCRyxBQUFOLEtBQUssQ0FBQyxNQUFNLENBQ2tCLEVBQVUsRUFDOUIsU0FBZ0M7UUFFeEMsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQ7O09BRUc7SUFlRyxBQUFOLEtBQUssQ0FB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QztJQUNuQyxJQUFBLHVCQUFhLEdBQUU7eURBRW9DLDJDQUFtQixvQkFBbkIsMkNBQW1CO0dBRDFELHNCQUFzQixDQTRIbEMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGJlbmVmaWNpb1xcY29udHJvbGxlcnNcXGRhZG9zLWZ1bmVyYWwuY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb250cm9sbGVyLFxuICBHZXQsXG4gIFBvc3QsXG4gIEJvZHksXG4gIFBhdGNoLFxuICBQYXJhbSxcbiAgRGVsZXRlLFxuICBQYXJzZVVVSURQaXBlLFxuICBVc2VHdWFyZHMsXG4gIEh0dHBTdGF0dXMsXG59IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7XG4gIEFwaVRhZ3MsXG4gIEFwaU9wZXJhdGlvbixcbiAgQXBpUmVzcG9uc2UsXG4gIEFwaVBhcmFtLFxuICBBcGlCb2R5LFxuICBBcGlCZWFyZXJBdXRoLFxufSBmcm9tICdAbmVzdGpzL3N3YWdnZXInO1xuaW1wb3J0IHsgSnd0QXV0aEd1YXJkIH0gZnJvbSAnLi4vLi4vLi4vYXV0aC9ndWFyZHMvand0LWF1dGguZ3VhcmQnO1xuaW1wb3J0IHsgUm9sZXNHdWFyZCB9IGZyb20gJy4uLy4uLy4uL2F1dGgvZ3VhcmRzL3JvbGVzLmd1YXJkJztcbmltcG9ydCB7IFJvbGVzIH0gZnJvbSAnLi4vLi4vLi4vYXV0aC9kZWNvcmF0b3JzL3JvbGUuZGVjb3JhdG9yJztcbmltcG9ydCB7IFVzZXJSb2xlIH0gZnJvbSAnLi4vLi4vLi4vZW51bXMnO1xuaW1wb3J0IHsgRGFkb3NGdW5lcmFsU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2RhZG9zLWZ1bmVyYWwuc2VydmljZSc7XG5pbXBvcnQge1xuICBDcmVhdGVEYWRvc0Z1bmVyYWxEdG8sXG4gIFVwZGF0ZURhZG9zRnVuZXJhbER0byxcbn0gZnJvbSAnLi4vZHRvL2NyZWF0ZS1kYWRvcy1mdW5lcmFsLmR0byc7XG5pbXBvcnQgeyBEYWRvc0Z1bmVyYWwgfSBmcm9tICcuLi8uLi8uLi9lbnRpdGllcy9kYWRvcy1mdW5lcmFsLmVudGl0eSc7XG5cbi8qKlxuICogQ29udHJvbGFkb3IgcGFyYSBnZXJlbmNpYXIgZGFkb3MgZXNwZWPDrWZpY29zIGRvIEF1eMOtbGlvIEZ1bmVyYWxcbiAqL1xuQEFwaVRhZ3MoJ0JlbmVmw61jaW9zJylcbkBDb250cm9sbGVyKCdkYWRvcy1mdW5lcmFsJylcbkBVc2VHdWFyZHMoSnd0QXV0aEd1YXJkLCBSb2xlc0d1YXJkKVxuQEFwaUJlYXJlckF1dGgoKVxuZXhwb3J0IGNsYXNzIERhZG9zRnVuZXJhbENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGRhZG9zRnVuZXJhbFNlcnZpY2U6IERhZG9zRnVuZXJhbFNlcnZpY2UpIHt9XG5cbiAgLyoqXG4gICAqIENyaWFyIGRhZG9zIGRlIGZ1bmVyYWwgcGFyYSB1bWEgc29saWNpdGHDp8Ojb1xuICAgKi9cbiAgQFBvc3QoKVxuICBAQXBpT3BlcmF0aW9uKHtcbiAgICBzdW1tYXJ5OiAnQ3JpYXIgZGFkb3MgZGUgZnVuZXJhbCcsXG4gICAgZGVzY3JpcHRpb246ICdDcmlhIGRhZG9zIGVzcGVjw61maWNvcyBwYXJhIHNvbGljaXRhw6fDo28gZGUgQXV4w61saW8gRnVuZXJhbCcsXG4gIH0pXG4gIEBBcGlCb2R5KHsgdHlwZTogQ3JlYXRlRGFkb3NGdW5lcmFsRHRvIH0pXG4gIEBBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiBIdHRwU3RhdHVzLkNSRUFURUQsXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBkZSBmdW5lcmFsIGNyaWFkb3MgY29tIHN1Y2Vzc28nLFxuICAgIHR5cGU6IERhZG9zRnVuZXJhbCxcbiAgfSlcbiAgQEFwaVJlc3BvbnNlKHtcbiAgICBzdGF0dXM6IEh0dHBTdGF0dXMuQkFEX1JFUVVFU1QsXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBpbnbDoWxpZG9zIGZvcm5lY2lkb3MnLFxuICB9KVxuICBhc3luYyBjcmVhdGUoXG4gICAgQEJvZHkoKSBjcmVhdGVEdG86IENyZWF0ZURhZG9zRnVuZXJhbER0byxcbiAgKTogUHJvbWlzZTxEYWRvc0Z1bmVyYWw+IHtcbiAgICByZXR1cm4gdGhpcy5kYWRvc0Z1bmVyYWxTZXJ2aWNlLmNyZWF0ZShjcmVhdGVEdG8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1c2NhciBkYWRvcyBkZSBmdW5lcmFsIHBvciBJRFxuICAgKi9cbiAgQEdldCgnOmlkJylcbiAgQEFwaU9wZXJhdGlvbih7XG4gICAgc3VtbWFyeTogJ0J1c2NhciBkYWRvcyBkZSBmdW5lcmFsIHBvciBJRCcsXG4gICAgZGVzY3JpcHRpb246ICdSZXRvcm5hIG9zIGRhZG9zIGRlIGZ1bmVyYWwgZXNwZWPDrWZpY29zIHBlbG8gSUQnLFxuICB9KVxuICBAQXBpUGFyYW0oeyBuYW1lOiAnaWQnLCBkZXNjcmlwdGlvbjogJ0lEIGRvcyBkYWRvcyBkZSBmdW5lcmFsJyB9KVxuICBAQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogSHR0cFN0YXR1cy5PSyxcbiAgICBkZXNjcmlwdGlvbjogJ0RhZG9zIGRlIGZ1bmVyYWwgZW5jb250cmFkb3MnLFxuICAgIHR5cGU6IERhZG9zRnVuZXJhbCxcbiAgfSlcbiAgQEFwaVJlc3BvbnNlKHtcbiAgICBzdGF0dXM6IEh0dHBTdGF0dXMuTk9UX0ZPVU5ELFxuICAgIGRlc2NyaXB0aW9uOiAnRGFkb3MgZGUgZnVuZXJhbCBuw6NvIGVuY29udHJhZG9zJyxcbiAgfSlcbiAgYXN5bmMgZmluZE9uZShAUGFyYW0oJ2lkJywgUGFyc2VVVUlEUGlwZSkgaWQ6IHN0cmluZyk6IFByb21pc2U8RGFkb3NGdW5lcmFsPiB7XG4gICAgcmV0dXJuIHRoaXMuZGFkb3NGdW5lcmFsU2VydmljZS5maW5kT25lKGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdXNjYXIgZGFkb3MgZGUgZnVuZXJhbCBwb3Igc29saWNpdGHDp8Ojb1xuICAgKi9cbiAgQEdldCgnc29saWNpdGFjYW8vOnNvbGljaXRhY2FvSWQnKVxuICBAQXBpT3BlcmF0aW9uKHtcbiAgICBzdW1tYXJ5OiAnQnVzY2FyIGRhZG9zIGRlIGZ1bmVyYWwgcG9yIHNvbGljaXRhw6fDo28nLFxuICAgIGRlc2NyaXB0aW9uOiAnUmV0b3JuYSBvcyBkYWRvcyBkZSBmdW5lcmFsIGRlIHVtYSBzb2xpY2l0YcOnw6NvIGVzcGVjw61maWNhJyxcbiAgfSlcbiAgQEFwaVBhcmFtKHsgbmFtZTogJ3NvbGljaXRhY2FvSWQnLCBkZXNjcmlwdGlvbjogJ0lEIGRhIHNvbGljaXRhw6fDo28nIH0pXG4gIEBBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiBIdHRwU3RhdHVzLk9LLFxuICAgIGRlc2NyaXB0aW9uOiAnRGFkb3MgZGUgZnVuZXJhbCBlbmNvbnRyYWRvcycsXG4gICAgdHlwZTogRGFkb3NGdW5lcmFsLFxuICB9KVxuICBAQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogSHR0cFN0YXR1cy5OT1RfRk9VTkQsXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBkZSBmdW5lcmFsIG7Do28gZW5jb250cmFkb3MgcGFyYSBlc3RhIHNvbGljaXRhw6fDo28nLFxuICB9KVxuICBhc3luYyBmaW5kQnlTb2xpY2l0YWNhbyhcbiAgICBAUGFyYW0oJ3NvbGljaXRhY2FvSWQnLCBQYXJzZVVVSURQaXBlKSBzb2xpY2l0YWNhb0lkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8RGFkb3NGdW5lcmFsPiB7XG4gICAgcmV0dXJuIHRoaXMuZGFkb3NGdW5lcmFsU2VydmljZS5maW5kQnlTb2xpY2l0YWNhbyhzb2xpY2l0YWNhb0lkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHVhbGl6YXIgZGFkb3MgZGUgZnVuZXJhbFxuICAgKi9cbiAgQFBhdGNoKCc6aWQnKVxuICBAQXBpT3BlcmF0aW9uKHtcbiAgICBzdW1tYXJ5OiAnQXR1YWxpemFyIGRhZG9zIGRlIGZ1bmVyYWwnLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgJ0F0dWFsaXphIGRhZG9zIGVzcGVjw61maWNvcyBkZSB1bWEgc29saWNpdGHDp8OjbyBkZSBBdXjDrWxpbyBGdW5lcmFsJyxcbiAgfSlcbiAgQEFwaVBhcmFtKHsgbmFtZTogJ2lkJywgZGVzY3JpcHRpb246ICdJRCBkb3MgZGFkb3MgZGUgZnVuZXJhbCcgfSlcbiAgQEFwaUJvZHkoeyB0eXBlOiBVcGRhdGVEYWRvc0Z1bmVyYWxEdG8gfSlcbiAgQEFwaVJlc3BvbnNlKHtcbiAgICBzdGF0dXM6IEh0dHBTdGF0dXMuT0ssXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBkZSBmdW5lcmFsIGF0dWFsaXphZG9zIGNvbSBzdWNlc3NvJyxcbiAgICB0eXBlOiBEYWRvc0Z1bmVyYWwsXG4gIH0pXG4gIEBBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiBIdHRwU3RhdHVzLk5PVF9GT1VORCxcbiAgICBkZXNjcmlwdGlvbjogJ0RhZG9zIGRlIGZ1bmVyYWwgbsOjbyBlbmNvbnRyYWRvcycsXG4gIH0pXG4gIEBBcGlSZXNwb25zZSh7XG4gICAgc3RhdHVzOiBIdHRwU3RhdHVzLkJBRF9SRVFVRVNULFxuICAgIGRlc2NyaXB0aW9uOiAnRGFkb3MgaW52w6FsaWRvcyBmb3JuZWNpZG9zJyxcbiAgfSlcbiAgYXN5bmMgdXBkYXRlKFxuICAgIEBQYXJhbSgnaWQnLCBQYXJzZVVVSURQaXBlKSBpZDogc3RyaW5nLFxuICAgIEBCb2R5KCkgdXBkYXRlRHRvOiBVcGRhdGVEYWRvc0Z1bmVyYWxEdG8sXG4gICk6IFByb21pc2U8RGFkb3NGdW5lcmFsPiB7XG4gICAgcmV0dXJuIHRoaXMuZGFkb3NGdW5lcmFsU2VydmljZS51cGRhdGUoaWQsIHVwZGF0ZUR0byk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlciBkYWRvcyBkZSBmdW5lcmFsXG4gICAqL1xuICBARGVsZXRlKCc6aWQnKVxuICBAQXBpT3BlcmF0aW9uKHtcbiAgICBzdW1tYXJ5OiAnUmVtb3ZlciBkYWRvcyBkZSBmdW5lcmFsJyxcbiAgICBkZXNjcmlwdGlvbjogJ1JlbW92ZSBkYWRvcyBlc3BlY8OtZmljb3MgZGUgZnVuZXJhbCAoYXBlbmFzIGFkbWluaXN0cmFkb3JlcyknLFxuICB9KVxuICBAQXBpUGFyYW0oeyBuYW1lOiAnaWQnLCBkZXNjcmlwdGlvbjogJ0lEIGRvcyBkYWRvcyBkZSBmdW5lcmFsJyB9KVxuICBAQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogSHR0cFN0YXR1cy5OT19DT05URU5ULFxuICAgIGRlc2NyaXB0aW9uOiAnRGFkb3MgZGUgZnVuZXJhbCByZW1vdmlkb3MgY29tIHN1Y2Vzc28nLFxuICB9KVxuICBAQXBpUmVzcG9uc2Uoe1xuICAgIHN0YXR1czogSHR0cFN0YXR1cy5OT1RfRk9VTkQsXG4gICAgZGVzY3JpcHRpb246ICdEYWRvcyBkZSBmdW5lcmFsIG7Do28gZW5jb250cmFkb3MnLFxuICB9KVxuICBhc3luYyByZW1vdmUoQFBhcmFtKCdpZCcsIFBhcnNlVVVJRFBpcGUpIGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5kYWRvc0Z1bmVyYWxTZXJ2aWNlLnJlbW92ZShpZCk7XG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==