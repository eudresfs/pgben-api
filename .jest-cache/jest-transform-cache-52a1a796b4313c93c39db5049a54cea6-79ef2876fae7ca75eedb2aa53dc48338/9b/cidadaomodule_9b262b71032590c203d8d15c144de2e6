09d968b1f73c1ed7aac7ade0b8edcd7a
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CidadaoModule = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const core_1 = require("@nestjs/core");
const cidadao_controller_1 = require("./controllers/cidadao.controller");
const cidadao_service_1 = require("./services/cidadao.service");
const cidadao_repository_1 = require("./repositories/cidadao.repository");
const regra_conflito_papel_repository_1 = require("./repositories/regra-conflito-papel.repository");
const entities_1 = require("../../entities");
const cache_1 = require("../../shared/cache");
const cidadao_audit_interceptor_1 = require("./interceptors/cidadao-audit.interceptor");
const papel_cidadao_service_1 = require("./services/papel-cidadao.service");
const papel_cidadao_controller_1 = require("./controllers/papel-cidadao.controller");
const verificacao_papel_service_1 = require("./services/verificacao-papel.service");
const historico_conversao_papel_service_1 = require("./services/historico-conversao-papel.service");
const verificacao_papel_controller_1 = require("./controllers/verificacao-papel.controller");
const papel_conflito_controller_1 = require("./controllers/papel-conflito.controller");
const regra_conflito_papel_controller_1 = require("./controllers/regra-conflito-papel.controller");
const info_bancaria_controller_1 = require("./controllers/info-bancaria.controller");
const info_bancaria_service_1 = require("./services/info-bancaria.service");
const info_bancaria_repository_1 = require("./repositories/info-bancaria.repository");
const dados_sociais_controller_1 = require("./controllers/dados-sociais.controller");
const dados_sociais_service_1 = require("./services/dados-sociais.service");
const composicao_familiar_controller_1 = require("./controllers/composicao-familiar.controller");
const composicao_familiar_service_1 = require("./services/composicao-familiar.service");
// import { DiagnosticoController } from './controllers/diagnostico.controller'; // Movido para módulo separado
const auth_module_1 = require("../../auth/auth.module");
const notificacao_module_1 = require("../notificacao/notificacao.module");
/**
 * Módulo de cidadãos
 *
 * Responsável por gerenciar os cidadãos/beneficiários do sistema,
 * incluindo cadastro, consulta e composição familiar.
 */
let CidadaoModule = class CidadaoModule {
};
exports.CidadaoModule = CidadaoModule;
exports.CidadaoModule = CidadaoModule = __decorate([
    (0, common_1.Module)({
        imports: [
            typeorm_1.TypeOrmModule.forFeature([
                entities_1.Cidadao,
                entities_1.PapelCidadao,
                entities_1.ComposicaoFamiliar,
                entities_1.HistoricoConversaoPapel,
                entities_1.RegraConflitoPapel,
                entities_1.InfoBancaria,
                entities_1.DadosSociais,
            ]),
            cache_1.CacheModule,
            auth_module_1.AuthModule,
            notificacao_module_1.NotificacaoModule,
            // AuditoriaSharedModule é global, não precisa ser importado
        ],
        controllers: [
            cidadao_controller_1.CidadaoController,
            papel_cidadao_controller_1.PapelCidadaoController,
            verificacao_papel_controller_1.VerificacaoPapelController,
            papel_conflito_controller_1.PapelConflitoController,
            regra_conflito_papel_controller_1.RegraConflitoPapelController,
            info_bancaria_controller_1.InfoBancariaController,
            dados_sociais_controller_1.DadosSociaisController,
            composicao_familiar_controller_1.ComposicaoFamiliarController,
            // DiagnosticoController // Movido para módulo separado
        ],
        providers: [
            common_1.Logger,
            cidadao_service_1.CidadaoService,
            cidadao_repository_1.CidadaoRepository,
            papel_cidadao_service_1.PapelCidadaoService,
            verificacao_papel_service_1.VerificacaoPapelService,
            historico_conversao_papel_service_1.HistoricoConversaoPapelService,
            regra_conflito_papel_repository_1.RegraConflitoPapelRepository,
            info_bancaria_service_1.InfoBancariaService,
            info_bancaria_repository_1.InfoBancariaRepository,
            dados_sociais_service_1.DadosSociaisService,
            composicao_familiar_service_1.ComposicaoFamiliarService,
            {
                provide: core_1.APP_INTERCEPTOR,
                useClass: cidadao_audit_interceptor_1.CidadaoAuditInterceptor,
            },
        ],
        exports: [
            cidadao_service_1.CidadaoService,
            cidadao_repository_1.CidadaoRepository,
            papel_cidadao_service_1.PapelCidadaoService,
            verificacao_papel_service_1.VerificacaoPapelService,
            historico_conversao_papel_service_1.HistoricoConversaoPapelService,
            regra_conflito_papel_repository_1.RegraConflitoPapelRepository,
            info_bancaria_service_1.InfoBancariaService,
            info_bancaria_repository_1.InfoBancariaRepository,
            dados_sociais_service_1.DadosSociaisService,
            composicao_familiar_service_1.ComposicaoFamiliarService,
        ],
    })
], CidadaoModule);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGNpZGFkYW9cXGNpZGFkYW8ubW9kdWxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLDJDQUFnRDtBQUNoRCw2Q0FBZ0Q7QUFDaEQsdUNBQStDO0FBQy9DLHlFQUFxRTtBQUNyRSxnRUFBNEQ7QUFDNUQsMEVBQXNFO0FBQ3RFLG9HQUE4RjtBQUM5Riw2Q0FRd0I7QUFDeEIsOENBQWlEO0FBQ2pELHdGQUFtRjtBQUNuRiw0RUFBdUU7QUFDdkUscUZBQWdGO0FBQ2hGLG9GQUErRTtBQUMvRSxvR0FBOEY7QUFDOUYsNkZBQXdGO0FBQ3hGLHVGQUFrRjtBQUNsRixtR0FBNkY7QUFDN0YscUZBQWdGO0FBQ2hGLDRFQUF1RTtBQUN2RSxzRkFBaUY7QUFDakYscUZBQWdGO0FBQ2hGLDRFQUF1RTtBQUN2RSxpR0FBNEY7QUFDNUYsd0ZBQW1GO0FBQ25GLCtHQUErRztBQUMvRyx3REFBb0Q7QUFDcEQsMEVBQXNFO0FBRXRFOzs7OztHQUtHO0FBMERJLElBQU0sYUFBYSxHQUFuQixNQUFNLGFBQWE7Q0FBRyxDQUFBO0FBQWhCLHNDQUFhO3dCQUFiLGFBQWE7SUF6RHpCLElBQUEsZUFBTSxFQUFDO1FBQ04sT0FBTyxFQUFFO1lBQ1AsdUJBQWEsQ0FBQyxVQUFVLENBQUM7Z0JBQ3ZCLGtCQUFPO2dCQUNQLHVCQUFZO2dCQUNaLDZCQUFrQjtnQkFDbEIsa0NBQXVCO2dCQUN2Qiw2QkFBa0I7Z0JBQ2xCLHVCQUFZO2dCQUNaLHVCQUFZO2FBQ2IsQ0FBQztZQUNGLG1CQUFXO1lBQ1gsd0JBQVU7WUFDVixzQ0FBaUI7WUFDakIsNERBQTREO1NBQzdEO1FBQ0QsV0FBVyxFQUFFO1lBQ1gsc0NBQWlCO1lBQ2pCLGlEQUFzQjtZQUN0Qix5REFBMEI7WUFDMUIsbURBQXVCO1lBQ3ZCLDhEQUE0QjtZQUM1QixpREFBc0I7WUFDdEIsaURBQXNCO1lBQ3RCLDZEQUE0QjtZQUM1Qix1REFBdUQ7U0FDeEQ7UUFDRCxTQUFTLEVBQUU7WUFDVCxlQUFNO1lBQ04sZ0NBQWM7WUFDZCxzQ0FBaUI7WUFDakIsMkNBQW1CO1lBQ25CLG1EQUF1QjtZQUN2QixrRUFBOEI7WUFDOUIsOERBQTRCO1lBQzVCLDJDQUFtQjtZQUNuQixpREFBc0I7WUFDdEIsMkNBQW1CO1lBQ25CLHVEQUF5QjtZQUN6QjtnQkFDRSxPQUFPLEVBQUUsc0JBQWU7Z0JBQ3hCLFFBQVEsRUFBRSxtREFBdUI7YUFDbEM7U0FDRjtRQUNELE9BQU8sRUFBRTtZQUNQLGdDQUFjO1lBQ2Qsc0NBQWlCO1lBQ2pCLDJDQUFtQjtZQUNuQixtREFBdUI7WUFDdkIsa0VBQThCO1lBQzlCLDhEQUE0QjtZQUM1QiwyQ0FBbUI7WUFDbkIsaURBQXNCO1lBQ3RCLDJDQUFtQjtZQUNuQix1REFBeUI7U0FDMUI7S0FDRixDQUFDO0dBQ1csYUFBYSxDQUFHIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZXVkcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZXRvc1xccGdiZW5cXHBnYmVuLXNlcnZlclxcc3JjXFxtb2R1bGVzXFxjaWRhZGFvXFxjaWRhZGFvLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2R1bGUsIExvZ2dlciB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFR5cGVPcm1Nb2R1bGUgfSBmcm9tICdAbmVzdGpzL3R5cGVvcm0nO1xuaW1wb3J0IHsgQVBQX0lOVEVSQ0VQVE9SIH0gZnJvbSAnQG5lc3Rqcy9jb3JlJztcbmltcG9ydCB7IENpZGFkYW9Db250cm9sbGVyIH0gZnJvbSAnLi9jb250cm9sbGVycy9jaWRhZGFvLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgQ2lkYWRhb1NlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2NpZGFkYW8uc2VydmljZSc7XG5pbXBvcnQgeyBDaWRhZGFvUmVwb3NpdG9yeSB9IGZyb20gJy4vcmVwb3NpdG9yaWVzL2NpZGFkYW8ucmVwb3NpdG9yeSc7XG5pbXBvcnQgeyBSZWdyYUNvbmZsaXRvUGFwZWxSZXBvc2l0b3J5IH0gZnJvbSAnLi9yZXBvc2l0b3JpZXMvcmVncmEtY29uZmxpdG8tcGFwZWwucmVwb3NpdG9yeSc7XG5pbXBvcnQge1xuICBDaWRhZGFvLFxuICBQYXBlbENpZGFkYW8sXG4gIENvbXBvc2ljYW9GYW1pbGlhcixcbiAgSGlzdG9yaWNvQ29udmVyc2FvUGFwZWwsXG4gIFJlZ3JhQ29uZmxpdG9QYXBlbCxcbiAgSW5mb0JhbmNhcmlhLFxuICBEYWRvc1NvY2lhaXMsXG59IGZyb20gJy4uLy4uL2VudGl0aWVzJztcbmltcG9ydCB7IENhY2hlTW9kdWxlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NhY2hlJztcbmltcG9ydCB7IENpZGFkYW9BdWRpdEludGVyY2VwdG9yIH0gZnJvbSAnLi9pbnRlcmNlcHRvcnMvY2lkYWRhby1hdWRpdC5pbnRlcmNlcHRvcic7XG5pbXBvcnQgeyBQYXBlbENpZGFkYW9TZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9wYXBlbC1jaWRhZGFvLnNlcnZpY2UnO1xuaW1wb3J0IHsgUGFwZWxDaWRhZGFvQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlcnMvcGFwZWwtY2lkYWRhby5jb250cm9sbGVyJztcbmltcG9ydCB7IFZlcmlmaWNhY2FvUGFwZWxTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy92ZXJpZmljYWNhby1wYXBlbC5zZXJ2aWNlJztcbmltcG9ydCB7IEhpc3Rvcmljb0NvbnZlcnNhb1BhcGVsU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvaGlzdG9yaWNvLWNvbnZlcnNhby1wYXBlbC5zZXJ2aWNlJztcbmltcG9ydCB7IFZlcmlmaWNhY2FvUGFwZWxDb250cm9sbGVyIH0gZnJvbSAnLi9jb250cm9sbGVycy92ZXJpZmljYWNhby1wYXBlbC5jb250cm9sbGVyJztcbmltcG9ydCB7IFBhcGVsQ29uZmxpdG9Db250cm9sbGVyIH0gZnJvbSAnLi9jb250cm9sbGVycy9wYXBlbC1jb25mbGl0by5jb250cm9sbGVyJztcbmltcG9ydCB7IFJlZ3JhQ29uZmxpdG9QYXBlbENvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXJzL3JlZ3JhLWNvbmZsaXRvLXBhcGVsLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgSW5mb0JhbmNhcmlhQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlcnMvaW5mby1iYW5jYXJpYS5jb250cm9sbGVyJztcbmltcG9ydCB7IEluZm9CYW5jYXJpYVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2luZm8tYmFuY2FyaWEuc2VydmljZSc7XG5pbXBvcnQgeyBJbmZvQmFuY2FyaWFSZXBvc2l0b3J5IH0gZnJvbSAnLi9yZXBvc2l0b3JpZXMvaW5mby1iYW5jYXJpYS5yZXBvc2l0b3J5JztcbmltcG9ydCB7IERhZG9zU29jaWFpc0NvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXJzL2RhZG9zLXNvY2lhaXMuY29udHJvbGxlcic7XG5pbXBvcnQgeyBEYWRvc1NvY2lhaXNTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9kYWRvcy1zb2NpYWlzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29tcG9zaWNhb0ZhbWlsaWFyQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlcnMvY29tcG9zaWNhby1mYW1pbGlhci5jb250cm9sbGVyJztcbmltcG9ydCB7IENvbXBvc2ljYW9GYW1pbGlhclNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2NvbXBvc2ljYW8tZmFtaWxpYXIuc2VydmljZSc7XG4vLyBpbXBvcnQgeyBEaWFnbm9zdGljb0NvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXJzL2RpYWdub3N0aWNvLmNvbnRyb2xsZXInOyAvLyBNb3ZpZG8gcGFyYSBtw7NkdWxvIHNlcGFyYWRvXG5pbXBvcnQgeyBBdXRoTW9kdWxlIH0gZnJvbSAnLi4vLi4vYXV0aC9hdXRoLm1vZHVsZSc7XG5pbXBvcnQgeyBOb3RpZmljYWNhb01vZHVsZSB9IGZyb20gJy4uL25vdGlmaWNhY2FvL25vdGlmaWNhY2FvLm1vZHVsZSc7XG5cbi8qKlxuICogTcOzZHVsbyBkZSBjaWRhZMOjb3NcbiAqXG4gKiBSZXNwb25zw6F2ZWwgcG9yIGdlcmVuY2lhciBvcyBjaWRhZMOjb3MvYmVuZWZpY2nDoXJpb3MgZG8gc2lzdGVtYSxcbiAqIGluY2x1aW5kbyBjYWRhc3RybywgY29uc3VsdGEgZSBjb21wb3Npw6fDo28gZmFtaWxpYXIuXG4gKi9cbkBNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgVHlwZU9ybU1vZHVsZS5mb3JGZWF0dXJlKFtcbiAgICAgIENpZGFkYW8sXG4gICAgICBQYXBlbENpZGFkYW8sXG4gICAgICBDb21wb3NpY2FvRmFtaWxpYXIsXG4gICAgICBIaXN0b3JpY29Db252ZXJzYW9QYXBlbCxcbiAgICAgIFJlZ3JhQ29uZmxpdG9QYXBlbCxcbiAgICAgIEluZm9CYW5jYXJpYSxcbiAgICAgIERhZG9zU29jaWFpcyxcbiAgICBdKSxcbiAgICBDYWNoZU1vZHVsZSxcbiAgICBBdXRoTW9kdWxlLFxuICAgIE5vdGlmaWNhY2FvTW9kdWxlLFxuICAgIC8vIEF1ZGl0b3JpYVNoYXJlZE1vZHVsZSDDqSBnbG9iYWwsIG7Do28gcHJlY2lzYSBzZXIgaW1wb3J0YWRvXG4gIF0sXG4gIGNvbnRyb2xsZXJzOiBbXG4gICAgQ2lkYWRhb0NvbnRyb2xsZXIsXG4gICAgUGFwZWxDaWRhZGFvQ29udHJvbGxlcixcbiAgICBWZXJpZmljYWNhb1BhcGVsQ29udHJvbGxlcixcbiAgICBQYXBlbENvbmZsaXRvQ29udHJvbGxlcixcbiAgICBSZWdyYUNvbmZsaXRvUGFwZWxDb250cm9sbGVyLFxuICAgIEluZm9CYW5jYXJpYUNvbnRyb2xsZXIsXG4gICAgRGFkb3NTb2NpYWlzQ29udHJvbGxlcixcbiAgICBDb21wb3NpY2FvRmFtaWxpYXJDb250cm9sbGVyLFxuICAgIC8vIERpYWdub3N0aWNvQ29udHJvbGxlciAvLyBNb3ZpZG8gcGFyYSBtw7NkdWxvIHNlcGFyYWRvXG4gIF0sXG4gIHByb3ZpZGVyczogW1xuICAgIExvZ2dlcixcbiAgICBDaWRhZGFvU2VydmljZSxcbiAgICBDaWRhZGFvUmVwb3NpdG9yeSxcbiAgICBQYXBlbENpZGFkYW9TZXJ2aWNlLFxuICAgIFZlcmlmaWNhY2FvUGFwZWxTZXJ2aWNlLFxuICAgIEhpc3Rvcmljb0NvbnZlcnNhb1BhcGVsU2VydmljZSxcbiAgICBSZWdyYUNvbmZsaXRvUGFwZWxSZXBvc2l0b3J5LFxuICAgIEluZm9CYW5jYXJpYVNlcnZpY2UsXG4gICAgSW5mb0JhbmNhcmlhUmVwb3NpdG9yeSxcbiAgICBEYWRvc1NvY2lhaXNTZXJ2aWNlLFxuICAgIENvbXBvc2ljYW9GYW1pbGlhclNlcnZpY2UsXG4gICAge1xuICAgICAgcHJvdmlkZTogQVBQX0lOVEVSQ0VQVE9SLFxuICAgICAgdXNlQ2xhc3M6IENpZGFkYW9BdWRpdEludGVyY2VwdG9yLFxuICAgIH0sXG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBDaWRhZGFvU2VydmljZSxcbiAgICBDaWRhZGFvUmVwb3NpdG9yeSxcbiAgICBQYXBlbENpZGFkYW9TZXJ2aWNlLFxuICAgIFZlcmlmaWNhY2FvUGFwZWxTZXJ2aWNlLFxuICAgIEhpc3Rvcmljb0NvbnZlcnNhb1BhcGVsU2VydmljZSxcbiAgICBSZWdyYUNvbmZsaXRvUGFwZWxSZXBvc2l0b3J5LFxuICAgIEluZm9CYW5jYXJpYVNlcnZpY2UsXG4gICAgSW5mb0JhbmNhcmlhUmVwb3NpdG9yeSxcbiAgICBEYWRvc1NvY2lhaXNTZXJ2aWNlLFxuICAgIENvbXBvc2ljYW9GYW1pbGlhclNlcnZpY2UsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIENpZGFkYW9Nb2R1bGUge31cbiJdLCJ2ZXJzaW9uIjozfQ==