{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\regra-alerta.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCASiB;AACjB,qDAA2C;AAC3C,yEAA6D;AAE7D;;;;;GAKG;AAEI,IAAM,WAAW,GAAjB,MAAM,WAAW;IAEtB,EAAE,CAAS;IAGX,IAAI,CAAS;IAIb,UAAU,CAAS;IAInB,OAAO,CAAU;IAOjB,KAAK,CAAkB;IAGvB,QAAQ,CAAS;IAGjB,YAAY,CAAS;IAGrB,eAAe,CAAS;IAGxB,kBAAkB,CAAsB;IAIxC,KAAK,CAAU;IAGf,UAAU,CAAO;IAGjB,UAAU,CAAO;CAClB,CAAA;AA3CY,kCAAW;AAEtB;IADC,IAAA,gCAAsB,EAAC,MAAM,CAAC;;uCACpB;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;yCACX;AAIb;IAFC,IAAA,gBAAM,GAAE;IACR,IAAA,eAAK,EAAC,2BAA2B,CAAC;;+CAChB;AAInB;IAFC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,wBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC;IAC5D,IAAA,oBAAU,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;kDAC1B,wBAAO,oBAAP,wBAAO;4CAAC;AAOjB;IALC,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,0CAAe;KACtB,CAAC;IACD,IAAA,eAAK,EAAC,yBAAyB,CAAC;kDAC1B,0CAAe,oBAAf,0CAAe;0CAAC;AAGvB;IADC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;;6CACN;AAGjB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;;iDAChC;AAGrB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;oDACD;AAGxB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACtB,MAAM,oBAAN,MAAM;uDAAc;AAIxC;IAFC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACzB,IAAA,eAAK,EAAC,yBAAyB,CAAC;;0CAClB;AAGf;IADC,IAAA,0BAAgB,GAAE;kDACP,IAAI,oBAAJ,IAAI;+CAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;kDACP,IAAI,oBAAJ,IAAI;+CAAC;sBA1CN,WAAW;IADvB,IAAA,gBAAM,EAAC,eAAe,CAAC;GACX,WAAW,CA2CvB","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\regra-alerta.entity.ts"],"sourcesContent":["import {\n  Entity,\n  Column,\n  PrimaryGeneratedColumn,\n  ManyToOne,\n  JoinColumn,\n  CreateDateColumn,\n  UpdateDateColumn,\n  Index,\n} from 'typeorm';\nimport { Metrica } from './metrica.entity';\nimport { NivelAlertaEnum } from './metrica-seguranca.entity';\n\n/**\n * Entidade que representa regras para geração de alertas\n *\n * Esta entidade define as condições para geração de alertas com base em métricas,\n * incluindo o operador de comparação, valor limiar e mensagem de alerta.\n */\n@Entity('regras_alerta')\nexport class RegraAlerta {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column({ length: 100 })\n  nome: string;\n\n  @Column()\n  @Index('idx_regras_alerta_metrica')\n  metrica_id: string;\n\n  @ManyToOne(() => Metrica, (metrica) => metrica.regras_alerta)\n  @JoinColumn({ name: 'metrica_id' })\n  metrica: Metrica;\n\n  @Column({\n    type: 'enum',\n    enum: NivelAlertaEnum,\n  })\n  @Index('idx_regras_alerta_nivel')\n  nivel: NivelAlertaEnum;\n\n  @Column({ length: 10 })\n  operador: string;\n\n  @Column({ type: 'numeric', precision: 15, scale: 2 })\n  valor_limiar: number;\n\n  @Column({ type: 'text' })\n  mensagem_alerta: string;\n\n  @Column({ type: 'jsonb', nullable: true })\n  canais_notificacao: Record<string, any>;\n\n  @Column({ default: true })\n  @Index('idx_regras_alerta_ativo')\n  ativo: boolean;\n\n  @CreateDateColumn()\n  created_at: Date;\n\n  @UpdateDateColumn()\n  updated_at: Date;\n}\n"],"version":3}