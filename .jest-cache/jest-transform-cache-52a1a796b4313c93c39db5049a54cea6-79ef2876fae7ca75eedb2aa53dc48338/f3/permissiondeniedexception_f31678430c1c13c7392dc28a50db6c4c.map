{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\auth\\exceptions\\permission-denied.exception.ts","mappings":";;;AAAA,2CAAoD;AAGpD;;;;;GAKG;AACH,MAAa,yBAA0B,SAAQ,2BAAkB;IAC/D,YACE,cAAsB,EACtB,SAAqB,EACrB,OAAgB;QAEhB,MAAM,WAAW,GAAG,uDAAuD,CAAC;QAC5E,MAAM,aAAa,GAAG,yBAAyB,cAAc,eAAe,SAAS,GACnF,OAAO,CAAC,CAAC,CAAC,SAAS,OAAO,EAAE,CAAC,CAAC,CAAC,EACjC,EAAE,CAAC;QAEH,KAAK,CAAC;YACJ,OAAO,EAAE,WAAW;YACpB,IAAI,EAAE,mBAAmB;YACzB,OAAO,EAAE;gBACP,kBAAkB,EAAE,aAAa;aAClC;SACF,CAAC,CAAC;IACL,CAAC;CACF;AAnBD,8DAmBC","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\auth\\exceptions\\permission-denied.exception.ts"],"sourcesContent":["import { ForbiddenException } from '@nestjs/common';\nimport { TipoEscopo } from '../../entities/user-permission.entity';\n\n/**\n * Exceção lançada quando um usuário não tem permissão para acessar um recurso.\n * \n * Esta exceção contém informações detalhadas sobre a permissão necessária\n * para auxiliar o usuário a entender o que está faltando.\n */\nexport class PermissionDeniedException extends ForbiddenException {\n  constructor(\n    permissionName: string,\n    scopeType: TipoEscopo,\n    scopeId?: string,\n  ) {\n    const baseMessage = `Acesso negado: você não possui a permissão necessária`;\n    const detailMessage = `Permissão necessária: ${permissionName} com escopo ${scopeType}${\n      scopeId ? ` e ID ${scopeId}` : ''\n    }`;\n\n    super({\n      message: baseMessage,\n      code: 'PERMISSION_DENIED',\n      details: {\n        requiredPermission: detailMessage,\n      },\n    });\n  }\n}\n"],"version":3}