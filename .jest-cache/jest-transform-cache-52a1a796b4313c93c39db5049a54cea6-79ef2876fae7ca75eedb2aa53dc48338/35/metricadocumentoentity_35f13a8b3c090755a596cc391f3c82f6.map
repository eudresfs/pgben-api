{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\metrica-documento.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAA0F;AAC1F,qDAA6G;AAE7G;;;;;;GAMG;AAEI,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IAE3B,EAAE,CAAS;IAOX,QAAQ,CAAS;IAIjB,UAAU,CAAO;IAMjB,YAAY,CAAS;IAMrB,UAAU,CAAS;IAMnB,aAAa,CAAS;IAMtB,UAAU,CAAS;IAMnB,MAAM,CAAS;IAGf,QAAQ,CAAsB;CAC/B,CAAA;AA/CY,4CAAgB;AAE3B;IADC,IAAA,gCAAsB,EAAC,MAAM,CAAC;;4CACpB;AAOX;IALC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;IACtB,IAAA,eAAK,EAAC,kCAAkC,CAAC;IACzC,IAAA,4BAAU,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACjD,IAAA,0BAAQ,EAAC,EAAE,OAAO,EAAE,8BAA8B,EAAE,CAAC;IACrD,IAAA,2BAAS,EAAC,EAAE,EAAE,EAAE,OAAO,EAAE,2CAA2C,EAAE,CAAC;;kDACvD;AAIjB;IAFC,IAAA,0BAAgB,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;IACxC,IAAA,eAAK,EAAC,mCAAmC,CAAC;kDAC/B,IAAI,oBAAJ,IAAI;oDAAC;AAMjB;IAJC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACxC,IAAA,eAAK,EAAC,mCAAmC,CAAC;IAC1C,IAAA,4BAAU,GAAE;IACZ,IAAA,wBAAM,EAAC,GAAG,EAAE,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;;sDAChC;AAMrB;IAJC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACxC,IAAA,eAAK,EAAC,iCAAiC,CAAC;IACxC,IAAA,4BAAU,GAAE;IACZ,IAAA,wBAAM,EAAC,GAAG,EAAE,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;;oDAChC;AAMnB;IAJC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1C,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,EAAC,EAAE,EAAE,EAAE,OAAO,EAAE,qCAAqC,EAAE,CAAC;IAChE,IAAA,qBAAG,EAAC,CAAC,EAAE,EAAE,OAAO,EAAE,wCAAwC,EAAE,CAAC;;uDACxC;AAMtB;IAJC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC3C,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,EAAC,EAAE,EAAE,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACvD,IAAA,qBAAG,EAAC,CAAC,EAAE,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC;;oDAClC;AAMnB;IAJC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACtC,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACnD,IAAA,2BAAS,EAAC,EAAE,EAAE,EAAE,OAAO,EAAE,yCAAyC,EAAE,CAAC;;gDACvD;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDAChC,MAAM,oBAAN,MAAM;kDAAc;2BA9CnB,gBAAgB;IAD5B,IAAA,gBAAM,EAAC,qBAAqB,CAAC;GACjB,gBAAgB,CA+C5B","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\metrica-documento.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, Index, CreateDateColumn } from 'typeorm';\nimport { IsNotEmpty, IsUUID, IsOptional, IsNumber, Min, IsString, MaxLength, IsEnum } from 'class-validator';\n\n/**\n * Entidade que representa métricas de operações com documentos\n * \n * Esta entidade armazena informações sobre operações realizadas com documentos,\n * como upload, download, visualização e exclusão, incluindo metadados como\n * tamanho, duração da operação e status.\n */\n@Entity('metricas_documentos')\nexport class MetricaDocumento {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column({ length: 50 })\n  @Index('idx_metricas_documentos_operacao')\n  @IsNotEmpty({ message: 'Operação é obrigatória' })\n  @IsString({ message: 'Operação deve ser uma string' })\n  @MaxLength(50, { message: 'Operação deve ter no máximo 50 caracteres' })\n  operacao: string;\n\n  @CreateDateColumn({ name: 'created_at' })\n  @Index('idx_metricas_documentos_timestamp')\n  created_at: Date;\n\n  @Column({ type: 'uuid', nullable: true })\n  @Index('idx_metricas_documentos_documento')\n  @IsOptional()\n  @IsUUID('4', { message: 'ID do documento inválido' })\n  documento_id: string;\n\n  @Column({ type: 'uuid', nullable: true })\n  @Index('idx_metricas_documentos_usuario')\n  @IsOptional()\n  @IsUUID('4', { message: 'ID do usuário inválido' })\n  usuario_id: string;\n\n  @Column({ type: 'bigint', nullable: true })\n  @IsOptional()\n  @IsNumber({}, { message: 'Tamanho em bytes deve ser um número' })\n  @Min(0, { message: 'Tamanho em bytes não pode ser negativo' })\n  tamanho_bytes: number;\n\n  @Column({ type: 'integer', nullable: true })\n  @IsOptional()\n  @IsNumber({}, { message: 'Duração deve ser um número' })\n  @Min(0, { message: 'Duração não pode ser negativa' })\n  duracao_ms: number;\n\n  @Column({ length: 20, nullable: true })\n  @IsOptional()\n  @IsString({ message: 'Status deve ser uma string' })\n  @MaxLength(20, { message: 'Status deve ter no máximo 20 caracteres' })\n  status: string;\n\n  @Column({ type: 'jsonb', nullable: true })\n  detalhes: Record<string, any>;\n}\n"],"version":3}