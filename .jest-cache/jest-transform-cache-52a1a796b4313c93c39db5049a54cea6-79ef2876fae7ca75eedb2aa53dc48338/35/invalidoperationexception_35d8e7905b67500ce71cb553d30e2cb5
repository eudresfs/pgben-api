3e4a1d0325d495fb99f9c966b5be37ef
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.InvalidOperationException = void 0;
const common_1 = require("@nestjs/common");
/**
 * Exceção lançada quando uma operação não pode ser executada devido ao estado atual da entidade.
 *
 * Esta exceção é usada para casos onde a operação é tecnicamente válida,
 * mas não pode ser executada devido ao contexto ou estado atual.
 */
class InvalidOperationException extends common_1.BadRequestException {
    constructor(operation, reason, currentState, requiredState) {
        const message = `Operação '${operation}' não pode ser executada`;
        const details = {
            operation,
            reason,
            currentState,
            requiredState,
            message: `${reason}${currentState ? ` (estado atual: ${currentState})` : ''}${requiredState ? ` (estado necessário: ${requiredState})` : ''}`,
        };
        super({
            message,
            code: 'INVALID_OPERATION',
            details,
        });
    }
}
exports.InvalidOperationException = InvalidOperationException;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXHNoYXJlZFxcZXhjZXB0aW9uc1xcaW52YWxpZC1vcGVyYXRpb24uZXhjZXB0aW9uLnRzIiwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUFxRDtBQUVyRDs7Ozs7R0FLRztBQUNILE1BQWEseUJBQTBCLFNBQVEsNEJBQW1CO0lBQ2hFLFlBQ0UsU0FBaUIsRUFDakIsTUFBYyxFQUNkLFlBQXFCLEVBQ3JCLGFBQXNCO1FBRXRCLE1BQU0sT0FBTyxHQUFHLGFBQWEsU0FBUywwQkFBMEIsQ0FBQztRQUNqRSxNQUFNLE9BQU8sR0FBRztZQUNkLFNBQVM7WUFDVCxNQUFNO1lBQ04sWUFBWTtZQUNaLGFBQWE7WUFDYixPQUFPLEVBQUUsR0FBRyxNQUFNLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDLHdCQUF3QixhQUFhLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO1NBQzlJLENBQUM7UUFFRixLQUFLLENBQUM7WUFDSixPQUFPO1lBQ1AsSUFBSSxFQUFFLG1CQUFtQjtZQUN6QixPQUFPO1NBQ1IsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztDQUNGO0FBdEJELDhEQXNCQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXGV1ZHJlXFxPbmVEcml2ZVxcRGVza3RvcFxcUHJvamV0b3NcXHBnYmVuXFxwZ2Jlbi1zZXJ2ZXJcXHNyY1xcc2hhcmVkXFxleGNlcHRpb25zXFxpbnZhbGlkLW9wZXJhdGlvbi5leGNlcHRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFkUmVxdWVzdEV4Y2VwdGlvbiB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcblxuLyoqXG4gKiBFeGNlw6fDo28gbGFuw6dhZGEgcXVhbmRvIHVtYSBvcGVyYcOnw6NvIG7Do28gcG9kZSBzZXIgZXhlY3V0YWRhIGRldmlkbyBhbyBlc3RhZG8gYXR1YWwgZGEgZW50aWRhZGUuXG4gKlxuICogRXN0YSBleGNlw6fDo28gw6kgdXNhZGEgcGFyYSBjYXNvcyBvbmRlIGEgb3BlcmHDp8OjbyDDqSB0ZWNuaWNhbWVudGUgdsOhbGlkYSxcbiAqIG1hcyBuw6NvIHBvZGUgc2VyIGV4ZWN1dGFkYSBkZXZpZG8gYW8gY29udGV4dG8gb3UgZXN0YWRvIGF0dWFsLlxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZE9wZXJhdGlvbkV4Y2VwdGlvbiBleHRlbmRzIEJhZFJlcXVlc3RFeGNlcHRpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBvcGVyYXRpb246IHN0cmluZyxcbiAgICByZWFzb246IHN0cmluZyxcbiAgICBjdXJyZW50U3RhdGU/OiBzdHJpbmcsXG4gICAgcmVxdWlyZWRTdGF0ZT86IHN0cmluZyxcbiAgKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBPcGVyYcOnw6NvICcke29wZXJhdGlvbn0nIG7Do28gcG9kZSBzZXIgZXhlY3V0YWRhYDtcbiAgICBjb25zdCBkZXRhaWxzID0ge1xuICAgICAgb3BlcmF0aW9uLFxuICAgICAgcmVhc29uLFxuICAgICAgY3VycmVudFN0YXRlLFxuICAgICAgcmVxdWlyZWRTdGF0ZSxcbiAgICAgIG1lc3NhZ2U6IGAke3JlYXNvbn0ke2N1cnJlbnRTdGF0ZSA/IGAgKGVzdGFkbyBhdHVhbDogJHtjdXJyZW50U3RhdGV9KWAgOiAnJ30ke3JlcXVpcmVkU3RhdGUgPyBgIChlc3RhZG8gbmVjZXNzw6FyaW86ICR7cmVxdWlyZWRTdGF0ZX0pYCA6ICcnfWAsXG4gICAgfTtcblxuICAgIHN1cGVyKHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBjb2RlOiAnSU5WQUxJRF9PUEVSQVRJT04nLFxuICAgICAgZGV0YWlscyxcbiAgICB9KTtcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9