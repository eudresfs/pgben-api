c3e8b3c0c7a957c0855bcf439af3de9f
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d, _e;
Object.defineProperty(exports, "__esModule", { value: true });
exports.RegraAlerta = void 0;
const typeorm_1 = require("typeorm");
const metrica_entity_1 = require("./metrica.entity");
const metrica_seguranca_entity_1 = require("./metrica-seguranca.entity");
/**
 * Entidade que representa regras para geração de alertas
 *
 * Esta entidade define as condições para geração de alertas com base em métricas,
 * incluindo o operador de comparação, valor limiar e mensagem de alerta.
 */
let RegraAlerta = class RegraAlerta {
    id;
    nome;
    metrica_id;
    metrica;
    nivel;
    operador;
    valor_limiar;
    mensagem_alerta;
    canais_notificacao;
    ativo;
    created_at;
    updated_at;
};
exports.RegraAlerta = RegraAlerta;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),
    __metadata("design:type", String)
], RegraAlerta.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)({ length: 100 }),
    __metadata("design:type", String)
], RegraAlerta.prototype, "nome", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    (0, typeorm_1.Index)('idx_regras_alerta_metrica'),
    __metadata("design:type", String)
], RegraAlerta.prototype, "metrica_id", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => metrica_entity_1.Metrica, (metrica) => metrica.regras_alerta),
    (0, typeorm_1.JoinColumn)({ name: 'metrica_id' }),
    __metadata("design:type", typeof (_a = typeof metrica_entity_1.Metrica !== "undefined" && metrica_entity_1.Metrica) === "function" ? _a : Object)
], RegraAlerta.prototype, "metrica", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: metrica_seguranca_entity_1.NivelAlertaEnum
    }),
    (0, typeorm_1.Index)('idx_regras_alerta_nivel'),
    __metadata("design:type", typeof (_b = typeof metrica_seguranca_entity_1.NivelAlertaEnum !== "undefined" && metrica_seguranca_entity_1.NivelAlertaEnum) === "function" ? _b : Object)
], RegraAlerta.prototype, "nivel", void 0);
__decorate([
    (0, typeorm_1.Column)({ length: 10 }),
    __metadata("design:type", String)
], RegraAlerta.prototype, "operador", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'numeric', precision: 15, scale: 2 }),
    __metadata("design:type", Number)
], RegraAlerta.prototype, "valor_limiar", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'text' }),
    __metadata("design:type", String)
], RegraAlerta.prototype, "mensagem_alerta", void 0);
__decorate([
    (0, typeorm_1.Column)({ type: 'jsonb', nullable: true }),
    __metadata("design:type", typeof (_c = typeof Record !== "undefined" && Record) === "function" ? _c : Object)
], RegraAlerta.prototype, "canais_notificacao", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: true }),
    (0, typeorm_1.Index)('idx_regras_alerta_ativo'),
    __metadata("design:type", Boolean)
], RegraAlerta.prototype, "ativo", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", typeof (_d = typeof Date !== "undefined" && Date) === "function" ? _d : Object)
], RegraAlerta.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", typeof (_e = typeof Date !== "undefined" && Date) === "function" ? _e : Object)
], RegraAlerta.prototype, "updated_at", void 0);
exports.RegraAlerta = RegraAlerta = __decorate([
    (0, typeorm_1.Entity)('regras_alerta')
], RegraAlerta);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXGVudGl0aWVzXFxyZWdyYS1hbGVydGEuZW50aXR5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQ0FBbUk7QUFDbkkscURBQTJDO0FBQzNDLHlFQUE2RDtBQUU3RDs7Ozs7R0FLRztBQUVJLElBQU0sV0FBVyxHQUFqQixNQUFNLFdBQVc7SUFFdEIsRUFBRSxDQUFTO0lBR1gsSUFBSSxDQUFTO0lBSWIsVUFBVSxDQUFTO0lBSW5CLE9BQU8sQ0FBVTtJQU9qQixLQUFLLENBQWtCO0lBR3ZCLFFBQVEsQ0FBUztJQUdqQixZQUFZLENBQVM7SUFHckIsZUFBZSxDQUFTO0lBR3hCLGtCQUFrQixDQUFzQjtJQUl4QyxLQUFLLENBQVU7SUFHZixVQUFVLENBQU87SUFHakIsVUFBVSxDQUFPO0NBQ2xCLENBQUE7QUEzQ1ksa0NBQVc7QUFFdEI7SUFEQyxJQUFBLGdDQUFzQixFQUFDLE1BQU0sQ0FBQzs7dUNBQ3BCO0FBR1g7SUFEQyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUM7O3lDQUNYO0FBSWI7SUFGQyxJQUFBLGdCQUFNLEdBQUU7SUFDUixJQUFBLGVBQUssRUFBQywyQkFBMkIsQ0FBQzs7K0NBQ2hCO0FBSW5CO0lBRkMsSUFBQSxtQkFBUyxFQUFDLEdBQUcsRUFBRSxDQUFDLHdCQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUM7SUFDNUQsSUFBQSxvQkFBVSxFQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxDQUFDO2tEQUMxQix3QkFBTyxvQkFBUCx3QkFBTzs0Q0FBQztBQU9qQjtJQUxDLElBQUEsZ0JBQU0sRUFBQztRQUNOLElBQUksRUFBRSxNQUFNO1FBQ1osSUFBSSxFQUFFLDBDQUFlO0tBQ3RCLENBQUM7SUFDRCxJQUFBLGVBQUssRUFBQyx5QkFBeUIsQ0FBQztrREFDMUIsMENBQWUsb0JBQWYsMENBQWU7MENBQUM7QUFHdkI7SUFEQyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUM7OzZDQUNOO0FBR2pCO0lBREMsSUFBQSxnQkFBTSxFQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQzs7aURBQ2hDO0FBR3JCO0lBREMsSUFBQSxnQkFBTSxFQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDOztvREFDRDtBQUd4QjtJQURDLElBQUEsZ0JBQU0sRUFBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDO2tEQUN0QixNQUFNLG9CQUFOLE1BQU07dURBQWM7QUFJeEM7SUFGQyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDekIsSUFBQSxlQUFLLEVBQUMseUJBQXlCLENBQUM7OzBDQUNsQjtBQUdmO0lBREMsSUFBQSwwQkFBZ0IsR0FBRTtrREFDUCxJQUFJLG9CQUFKLElBQUk7K0NBQUM7QUFHakI7SUFEQyxJQUFBLDBCQUFnQixHQUFFO2tEQUNQLElBQUksb0JBQUosSUFBSTsrQ0FBQztzQkExQ04sV0FBVztJQUR2QixJQUFBLGdCQUFNLEVBQUMsZUFBZSxDQUFDO0dBQ1gsV0FBVyxDQTJDdkIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXGVudGl0aWVzXFxyZWdyYS1hbGVydGEuZW50aXR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eSwgQ29sdW1uLCBQcmltYXJ5R2VuZXJhdGVkQ29sdW1uLCBNYW55VG9PbmUsIEpvaW5Db2x1bW4sIENyZWF0ZURhdGVDb2x1bW4sIFVwZGF0ZURhdGVDb2x1bW4sIEluZGV4IH0gZnJvbSAndHlwZW9ybSc7XG5pbXBvcnQgeyBNZXRyaWNhIH0gZnJvbSAnLi9tZXRyaWNhLmVudGl0eSc7XG5pbXBvcnQgeyBOaXZlbEFsZXJ0YUVudW0gfSBmcm9tICcuL21ldHJpY2Etc2VndXJhbmNhLmVudGl0eSc7XG5cbi8qKlxuICogRW50aWRhZGUgcXVlIHJlcHJlc2VudGEgcmVncmFzIHBhcmEgZ2VyYcOnw6NvIGRlIGFsZXJ0YXNcbiAqIFxuICogRXN0YSBlbnRpZGFkZSBkZWZpbmUgYXMgY29uZGnDp8O1ZXMgcGFyYSBnZXJhw6fDo28gZGUgYWxlcnRhcyBjb20gYmFzZSBlbSBtw6l0cmljYXMsXG4gKiBpbmNsdWluZG8gbyBvcGVyYWRvciBkZSBjb21wYXJhw6fDo28sIHZhbG9yIGxpbWlhciBlIG1lbnNhZ2VtIGRlIGFsZXJ0YS5cbiAqL1xuQEVudGl0eSgncmVncmFzX2FsZXJ0YScpXG5leHBvcnQgY2xhc3MgUmVncmFBbGVydGEge1xuICBAUHJpbWFyeUdlbmVyYXRlZENvbHVtbigndXVpZCcpXG4gIGlkOiBzdHJpbmc7XG5cbiAgQENvbHVtbih7IGxlbmd0aDogMTAwIH0pXG4gIG5vbWU6IHN0cmluZztcblxuICBAQ29sdW1uKClcbiAgQEluZGV4KCdpZHhfcmVncmFzX2FsZXJ0YV9tZXRyaWNhJylcbiAgbWV0cmljYV9pZDogc3RyaW5nO1xuXG4gIEBNYW55VG9PbmUoKCkgPT4gTWV0cmljYSwgKG1ldHJpY2EpID0+IG1ldHJpY2EucmVncmFzX2FsZXJ0YSlcbiAgQEpvaW5Db2x1bW4oeyBuYW1lOiAnbWV0cmljYV9pZCcgfSlcbiAgbWV0cmljYTogTWV0cmljYTtcblxuICBAQ29sdW1uKHtcbiAgICB0eXBlOiAnZW51bScsXG4gICAgZW51bTogTml2ZWxBbGVydGFFbnVtXG4gIH0pXG4gIEBJbmRleCgnaWR4X3JlZ3Jhc19hbGVydGFfbml2ZWwnKVxuICBuaXZlbDogTml2ZWxBbGVydGFFbnVtO1xuXG4gIEBDb2x1bW4oeyBsZW5ndGg6IDEwIH0pXG4gIG9wZXJhZG9yOiBzdHJpbmc7XG5cbiAgQENvbHVtbih7IHR5cGU6ICdudW1lcmljJywgcHJlY2lzaW9uOiAxNSwgc2NhbGU6IDIgfSlcbiAgdmFsb3JfbGltaWFyOiBudW1iZXI7XG5cbiAgQENvbHVtbih7IHR5cGU6ICd0ZXh0JyB9KVxuICBtZW5zYWdlbV9hbGVydGE6IHN0cmluZztcblxuICBAQ29sdW1uKHsgdHlwZTogJ2pzb25iJywgbnVsbGFibGU6IHRydWUgfSlcbiAgY2FuYWlzX25vdGlmaWNhY2FvOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG4gIEBDb2x1bW4oeyBkZWZhdWx0OiB0cnVlIH0pXG4gIEBJbmRleCgnaWR4X3JlZ3Jhc19hbGVydGFfYXRpdm8nKVxuICBhdGl2bzogYm9vbGVhbjtcblxuICBAQ3JlYXRlRGF0ZUNvbHVtbigpXG4gIGNyZWF0ZWRfYXQ6IERhdGU7XG5cbiAgQFVwZGF0ZURhdGVDb2x1bW4oKVxuICB1cGRhdGVkX2F0OiBEYXRlO1xufVxuIl0sInZlcnNpb24iOjN9