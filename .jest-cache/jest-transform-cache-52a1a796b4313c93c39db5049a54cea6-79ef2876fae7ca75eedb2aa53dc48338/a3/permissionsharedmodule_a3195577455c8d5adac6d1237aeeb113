2fe9f0c315af7d528fed551df1cbdaaa
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PermissionSharedModule = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const core_1 = require("@nestjs/core");
const permission_entity_1 = require("../../entities/permission.entity");
const permission_group_entity_1 = require("../../entities/permission-group.entity");
const permission_group_mapping_entity_1 = require("../../entities/permission-group-mapping.entity");
const role_permission_entity_1 = require("../../entities/role-permission.entity");
const user_permission_entity_1 = require("../../entities/user-permission.entity");
const permission_scope_entity_1 = require("../../entities/permission-scope.entity");
const permission_repository_1 = require("../../auth/repositories/permission.repository");
const permission_group_repository_1 = require("../../auth/repositories/permission-group.repository");
const permission_group_mapping_repository_1 = require("../../auth/repositories/permission-group-mapping.repository");
const role_permission_repository_1 = require("../../auth/repositories/role-permission.repository");
const user_permission_repository_1 = require("../../auth/repositories/user-permission.repository");
const permission_scope_repository_1 = require("../../auth/repositories/permission-scope.repository");
const permission_service_1 = require("../../auth/services/permission.service");
const permission_guard_1 = require("../../auth/guards/permission.guard");
let PermissionSharedModule = class PermissionSharedModule {
};
exports.PermissionSharedModule = PermissionSharedModule;
exports.PermissionSharedModule = PermissionSharedModule = __decorate([
    (0, common_1.Global)(),
    (0, common_1.Module)({
        imports: [
            typeorm_1.TypeOrmModule.forFeature([
                permission_entity_1.Permission,
                permission_group_entity_1.PermissionGroup,
                permission_group_mapping_entity_1.PermissionGroupMapping,
                role_permission_entity_1.RolePermission,
                user_permission_entity_1.UserPermission,
                permission_scope_entity_1.PermissionScope,
            ]),
        ],
        providers: [
            permission_repository_1.PermissionRepository,
            permission_group_repository_1.PermissionGroupRepository,
            permission_group_mapping_repository_1.PermissionGroupMappingRepository,
            role_permission_repository_1.RolePermissionRepository,
            user_permission_repository_1.UserPermissionRepository,
            permission_scope_repository_1.PermissionScopeRepository,
            permission_service_1.PermissionService,
            permission_guard_1.PermissionGuard,
            core_1.Reflector,
        ],
        exports: [permission_service_1.PermissionService, permission_guard_1.PermissionGuard],
    })
], PermissionSharedModule);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXHNoYXJlZFxccGVybWlzc2lvblxccGVybWlzc2lvbi1zaGFyZWQubW9kdWxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLDJDQUFnRDtBQUNoRCw2Q0FBZ0Q7QUFDaEQsdUNBQXlDO0FBQ3pDLHdFQUE4RDtBQUM5RCxvRkFBeUU7QUFDekUsb0dBQXdGO0FBQ3hGLGtGQUF1RTtBQUN2RSxrRkFBdUU7QUFDdkUsb0ZBQXlFO0FBQ3pFLHlGQUFxRjtBQUNyRixxR0FBZ0c7QUFDaEcscUhBQStHO0FBQy9HLG1HQUE4RjtBQUM5RixtR0FBOEY7QUFDOUYscUdBQWdHO0FBQ2hHLCtFQUEyRTtBQUMzRSx5RUFBcUU7QUEyQjlELElBQU0sc0JBQXNCLEdBQTVCLE1BQU0sc0JBQXNCO0NBQUcsQ0FBQTtBQUF6Qix3REFBc0I7aUNBQXRCLHNCQUFzQjtJQXpCbEMsSUFBQSxlQUFNLEdBQUU7SUFDUixJQUFBLGVBQU0sRUFBQztRQUNOLE9BQU8sRUFBRTtZQUNQLHVCQUFhLENBQUMsVUFBVSxDQUFDO2dCQUN2Qiw4QkFBVTtnQkFDVix5Q0FBZTtnQkFDZix3REFBc0I7Z0JBQ3RCLHVDQUFjO2dCQUNkLHVDQUFjO2dCQUNkLHlDQUFlO2FBQ2hCLENBQUM7U0FDSDtRQUNELFNBQVMsRUFBRTtZQUNULDRDQUFvQjtZQUNwQix1REFBeUI7WUFDekIsc0VBQWdDO1lBQ2hDLHFEQUF3QjtZQUN4QixxREFBd0I7WUFDeEIsdURBQXlCO1lBQ3pCLHNDQUFpQjtZQUNqQixrQ0FBZTtZQUNmLGdCQUFTO1NBQ1Y7UUFDRCxPQUFPLEVBQUUsQ0FBQyxzQ0FBaUIsRUFBRSxrQ0FBZSxDQUFDO0tBQzlDLENBQUM7R0FDVyxzQkFBc0IsQ0FBRyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXGV1ZHJlXFxPbmVEcml2ZVxcRGVza3RvcFxcUHJvamV0b3NcXHBnYmVuXFxwZ2Jlbi1zZXJ2ZXJcXHNyY1xcc2hhcmVkXFxwZXJtaXNzaW9uXFxwZXJtaXNzaW9uLXNoYXJlZC5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR2xvYmFsLCBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBUeXBlT3JtTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy90eXBlb3JtJztcbmltcG9ydCB7IFJlZmxlY3RvciB9IGZyb20gJ0BuZXN0anMvY29yZSc7XG5pbXBvcnQgeyBQZXJtaXNzaW9uIH0gZnJvbSAnLi4vLi4vZW50aXRpZXMvcGVybWlzc2lvbi5lbnRpdHknO1xuaW1wb3J0IHsgUGVybWlzc2lvbkdyb3VwIH0gZnJvbSAnLi4vLi4vZW50aXRpZXMvcGVybWlzc2lvbi1ncm91cC5lbnRpdHknO1xuaW1wb3J0IHsgUGVybWlzc2lvbkdyb3VwTWFwcGluZyB9IGZyb20gJy4uLy4uL2VudGl0aWVzL3Blcm1pc3Npb24tZ3JvdXAtbWFwcGluZy5lbnRpdHknO1xuaW1wb3J0IHsgUm9sZVBlcm1pc3Npb24gfSBmcm9tICcuLi8uLi9lbnRpdGllcy9yb2xlLXBlcm1pc3Npb24uZW50aXR5JztcbmltcG9ydCB7IFVzZXJQZXJtaXNzaW9uIH0gZnJvbSAnLi4vLi4vZW50aXRpZXMvdXNlci1wZXJtaXNzaW9uLmVudGl0eSc7XG5pbXBvcnQgeyBQZXJtaXNzaW9uU2NvcGUgfSBmcm9tICcuLi8uLi9lbnRpdGllcy9wZXJtaXNzaW9uLXNjb3BlLmVudGl0eSc7XG5pbXBvcnQgeyBQZXJtaXNzaW9uUmVwb3NpdG9yeSB9IGZyb20gJy4uLy4uL2F1dGgvcmVwb3NpdG9yaWVzL3Blcm1pc3Npb24ucmVwb3NpdG9yeSc7XG5pbXBvcnQgeyBQZXJtaXNzaW9uR3JvdXBSZXBvc2l0b3J5IH0gZnJvbSAnLi4vLi4vYXV0aC9yZXBvc2l0b3JpZXMvcGVybWlzc2lvbi1ncm91cC5yZXBvc2l0b3J5JztcbmltcG9ydCB7IFBlcm1pc3Npb25Hcm91cE1hcHBpbmdSZXBvc2l0b3J5IH0gZnJvbSAnLi4vLi4vYXV0aC9yZXBvc2l0b3JpZXMvcGVybWlzc2lvbi1ncm91cC1tYXBwaW5nLnJlcG9zaXRvcnknO1xuaW1wb3J0IHsgUm9sZVBlcm1pc3Npb25SZXBvc2l0b3J5IH0gZnJvbSAnLi4vLi4vYXV0aC9yZXBvc2l0b3JpZXMvcm9sZS1wZXJtaXNzaW9uLnJlcG9zaXRvcnknO1xuaW1wb3J0IHsgVXNlclBlcm1pc3Npb25SZXBvc2l0b3J5IH0gZnJvbSAnLi4vLi4vYXV0aC9yZXBvc2l0b3JpZXMvdXNlci1wZXJtaXNzaW9uLnJlcG9zaXRvcnknO1xuaW1wb3J0IHsgUGVybWlzc2lvblNjb3BlUmVwb3NpdG9yeSB9IGZyb20gJy4uLy4uL2F1dGgvcmVwb3NpdG9yaWVzL3Blcm1pc3Npb24tc2NvcGUucmVwb3NpdG9yeSc7XG5pbXBvcnQgeyBQZXJtaXNzaW9uU2VydmljZSB9IGZyb20gJy4uLy4uL2F1dGgvc2VydmljZXMvcGVybWlzc2lvbi5zZXJ2aWNlJztcbmltcG9ydCB7IFBlcm1pc3Npb25HdWFyZCB9IGZyb20gJy4uLy4uL2F1dGgvZ3VhcmRzL3Blcm1pc3Npb24uZ3VhcmQnO1xuXG5AR2xvYmFsKClcbkBNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgVHlwZU9ybU1vZHVsZS5mb3JGZWF0dXJlKFtcbiAgICAgIFBlcm1pc3Npb24sXG4gICAgICBQZXJtaXNzaW9uR3JvdXAsXG4gICAgICBQZXJtaXNzaW9uR3JvdXBNYXBwaW5nLFxuICAgICAgUm9sZVBlcm1pc3Npb24sXG4gICAgICBVc2VyUGVybWlzc2lvbixcbiAgICAgIFBlcm1pc3Npb25TY29wZSxcbiAgICBdKSxcbiAgXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgUGVybWlzc2lvblJlcG9zaXRvcnksXG4gICAgUGVybWlzc2lvbkdyb3VwUmVwb3NpdG9yeSxcbiAgICBQZXJtaXNzaW9uR3JvdXBNYXBwaW5nUmVwb3NpdG9yeSxcbiAgICBSb2xlUGVybWlzc2lvblJlcG9zaXRvcnksXG4gICAgVXNlclBlcm1pc3Npb25SZXBvc2l0b3J5LFxuICAgIFBlcm1pc3Npb25TY29wZVJlcG9zaXRvcnksXG4gICAgUGVybWlzc2lvblNlcnZpY2UsXG4gICAgUGVybWlzc2lvbkd1YXJkLFxuICAgIFJlZmxlY3RvcixcbiAgXSxcbiAgZXhwb3J0czogW1Blcm1pc3Npb25TZXJ2aWNlLCBQZXJtaXNzaW9uR3VhcmRdLFxufSlcbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uU2hhcmVkTW9kdWxlIHt9XG4iXSwidmVyc2lvbiI6M30=