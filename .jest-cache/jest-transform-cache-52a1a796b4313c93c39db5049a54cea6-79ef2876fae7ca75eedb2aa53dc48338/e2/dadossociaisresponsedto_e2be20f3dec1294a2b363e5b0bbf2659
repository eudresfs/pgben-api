9e3e4a0ae79d07e418720fdee74ce9e5
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d;
Object.defineProperty(exports, "__esModule", { value: true });
exports.DadosSociaisResponseDto = void 0;
const swagger_1 = require("@nestjs/swagger");
const class_transformer_1 = require("class-transformer");
const escolaridade_enum_1 = require("../../../enums/escolaridade.enum");
const situacao_trabalho_enum_1 = require("../../../enums/situacao-trabalho.enum");
/**
 * DTO de resposta para dados sociais de um cidadão
 *
 * Padroniza o formato de retorno dos dados sociais, incluindo
 * campos calculados e formatação adequada para o frontend.
 */
class DadosSociaisResponseDto {
    id;
    cidadao_id;
    escolaridade;
    publico_prioritario;
    renda;
    ocupacao;
    recebe_pbf;
    valor_pbf;
    recebe_bpc;
    tipo_bpc;
    valor_bpc;
    curso_profissionalizante;
    interesse_curso_profissionalizante;
    situacao_trabalho;
    area_trabalho;
    familiar_apto_trabalho;
    area_interesse_familiar;
    observacoes;
    renda_per_capita;
    total_beneficios;
    renda_total;
    created_at;
    updated_at;
    constructor(dadosSociais) {
        if (dadosSociais) {
            this.id = dadosSociais.id;
            this.cidadao_id = dadosSociais.cidadao_id;
            this.escolaridade = dadosSociais.escolaridade;
            this.publico_prioritario = dadosSociais.publico_prioritario;
            this.renda = dadosSociais.renda ? parseFloat(dadosSociais.renda.toString()) : null;
            this.ocupacao = dadosSociais.ocupacao;
            this.recebe_pbf = dadosSociais.recebe_pbf;
            this.valor_pbf = dadosSociais.valor_pbf ? parseFloat(dadosSociais.valor_pbf.toString()) : null;
            this.recebe_bpc = dadosSociais.recebe_bpc;
            this.tipo_bpc = dadosSociais.tipo_bpc;
            this.valor_bpc = dadosSociais.valor_bpc ? parseFloat(dadosSociais.valor_bpc.toString()) : null;
            this.curso_profissionalizante = dadosSociais.curso_profissionalizante;
            this.interesse_curso_profissionalizante = dadosSociais.interesse_curso_profissionalizante;
            this.situacao_trabalho = dadosSociais.situacao_trabalho;
            this.area_trabalho = dadosSociais.area_trabalho;
            this.familiar_apto_trabalho = dadosSociais.familiar_apto_trabalho;
            this.area_interesse_familiar = dadosSociais.area_interesse_familiar;
            this.observacoes = dadosSociais.observacoes;
            this.created_at = dadosSociais.created_at;
            this.updated_at = dadosSociais.updated_at;
            // Cálculos derivados
            this.total_beneficios = this.calculateTotalBeneficios();
            this.renda_total = this.calculateRendaTotal();
        }
    }
    /**
     * Calcula o total de benefícios recebidos
     */
    calculateTotalBeneficios() {
        let total = 0;
        if (this.valor_pbf)
            total += this.valor_pbf;
        if (this.valor_bpc)
            total += this.valor_bpc;
        return total > 0 ? total : null;
    }
    /**
     * Calcula a renda total (renda + benefícios)
     */
    calculateRendaTotal() {
        let total = 0;
        if (this.renda)
            total += this.renda;
        if (this.valor_pbf)
            total += this.valor_pbf;
        if (this.valor_bpc)
            total += this.valor_bpc;
        return total > 0 ? total : null;
    }
}
exports.DadosSociaisResponseDto = DadosSociaisResponseDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'ID único dos dados sociais',
        example: '123e4567-e89b-12d3-a456-426614174000',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "id", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'ID do cidadão proprietário dos dados sociais',
        example: '123e4567-e89b-12d3-a456-426614174001',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "cidadao_id", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Nível de escolaridade do cidadão',
        enum: escolaridade_enum_1.EscolaridadeEnum,
        example: escolaridade_enum_1.EscolaridadeEnum.MEDIO_COMPLETO,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", typeof (_a = typeof escolaridade_enum_1.EscolaridadeEnum !== "undefined" && escolaridade_enum_1.EscolaridadeEnum) === "function" ? _a : Object)
], DadosSociaisResponseDto.prototype, "escolaridade", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão faz parte de público prioritário',
        example: true,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "publico_prioritario", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Renda mensal do cidadão em reais',
        example: 1500.50,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ value }) => value ? parseFloat(value) : null),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "renda", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Ocupação ou profissão do cidadão',
        example: 'Auxiliar de limpeza',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "ocupacao", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão recebe Programa Bolsa Família',
        example: false,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "recebe_pbf", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Valor mensal recebido do Programa Bolsa Família',
        example: 400.00,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ value }) => value ? parseFloat(value) : null),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "valor_pbf", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão recebe Benefício de Prestação Continuada',
        example: false,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "recebe_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Tipo do BPC recebido',
        example: 'Pessoa com deficiência',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "tipo_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Valor mensal recebido do BPC',
        example: 1320.00,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ value }) => value ? parseFloat(value) : null),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "valor_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Curso profissionalizante que o cidadão possui ou está cursando',
        example: 'Técnico em Informática',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "curso_profissionalizante", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão tem interesse em fazer curso profissionalizante',
        example: true,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "interesse_curso_profissionalizante", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Situação atual de trabalho do cidadão',
        enum: situacao_trabalho_enum_1.SituacaoTrabalhoEnum,
        example: situacao_trabalho_enum_1.SituacaoTrabalhoEnum.DESEMPREGADO,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", typeof (_b = typeof situacao_trabalho_enum_1.SituacaoTrabalhoEnum !== "undefined" && situacao_trabalho_enum_1.SituacaoTrabalhoEnum) === "function" ? _b : Object)
], DadosSociaisResponseDto.prototype, "situacao_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Área de trabalho ou interesse profissional',
        example: 'Serviços gerais',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "area_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se há familiar apto para trabalhar na composição familiar',
        example: true,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "familiar_apto_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Área de interesse profissional de familiares',
        example: 'Construção civil',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "area_interesse_familiar", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Observações adicionais sobre a situação social',
        example: 'Família em situação de vulnerabilidade social',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "observacoes", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Renda per capita calculada automaticamente',
        example: 375.12,
        type: 'number',
        format: 'decimal',
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ obj }) => {
        // Calcula renda per capita baseada na composição familiar
        // Este cálculo será implementado no service
        return obj.renda_per_capita || null;
    }),
    __metadata("design:type", Number)
], DadosSociaisResponseDto.prototype, "renda_per_capita", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Total de benefícios recebidos (PBF + BPC)',
        example: 1720.00,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ obj }) => {
        let total = 0;
        if (obj.valor_pbf)
            total += parseFloat(obj.valor_pbf);
        if (obj.valor_bpc)
            total += parseFloat(obj.valor_bpc);
        return total > 0 ? total : null;
    }),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "total_beneficios", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Renda total (renda + benefícios)',
        example: 3220.00,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ obj }) => {
        let total = 0;
        if (obj.renda)
            total += parseFloat(obj.renda);
        if (obj.valor_pbf)
            total += parseFloat(obj.valor_pbf);
        if (obj.valor_bpc)
            total += parseFloat(obj.valor_bpc);
        return total > 0 ? total : null;
    }),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "renda_total", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Data de criação do registro',
        example: '2024-01-15T10:30:00Z',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object)
], DadosSociaisResponseDto.prototype, "created_at", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Data da última atualização',
        example: '2024-01-20T14:45:00Z',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", typeof (_d = typeof Date !== "undefined" && Date) === "function" ? _d : Object)
], DadosSociaisResponseDto.prototype, "updated_at", void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGNpZGFkYW9cXGR0b1xcZGFkb3Mtc29jaWFpcy1yZXNwb25zZS5kdG8udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUE4QztBQUM5Qyx5REFBc0Q7QUFFdEQsd0VBQW9FO0FBQ3BFLGtGQUE2RTtBQUU3RTs7Ozs7R0FLRztBQUNILE1BQWEsdUJBQXVCO0lBTWxDLEVBQUUsQ0FBUztJQU9YLFVBQVUsQ0FBUztJQVFuQixZQUFZLENBQW1CO0lBTy9CLG1CQUFtQixDQUFVO0lBVzdCLEtBQUssQ0FBZ0I7SUFPckIsUUFBUSxDQUFTO0lBT2pCLFVBQVUsQ0FBVTtJQVdwQixTQUFTLENBQWdCO0lBT3pCLFVBQVUsQ0FBVTtJQU9wQixRQUFRLENBQVM7SUFXakIsU0FBUyxDQUFnQjtJQU96Qix3QkFBd0IsQ0FBUztJQU9qQyxrQ0FBa0MsQ0FBVTtJQVE1QyxpQkFBaUIsQ0FBdUI7SUFPeEMsYUFBYSxDQUFTO0lBT3RCLHNCQUFzQixDQUFVO0lBT2hDLHVCQUF1QixDQUFTO0lBT2hDLFdBQVcsQ0FBUztJQWNwQixnQkFBZ0IsQ0FBUztJQWdCekIsZ0JBQWdCLENBQWdCO0lBaUJoQyxXQUFXLENBQWdCO0lBTzNCLFVBQVUsQ0FBTztJQU9qQixVQUFVLENBQU87SUFFakIsWUFBWSxZQUEwQjtRQUNwQyxJQUFJLFlBQVksRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxFQUFFLEdBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQztZQUMxQixJQUFJLENBQUMsVUFBVSxHQUFHLFlBQVksQ0FBQyxVQUFVLENBQUM7WUFDMUMsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDO1lBQzlDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxZQUFZLENBQUMsbUJBQW1CLENBQUM7WUFDNUQsSUFBSSxDQUFDLEtBQUssR0FBRyxZQUFZLENB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QUFLLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QyxJQUFJLEdBQUcsQ0FBQyxTQUFTO1lBQUUsS0FBSyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEQsSUFBSSxHQUFHLENBQUMsU0FBUztZQUFFLEtBQUssSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3RELE9BQU8sS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDbEMsQ0FBQyxDQUFDOzs0REFDeUI7QUFPM0I7SUFMQyxJQUFBLHFCQUFXLEVBQUM7UUFDWCxXQUFXLEVBQUUsNkJBQTZCO1FBQzFDLE9BQU8sRUFBRSxzQkFBc0I7S0FDaEMsQ0FBQztJQUNELElBQUEsMEJBQU0sR0FBRTtrREFDRyxJQUFJLG9CQUFKLElBQUk7MkRBQUM7QUFPakI7SUFMQyxJQUFBLHFCQUFXLEVBQUM7UUFDWCxXQUFXLEVBQUUsNEJBQTRCO1FBQ3pDLE9BQU8sRUFBRSxzQkFBc0I7S0FDaEMsQ0FBQztJQUNELElBQUEsMEJBQU0sR0FBRTtrREFDRyxJQUFJLG9CQUFKLElBQUk7MkRBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGNpZGFkYW9cXGR0b1xcZGFkb3Mtc29jaWFpcy1yZXNwb25zZS5kdG8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBpUHJvcGVydHkgfSBmcm9tICdAbmVzdGpzL3N3YWdnZXInO1xuaW1wb3J0IHsgRXhwb3NlLCBUcmFuc2Zvcm0gfSBmcm9tICdjbGFzcy10cmFuc2Zvcm1lcic7XG5pbXBvcnQgeyBEYWRvc1NvY2lhaXMgfSBmcm9tICcuLi8uLi8uLi9lbnRpdGllcy9kYWRvcy1zb2NpYWlzLmVudGl0eSc7XG5pbXBvcnQgeyBFc2NvbGFyaWRhZGVFbnVtIH0gZnJvbSAnLi4vLi4vLi4vZW51bXMvZXNjb2xhcmlkYWRlLmVudW0nO1xuaW1wb3J0IHsgU2l0dWFjYW9UcmFiYWxob0VudW0gfSBmcm9tICcuLi8uLi8uLi9lbnVtcy9zaXR1YWNhby10cmFiYWxoby5lbnVtJztcblxuLyoqXG4gKiBEVE8gZGUgcmVzcG9zdGEgcGFyYSBkYWRvcyBzb2NpYWlzIGRlIHVtIGNpZGFkw6NvXG4gKiBcbiAqIFBhZHJvbml6YSBvIGZvcm1hdG8gZGUgcmV0b3JubyBkb3MgZGFkb3Mgc29jaWFpcywgaW5jbHVpbmRvXG4gKiBjYW1wb3MgY2FsY3VsYWRvcyBlIGZvcm1hdGHDp8OjbyBhZGVxdWFkYSBwYXJhIG8gZnJvbnRlbmQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEYWRvc1NvY2lhaXNSZXNwb25zZUR0byB7XG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdJRCDDum5pY28gZG9zIGRhZG9zIHNvY2lhaXMnLFxuICAgIGV4YW1wbGU6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLFxuICB9KVxuICBARXhwb3NlKClcbiAgaWQ6IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnSUQgZG8gY2lkYWTDo28gcHJvcHJpZXTDoXJpbyBkb3MgZGFkb3Mgc29jaWFpcycsXG4gICAgZXhhbXBsZTogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMScsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBjaWRhZGFvX2lkOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ07DrXZlbCBkZSBlc2NvbGFyaWRhZGUgZG8gY2lkYWTDo28nLFxuICAgIGVudW06IEVzY29sYXJpZGFkZUVudW0sXG4gICAgZXhhbXBsZTogRXNjb2xhcmlkYWRlRW51bS5NRURJT19DT01QTEVUTyxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIGVzY29sYXJpZGFkZTogRXNjb2xhcmlkYWRlRW51bTtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnSW5kaWNhIHNlIG8gY2lkYWTDo28gZmF6IHBhcnRlIGRlIHDDumJsaWNvIHByaW9yaXTDoXJpbycsXG4gICAgZXhhbXBsZTogdHJ1ZSxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIHB1YmxpY29fcHJpb3JpdGFyaW86IGJvb2xlYW47XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1JlbmRhIG1lbnNhbCBkbyBjaWRhZMOjbyBlbSByZWFpcycsXG4gICAgZXhhbXBsZTogMTUwMC41MCxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBmb3JtYXQ6ICdkZWNpbWFsJyxcbiAgICBudWxsYWJsZTogdHJ1ZSxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4gdmFsdWUgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IG51bGwpXG4gIHJlbmRhOiBudW1iZXIgfCBudWxsO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdPY3VwYcOnw6NvIG91IHByb2Zpc3PDo28gZG8gY2lkYWTDo28nLFxuICAgIGV4YW1wbGU6ICdBdXhpbGlhciBkZSBsaW1wZXphJyxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIG9jdXBhY2FvOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0luZGljYSBzZSBvIGNpZGFkw6NvIHJlY2ViZSBQcm9ncmFtYSBCb2xzYSBGYW3DrWxpYScsXG4gICAgZXhhbXBsZTogZmFsc2UsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICByZWNlYmVfcGJmOiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdWYWxvciBtZW5zYWwgcmVjZWJpZG8gZG8gUHJvZ3JhbWEgQm9sc2EgRmFtw61saWEnLFxuICAgIGV4YW1wbGU6IDQwMC4wMCxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBmb3JtYXQ6ICdkZWNpbWFsJyxcbiAgICBudWxsYWJsZTogdHJ1ZSxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4gdmFsdWUgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IG51bGwpXG4gIHZhbG9yX3BiZjogbnVtYmVyIHwgbnVsbDtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnSW5kaWNhIHNlIG8gY2lkYWTDo28gcmVjZWJlIEJlbmVmw61jaW8gZGUgUHJlc3Rhw6fDo28gQ29udGludWFkYScsXG4gICAgZXhhbXBsZTogZmFsc2UsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICByZWNlYmVfYnBjOiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUaXBvIGRvIEJQQyByZWNlYmlkbycsXG4gICAgZXhhbXBsZTogJ1Blc3NvYSBjb20gZGVmaWNpw6puY2lhJyxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIHRpcG9fYnBjOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1ZhbG9yIG1lbnNhbCByZWNlYmlkbyBkbyBCUEMnLFxuICAgIGV4YW1wbGU6IDEzMjAuMDAsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZm9ybWF0OiAnZGVjaW1hbCcsXG4gICAgbnVsbGFibGU6IHRydWUsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBAVHJhbnNmb3JtKCh7IHZhbHVlIH0pID0+IHZhbHVlID8gcGFyc2VGbG9hdCh2YWx1ZSkgOiBudWxsKVxuICB2YWxvcl9icGM6IG51bWJlciB8IG51bGw7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0N1cnNvIHByb2Zpc3Npb25hbGl6YW50ZSBxdWUgbyBjaWRhZMOjbyBwb3NzdWkgb3UgZXN0w6EgY3Vyc2FuZG8nLFxuICAgIGV4YW1wbGU6ICdUw6ljbmljbyBlbSBJbmZvcm3DoXRpY2EnLFxuICB9KVxuICBARXhwb3NlKClcbiAgY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0luZGljYSBzZSBvIGNpZGFkw6NvIHRlbSBpbnRlcmVzc2UgZW0gZmF6ZXIgY3Vyc28gcHJvZmlzc2lvbmFsaXphbnRlJyxcbiAgICBleGFtcGxlOiB0cnVlLFxuICB9KVxuICBARXhwb3NlKClcbiAgaW50ZXJlc3NlX2N1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZTogYm9vbGVhbjtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnU2l0dWHDp8OjbyBhdHVhbCBkZSB0cmFiYWxobyBkbyBjaWRhZMOjbycsXG4gICAgZW51bTogU2l0dWFjYW9UcmFiYWxob0VudW0sXG4gICAgZXhhbXBsZTogU2l0dWFjYW9UcmFiYWxob0VudW0uREVTRU1QUkVHQURPLFxuICB9KVxuICBARXhwb3NlKClcbiAgc2l0dWFjYW9fdHJhYmFsaG86IFNpdHVhY2FvVHJhYmFsaG9FbnVtO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICfDgXJlYSBkZSB0cmFiYWxobyBvdSBpbnRlcmVzc2UgcHJvZmlzc2lvbmFsJyxcbiAgICBleGFtcGxlOiAnU2VydmnDp29zIGdlcmFpcycsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBhcmVhX3RyYWJhbGhvOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0luZGljYSBzZSBow6EgZmFtaWxpYXIgYXB0byBwYXJhIHRyYWJhbGhhciBuYSBjb21wb3Npw6fDo28gZmFtaWxpYXInLFxuICAgIGV4YW1wbGU6IHRydWUsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBmYW1pbGlhcl9hcHRvX3RyYWJhbGhvOiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICfDgXJlYSBkZSBpbnRlcmVzc2UgcHJvZmlzc2lvbmFsIGRlIGZhbWlsaWFyZXMnLFxuICAgIGV4YW1wbGU6ICdDb25zdHJ1w6fDo28gY2l2aWwnLFxuICB9KVxuICBARXhwb3NlKClcbiAgYXJlYV9pbnRlcmVzc2VfZmFtaWxpYXI6IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnT2JzZXJ2YcOnw7VlcyBhZGljaW9uYWlzIHNvYnJlIGEgc2l0dWHDp8OjbyBzb2NpYWwnLFxuICAgIGV4YW1wbGU6ICdGYW3DrWxpYSBlbSBzaXR1YcOnw6NvIGRlIHZ1bG5lcmFiaWxpZGFkZSBzb2NpYWwnLFxuICB9KVxuICBARXhwb3NlKClcbiAgb2JzZXJ2YWNvZXM6IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnUmVuZGEgcGVyIGNhcGl0YSBjYWxjdWxhZGEgYXV0b21hdGljYW1lbnRlJyxcbiAgICBleGFtcGxlOiAzNzUuMTIsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZm9ybWF0OiAnZGVjaW1hbCcsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBAVHJhbnNmb3JtKCh7IG9iaiB9KSA9PiB7XG4gICAgLy8gQ2FsY3VsYSByZW5kYSBwZXIgY2FwaXRhIGJhc2VhZGEgbmEgY29tcG9zacOnw6NvIGZhbWlsaWFyXG4gICAgLy8gRXN0ZSBjw6FsY3VsbyBzZXLDoSBpbXBsZW1lbnRhZG8gbm8gc2VydmljZVxuICAgIHJldHVybiBvYmoucmVuZGFfcGVyX2NhcGl0YSB8fCBudWxsO1xuICB9KVxuICByZW5kYV9wZXJfY2FwaXRhOiBudW1iZXI7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIGRlIGJlbmVmw61jaW9zIHJlY2ViaWRvcyAoUEJGICsgQlBDKScsXG4gICAgZXhhbXBsZTogMTcyMC4wMCxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBmb3JtYXQ6ICdkZWNpbWFsJyxcbiAgICBudWxsYWJsZTogdHJ1ZSxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIEBUcmFuc2Zvcm0oKHsgb2JqIH0pID0+IHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGlmIChvYmoudmFsb3JfcGJmKSB0b3RhbCArPSBwYXJzZUZsb2F0KG9iai52YWxvcl9wYmYpO1xuICAgIGlmIChvYmoudmFsb3JfYnBjKSB0b3RhbCArPSBwYXJzZUZsb2F0KG9iai52YWxvcl9icGMpO1xuICAgIHJldHVybiB0b3RhbCA+IDAgPyB0b3RhbCA6IG51bGw7XG4gIH0pXG4gIHRvdGFsX2JlbmVmaWNpb3M6IG51bWJlciB8IG51bGw7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1JlbmRhIHRvdGFsIChyZW5kYSArIGJlbmVmw61jaW9zKScsXG4gICAgZXhhbXBsZTogMzIyMC4wMCxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBmb3JtYXQ6ICdkZWNpbWFsJyxcbiAgICBudWxsYWJsZTogdHJ1ZSxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIEBUcmFuc2Zvcm0oKHsgb2JqIH0pID0+IHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGlmIChvYmoucmVuZGEpIHRvdGFsICs9IHBhcnNlRmxvYXQob2JqLnJlbmRhKTtcbiAgICBpZiAob2JqLnZhbG9yX3BiZikgdG90YWwgKz0gcGFyc2VGbG9hdChvYmoudmFsb3JfcGJmKTtcbiAgICBpZiAob2JqLnZhbG9yX2JwYykgdG90YWwgKz0gcGFyc2VGbG9hdChvYmoudmFsb3JfYnBjKTtcbiAgICByZXR1cm4gdG90YWwgPiAwID8gdG90YWwgOiBudWxsO1xuICB9KVxuICByZW5kYV90b3RhbDogbnVtYmVyIHwgbnVsbDtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnRGF0YSBkZSBjcmlhw6fDo28gZG8gcmVnaXN0cm8nLFxuICAgIGV4YW1wbGU6ICcyMDI0LTAxLTE1VDEwOjMwOjAwWicsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBjcmVhdGVkX2F0OiBEYXRlO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdEYXRhIGRhIMO6bHRpbWEgYXR1YWxpemHDp8OjbycsXG4gICAgZXhhbXBsZTogJzIwMjQtMDEtMjBUMTQ6NDU6MDBaJyxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIHVwZGF0ZWRfYXQ6IERhdGU7XG5cbiAgY29uc3RydWN0b3IoZGFkb3NTb2NpYWlzOiBEYWRvc1NvY2lhaXMpIHtcbiAgICBpZiAoZGFkb3NTb2NpYWlzKSB7XG4gICAgICB0aGlzLmlkID0gZGFkb3NTb2NpYWlzLmlkO1xuICAgICAgdGhpcy5jaWRhZGFvX2lkID0gZGFkb3NTb2NpYWlzLmNpZGFkYW9faWQ7XG4gICAgICB0aGlzLmVzY29sYXJpZGFkZSA9IGRhZG9zU29jaWFpcy5lc2NvbGFyaWRhZGU7XG4gICAgICB0aGlzLnB1YmxpY29fcHJpb3JpdGFyaW8gPSBkYWRvc1NvY2lhaXMucHVibGljb19wcmlvcml0YXJpbztcbiAgICAgIHRoaXMucmVuZGEgPSBkYWRvc1NvY2lhaXMucmVuZGEgPyBwYXJzZUZsb2F0KGRhZG9zU29jaWFpcy5yZW5kYS50b1N0cmluZygpKSA6IG51bGw7XG4gICAgICB0aGlzLm9jdXBhY2FvID0gZGFkb3NTb2NpYWlzLm9jdXBhY2FvO1xuICAgICAgdGhpcy5yZWNlYmVfcGJmID0gZGFkb3NTb2NpYWlzLnJlY2ViZV9wYmY7XG4gICAgICB0aGlzLnZhbG9yX3BiZiA9IGRhZG9zU29jaWFpcy52YWxvcl9wYmYgPyBwYXJzZUZsb2F0KGRhZG9zU29jaWFpcy52YWxvcl9wYmYudG9TdHJpbmcoKSkgOiBudWxsO1xuICAgICAgdGhpcy5yZWNlYmVfYnBjID0gZGFkb3NTb2NpYWlzLnJlY2ViZV9icGM7XG4gICAgICB0aGlzLnRpcG9fYnBjID0gZGFkb3NTb2NpYWlzLnRpcG9fYnBjO1xuICAgICAgdGhpcy52YWxvcl9icGMgPSBkYWRvc1NvY2lhaXMudmFsb3JfYnBjID8gcGFyc2VGbG9hdChkYWRvc1NvY2lhaXMudmFsb3JfYnBjLnRvU3RyaW5nKCkpIDogbnVsbDtcbiAgICAgIHRoaXMuY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlID0gZGFkb3NTb2NpYWlzLmN1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZTtcbiAgICAgIHRoaXMuaW50ZXJlc3NlX2N1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZSA9IGRhZG9zU29jaWFpcy5pbnRlcmVzc2VfY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlO1xuICAgICAgdGhpcy5zaXR1YWNhb190cmFiYWxobyA9IGRhZG9zU29jaWFpcy5zaXR1YWNhb190cmFiYWxobztcbiAgICAgIHRoaXMuYXJlYV90cmFiYWxobyA9IGRhZG9zU29jaWFpcy5hcmVhX3RyYWJhbGhvO1xuICAgICAgdGhpcy5mYW1pbGlhcl9hcHRvX3RyYWJhbGhvID0gZGFkb3NTb2NpYWlzLmZhbWlsaWFyX2FwdG9fdHJhYmFsaG87XG4gICAgICB0aGlzLmFyZWFfaW50ZXJlc3NlX2ZhbWlsaWFyID0gZGFkb3NTb2NpYWlzLmFyZWFfaW50ZXJlc3NlX2ZhbWlsaWFyO1xuICAgICAgdGhpcy5vYnNlcnZhY29lcyA9IGRhZG9zU29jaWFpcy5vYnNlcnZhY29lcztcbiAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IGRhZG9zU29jaWFpcy5jcmVhdGVkX2F0O1xuICAgICAgdGhpcy51cGRhdGVkX2F0ID0gZGFkb3NTb2NpYWlzLnVwZGF0ZWRfYXQ7XG5cbiAgICAgIC8vIEPDoWxjdWxvcyBkZXJpdmFkb3NcbiAgICAgIHRoaXMudG90YWxfYmVuZWZpY2lvcyA9IHRoaXMuY2FsY3VsYXRlVG90YWxCZW5lZmljaW9zKCk7XG4gICAgICB0aGlzLnJlbmRhX3RvdGFsID0gdGhpcy5jYWxjdWxhdGVSZW5kYVRvdGFsKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGEgbyB0b3RhbCBkZSBiZW5lZsOtY2lvcyByZWNlYmlkb3NcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlVG90YWxCZW5lZmljaW9zKCk6IG51bWJlciB8IG51bGwge1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgaWYgKHRoaXMudmFsb3JfcGJmKSB0b3RhbCArPSB0aGlzLnZhbG9yX3BiZjtcbiAgICBpZiAodGhpcy52YWxvcl9icGMpIHRvdGFsICs9IHRoaXMudmFsb3JfYnBjO1xuICAgIHJldHVybiB0b3RhbCA+IDAgPyB0b3RhbCA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYSBhIHJlbmRhIHRvdGFsIChyZW5kYSArIGJlbmVmw61jaW9zKVxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVSZW5kYVRvdGFsKCk6IG51bWJlciB8IG51bGwge1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgaWYgKHRoaXMucmVuZGEpIHRvdGFsICs9IHRoaXMucmVuZGE7XG4gICAgaWYgKHRoaXMudmFsb3JfcGJmKSB0b3RhbCArPSB0aGlzLnZhbG9yX3BiZjtcbiAgICBpZiAodGhpcy52YWxvcl9icGMpIHRvdGFsICs9IHRoaXMudmFsb3JfYnBjO1xuICAgIHJldHVybiB0b3RhbCA+IDAgPyB0b3RhbCA6IG51bGw7XG4gIH1cbn0iXSwidmVyc2lvbiI6M30=