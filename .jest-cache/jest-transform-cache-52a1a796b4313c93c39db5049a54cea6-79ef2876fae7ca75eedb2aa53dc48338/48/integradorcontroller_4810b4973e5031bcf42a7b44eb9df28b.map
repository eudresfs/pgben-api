{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\integrador\\controllers\\integrador.controller.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\integrador\\controllers\\integrador.controller.ts"],"sourcesContent":["import { \r\n  Controller, \r\n  Get, \r\n  Post, \r\n  Body, \r\n  Patch, \r\n  Param, \r\n  Delete, \r\n  UseGuards,\r\n  HttpCode,\r\n  HttpStatus,\r\n  ParseUUIDPipe \r\n} from '@nestjs/common';\r\nimport { \r\n  ApiTags, \r\n  ApiOperation, \r\n  ApiResponse, \r\n  ApiBearerAuth,\r\n  ApiParam\r\n} from '@nestjs/swagger';\r\nimport { IntegradorService } from '../services/integrador.service';\r\nimport { IntegradorTokenService } from '../services/integrador-token.service';\r\nimport { CreateIntegradorDto } from '../dto/create-integrador.dto';\r\nimport { UpdateIntegradorDto } from '../dto/update-integrador.dto';\r\nimport { CreateTokenDto } from '../dto/create-token.dto';\r\nimport { RevokeTokenDto } from '../dto/revoke-token.dto';\r\nimport { IntegradorResponseDto } from '../dto/integrador-response.dto';\r\nimport { TokenResponseDto } from '../dto/token-response.dto';\r\nimport { Roles } from '../../../auth/decorators/role.decorator';\r\nimport { Role } from '../../../auth/enums/role.enum';\r\nimport { JwtAuthGuard } from '../../../auth/guards/jwt-auth.guard';\r\nimport { RolesGuard } from '../../../auth/guards/roles.guard';\r\nimport { ROLES } from '../../../shared/constants/roles.constants';\r\n\r\n/**\r\n * Controller para gerenciamento de integradores e seus tokens.\r\n * Requer autenticação administrativa e papel de ADMIN para acesso.\r\n */\r\n@ApiTags('Integradores')\r\n@Controller('integradores')\r\n@UseGuards(JwtAuthGuard, RolesGuard)\r\n@ApiBearerAuth()\r\nexport class IntegradorController {\r\n  constructor(\r\n    private readonly integradorService: IntegradorService,\r\n    private readonly tokenService: IntegradorTokenService,\r\n  ) {}\r\n\r\n  /**\r\n   * Cria um novo integrador.\r\n   */\r\n  @Post()\r\n  @Roles(ROLES.ADMIN)\r\n  @ApiOperation({ summary: 'Cria um novo integrador' })\r\n  @ApiResponse({ \r\n    status: 201, \r\n    description: 'Integrador criado com sucesso', \r\n    type: IntegradorResponseDto \r\n  })\r\n  @ApiResponse({ status: 400, description: 'Dados inválidos' })\r\n  @ApiResponse({ status: 409, description: 'Já existe um integrador com este nome' })\r\n  create(@Body() createIntegradorDto: CreateIntegradorDto): Promise<IntegradorResponseDto> {\r\n    return this.integradorService.create(createIntegradorDto);\r\n  }\r\n\r\n  /**\r\n   * Lista todos os integradores cadastrados.\r\n   */\r\n  @Get()\r\n  @Roles(ROLES.ADMIN)\r\n  @ApiOperation({ summary: 'Lista todos os integradores' })\r\n  @ApiResponse({ \r\n    status: 200, \r\n    description: 'Lista de integradores retornada com sucesso',\r\n    type: [IntegradorResponseDto] \r\n  })\r\n  findAll(): Promise<IntegradorResponseDto[]> {\r\n    return this.integradorService.findAll();\r\n  }\r\n\r\n  /**\r\n   * Obtém detalhes de um integrador específico.\r\n   */\r\n  @Get(':id')\r\n  @Roles(ROLES.ADMIN)\r\n  @ApiOperation({ summary: 'Obtém um integrador pelo ID' })\r\n  @ApiParam({ name: 'id', description: 'ID do integrador', type: 'string' })\r\n  @ApiResponse({ \r\n    status: 200, \r\n    description: 'Integrador encontrado',\r\n    type: IntegradorResponseDto \r\n  })\r\n  @ApiResponse({ status: 404, description: 'Integrador não encontrado' })\r\n  findOne(@Param('id', ParseUUIDPipe) id: string): Promise<IntegradorResponseDto> {\r\n    return this.integradorService.findOne(id);\r\n  }\r\n\r\n  /**\r\n   * Atualiza dados de um integrador.\r\n   */\r\n  @Patch(':id')\r\n  @Roles(ROLES.ADMIN)\r\n  @ApiOperation({ summary: 'Atualiza um integrador' })\r\n  @ApiParam({ name: 'id', description: 'ID do integrador', type: 'string' })\r\n  @ApiResponse({ \r\n    status: 200, \r\n    description: 'Integrador atualizado com sucesso',\r\n    type: IntegradorResponseDto \r\n  })\r\n  @ApiResponse({ status: 400, description: 'Dados inválidos' })\r\n  @ApiResponse({ status: 404, description: 'Integrador não encontrado' })\r\n  update(\r\n    @Param('id', ParseUUIDPipe) id: string, \r\n    @Body() updateIntegradorDto: UpdateIntegradorDto\r\n  ): Promise<IntegradorResponseDto> {\r\n    return this.integradorService.update(id, updateIntegradorDto);\r\n  }\r\n\r\n  /**\r\n   * Remove um integrador do sistema.\r\n   */\r\n  @Delete(':id')\r\n  @Roles(ROLES.ADMIN)\r\n  @HttpCode(HttpStatus.NO_CONTENT)\r\n  @ApiOperation({ summary: 'Remove um integrador' })\r\n  @ApiParam({ name: 'id', description: 'ID do integrador', type: 'string' })\r\n  @ApiResponse({ status: 204, description: 'Integrador removido com sucesso' })\r\n  @ApiResponse({ status: 404, description: 'Integrador não encontrado' })\r\n  async remove(@Param('id', ParseUUIDPipe) id: string): Promise<void> {\r\n    await this.integradorService.remove(id);\r\n  }\r\n\r\n  /**\r\n   * Ativa ou desativa um integrador.\r\n   */\r\n  @Patch(':id/status')\r\n  @Roles(ROLES.ADMIN)\r\n  @ApiOperation({ summary: 'Ativa ou desativa um integrador' })\r\n  @ApiParam({ name: 'id', description: 'ID do integrador', type: 'string' })\r\n  @ApiResponse({ \r\n    status: 200, \r\n    description: 'Status do integrador atualizado com sucesso',\r\n    type: IntegradorResponseDto \r\n  })\r\n  @ApiResponse({ status: 404, description: 'Integrador não encontrado' })\r\n  toggleStatus(\r\n    @Param('id', ParseUUIDPipe) id: string, \r\n    @Body('ativo') ativo: boolean\r\n  ): Promise<IntegradorResponseDto> {\r\n    return this.integradorService.toggleAtivo(id, ativo);\r\n  }\r\n\r\n  /**\r\n   * Lista todos os tokens de um integrador.\r\n   */\r\n  @Get(':id/tokens')\r\n  @Roles(ROLES.ADMIN)\r\n  @ApiOperation({ summary: 'Lista todos os tokens de um integrador' })\r\n  @ApiParam({ name: 'id', description: 'ID do integrador', type: 'string' })\r\n  @ApiResponse({ \r\n    status: 200, \r\n    description: 'Lista de tokens retornada com sucesso',\r\n    type: [TokenResponseDto] \r\n  })\r\n  @ApiResponse({ status: 404, description: 'Integrador não encontrado' })\r\n  findAllTokens(@Param('id', ParseUUIDPipe) id: string): Promise<TokenResponseDto[]> {\r\n    return this.tokenService.findAllByIntegrador(id);\r\n  }\r\n\r\n  /**\r\n   * Cria um novo token para um integrador.\r\n   */\r\n  @Post(':id/tokens')\r\n  @Roles(ROLES.ADMIN)\r\n  @ApiOperation({ summary: 'Cria um novo token para um integrador' })\r\n  @ApiParam({ name: 'id', description: 'ID do integrador', type: 'string' })\r\n  @ApiResponse({ \r\n    status: 201, \r\n    description: 'Token criado com sucesso',\r\n    schema: {\r\n      properties: {\r\n        token: {\r\n          type: 'string',\r\n          description: 'Token JWT gerado (exibido apenas uma vez)',\r\n          example: 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...'\r\n        },\r\n        tokenInfo: {\r\n          $ref: '#/components/schemas/TokenResponseDto'\r\n        }\r\n      }\r\n    }\r\n  })\r\n  @ApiResponse({ status: 400, description: 'Dados inválidos ou integrador inativo' })\r\n  @ApiResponse({ status: 404, description: 'Integrador não encontrado' })\r\n  async createToken(\r\n    @Param('id', ParseUUIDPipe) id: string, \r\n    @Body() createTokenDto: CreateTokenDto\r\n  ) {\r\n    const result = await this.tokenService.createToken(id, createTokenDto);\r\n    \r\n    return {\r\n      token: result.token,\r\n      tokenInfo: result.tokenInfo\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Revoga um token existente.\r\n   */\r\n  @Patch(':id/tokens/:tokenId/revogar')\r\n  @Roles(ROLES.ADMIN)\r\n  @ApiOperation({ summary: 'Revoga um token' })\r\n  @ApiParam({ name: 'id', description: 'ID do integrador', type: 'string' })\r\n  @ApiParam({ name: 'tokenId', description: 'ID do token', type: 'string' })\r\n  @ApiResponse({ \r\n    status: 200, \r\n    description: 'Token revogado com sucesso',\r\n    type: TokenResponseDto \r\n  })\r\n  @ApiResponse({ status: 400, description: 'Token já revogado' })\r\n  @ApiResponse({ status: 404, description: 'Token não encontrado' })\r\n  revogarToken(\r\n    @Param('tokenId', ParseUUIDPipe) tokenId: string,\r\n    @Body() revokeTokenDto: RevokeTokenDto\r\n  ): Promise<TokenResponseDto> {\r\n    return this.tokenService.revogarToken(tokenId, revokeTokenDto.motivo);\r\n  }\r\n}\r\n"],"version":3}