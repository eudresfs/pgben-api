{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\integrador-token.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAOiB;AACjB,2DAAiD;AAEjD;;;GAGG;AAEI,IAAM,eAAe,GAArB,MAAM,eAAe;IAE1B,EAAE,CAAS;IAMX,UAAU,CAAa;IAGvB,YAAY,CAAS;IAGrB,IAAI,CAAS;IAGb,SAAS,CAAS;IAElB,yEAAyE;IAEzE,SAAS,CAAS;IAGlB,OAAO,CAAW;IAElB,mDAAmD;IAEnD,aAAa,CAAO;IAGpB,QAAQ,CAAU;IAGlB,aAAa,CAAO;IAGpB,eAAe,CAAS;IAGxB,SAAS,CAAO;IAGhB,WAAW,CAAO;CACnB,CAAA;AA5CY,0CAAe;AAE1B;IADC,IAAA,gCAAsB,EAAC,MAAM,CAAC;;2CACpB;AAMX;IAJC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,8BAAU,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,UAAU,CAAC,MAAM,EAAE;QAC9D,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,IAAA,oBAAU,EAAC,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC;kDAC1B,8BAAU,oBAAV,8BAAU;mDAAC;AAGvB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC;;qDACb;AAGrB;IADC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;6CACX;AAGb;IADC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;kDACtB;AAIlB;IADC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;;kDACL;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;gDAC/B;AAIlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACjC,IAAI,oBAAJ,IAAI;sDAAC;AAGpB;IADC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;iDACT;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACjC,IAAI,oBAAJ,IAAI;sDAAC;AAGpB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wDACH;AAGxB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACrC,IAAI,oBAAJ,IAAI;kDAAC;AAGhB;IADC,IAAA,0BAAgB,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC;kDAC7B,IAAI,oBAAJ,IAAI;oDAAC;0BA3CP,eAAe;IAD3B,IAAA,gBAAM,EAAC,mBAAmB,CAAC;GACf,eAAe,CA4C3B","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\integrador-token.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  ManyToOne,\n  JoinColumn,\n  CreateDateColumn,\n} from 'typeorm';\nimport { Integrador } from './integrador.entity';\n\n/**\n * Entidade que representa um token de acesso para um integrador específico.\n * Armazena informações sobre o token, seus escopos de permissão e status.\n */\n@Entity('integrador_tokens')\nexport class IntegradorToken {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @ManyToOne(() => Integrador, (integrador) => integrador.tokens, {\n    nullable: false,\n  })\n  @JoinColumn({ name: 'integrador_id' })\n  integrador: Integrador;\n\n  @Column({ name: 'integrador_id' })\n  integradorId: string;\n\n  @Column({ length: 100 })\n  nome: string;\n\n  @Column({ length: 500, nullable: true })\n  descricao: string;\n\n  // Armazenamos apenas o hash do token para segurança, nunca o token em si\n  @Column({ length: 64 })\n  tokenHash: string;\n\n  @Column({ type: 'simple-array', nullable: true })\n  escopos: string[];\n\n  // A coluna pode ser null para tokens sem expiração\n  @Column({ type: 'timestamptz', nullable: true })\n  dataExpiracao: Date;\n\n  @Column({ default: false })\n  revogado: boolean;\n\n  @Column({ type: 'timestamptz', nullable: true })\n  dataRevogacao: Date;\n\n  @Column({ nullable: true })\n  motivoRevogacao: string;\n\n  @Column({ type: 'timestamptz', nullable: true })\n  ultimoUso: Date;\n\n  @CreateDateColumn({ type: 'timestamptz' })\n  dataCriacao: Date;\n}\n"],"version":3}