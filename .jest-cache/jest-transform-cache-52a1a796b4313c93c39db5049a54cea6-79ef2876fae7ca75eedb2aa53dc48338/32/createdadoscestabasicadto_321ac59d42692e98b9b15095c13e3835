95ca9ff133eaa3546292f3173e2cca16
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d;
Object.defineProperty(exports, "__esModule", { value: true });
exports.UpdateDadosCestaBasicaDto = exports.CreateDadosCestaBasicaDto = void 0;
const class_validator_1 = require("class-validator");
const swagger_1 = require("@nestjs/swagger");
const class_transformer_1 = require("class-transformer");
const enums_1 = require("@/enums");
/**
 * DTO para criação de dados específicos do cidadão para Cesta Básica
 */
class CreateDadosCestaBasicaDto {
    solicitacao_id;
    quantidade_cestas_solicitadas;
    periodo_concessao;
    origem_atendimento;
    numero_pessoas_familia;
    justificativa_quantidade;
    observacoes_especiais;
    tecnico_responsavel;
    unidade_solicitante;
}
exports.CreateDadosCestaBasicaDto = CreateDadosCestaBasicaDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'ID da solicitação de benefício',
        example: '550e8400-e29b-41d4-a716-446655440000',
    }),
    (0, class_validator_1.IsNotEmpty)({ message: 'ID da solicitação é obrigatório' }),
    (0, class_validator_1.IsUUID)('4', { message: 'ID da solicitação inválido' }),
    __metadata("design:type", String)
], CreateDadosCestaBasicaDto.prototype, "solicitacao_id", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Quantidade de cestas básicas solicitadas',
        example: 2,
        minimum: 1,
        maximum: 12,
    }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Quantidade de cestas é obrigatória' }),
    (0, class_validator_1.IsNumber)({}, { message: 'Quantidade de cestas deve ser um número' }),
    (0, class_validator_1.Min)(1, { message: 'Quantidade mínima é 1 cesta' }),
    (0, class_validator_1.Max)(12, { message: 'Quantidade máxima é 12 cestas' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            const num = parseInt(value, 10);
            return isNaN(num) ? value : num;
        }
        return value;
    }),
    __metadata("design:type", Number)
], CreateDadosCestaBasicaDto.prototype, "quantidade_cestas_solicitadas", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Período de concessão do benefício',
        enum: enums_1.PeriodicidadeEnum,
        example: enums_1.PeriodicidadeEnum.MENSAL,
    }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Período de concessão é obrigatório' }),
    (0, class_validator_1.IsEnum)(enums_1.PeriodicidadeEnum, { message: 'Período de concessão inválido' }),
    __metadata("design:type", typeof (_a = typeof enums_1.PeriodicidadeEnum !== "undefined" && enums_1.PeriodicidadeEnum) === "function" ? _a : Object)
], CreateDadosCestaBasicaDto.prototype, "periodo_concessao", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Origem do atendimento que gerou a solicitação',
        enum: enums_1.OrigemAtendimentoEnum,
        example: enums_1.OrigemAtendimentoEnum.CRAS,
    }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Origem do atendimento é obrigatória' }),
    (0, class_validator_1.IsEnum)(enums_1.OrigemAtendimentoEnum, { message: 'Origem do atendimento inválida' }),
    __metadata("design:type", typeof (_b = typeof enums_1.OrigemAtendimentoEnum !== "undefined" && enums_1.OrigemAtendimentoEnum) === "function" ? _b : Object)
], CreateDadosCestaBasicaDto.prototype, "origem_atendimento", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Número de pessoas na família (para cálculo da quantidade recomendada)',
        example: 4,
        minimum: 1,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({}, { message: 'Número de pessoas na família deve ser um número' }),
    (0, class_validator_1.Min)(1, { message: 'Número mínimo de pessoas na família é 1' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            const num = parseInt(value, 10);
            return isNaN(num) ? value : num;
        }
        return value;
    }),
    __metadata("design:type", Number)
], CreateDadosCestaBasicaDto.prototype, "numero_pessoas_familia", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Justificativa para a quantidade solicitada (obrigatória se quantidade > recomendada)',
        example: 'Família com necessidades especiais devido a situação de vulnerabilidade extrema.',
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.ValidateIf)((o) => {
        // Validação condicional: obrigatória se quantidade > recomendada
        // Regra simples: 1 cesta para até 3 pessoas, +1 a cada 3 pessoas
        const recomendada = o.numero_pessoas_familia
            ? Math.ceil(o.numero_pessoas_familia / 3)
            : 1;
        return o.quantidade_cestas_solicitadas > recomendada + 1;
    }),
    (0, class_validator_1.IsNotEmpty)({
        message: 'Justificativa é obrigatória para quantidade acima do recomendado',
    }),
    (0, class_validator_1.MinLength)(10, { message: 'Justificativa deve ter pelo menos 10 caracteres' }),
    __metadata("design:type", String)
], CreateDadosCestaBasicaDto.prototype, "justificativa_quantidade", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Observações especiais sobre o caso',
        example: 'Família acompanhada pelo PAIF devido a situação de vulnerabilidade.',
    }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateDadosCestaBasicaDto.prototype, "observacoes_especiais", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Nome do técnico responsável pelo acompanhamento',
        example: 'Maria Silva - Assistente Social',
    }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateDadosCestaBasicaDto.prototype, "tecnico_responsavel", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Unidade solicitante (obrigatória para encaminhamentos externos)',
        example: 'CRAS Regional III',
    }),
    (0, class_validator_1.ValidateIf)((o) => o.origem_atendimento === enums_1.OrigemAtendimentoEnum.ENCAMINHAMENTO_EXTERNO),
    (0, class_validator_1.IsNotEmpty)({
        message: 'Unidade solicitante é obrigatória para encaminhamentos externos',
    }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CreateDadosCestaBasicaDto.prototype, "unidade_solicitante", void 0);
/**
 * DTO para atualização de dados específicos do cidadão para Cesta Básica
 */
class UpdateDadosCestaBasicaDto {
    quantidade_cestas_solicitadas;
    periodo_concessao;
    origem_atendimento;
    numero_pessoas_familia;
    justificativa_quantidade;
    observacoes_especiais;
    tecnico_responsavel;
    unidade_solicitante;
}
exports.UpdateDadosCestaBasicaDto = UpdateDadosCestaBasicaDto;
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Quantidade de cestas básicas solicitadas',
        example: 2,
        minimum: 1,
        maximum: 12,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({}, { message: 'Quantidade de cestas deve ser um número' }),
    (0, class_validator_1.Min)(1, { message: 'Quantidade mínima é 1 cesta' }),
    (0, class_validator_1.Max)(12, { message: 'Quantidade máxima é 12 cestas' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            const num = parseInt(value, 10);
            return isNaN(num) ? value : num;
        }
        return value;
    }),
    __metadata("design:type", Number)
], UpdateDadosCestaBasicaDto.prototype, "quantidade_cestas_solicitadas", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Período de concessão do benefício',
        enum: enums_1.PeriodicidadeEnum,
        example: enums_1.PeriodicidadeEnum.MENSAL,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsEnum)(enums_1.PeriodicidadeEnum, { message: 'Período de concessão inválido' }),
    __metadata("design:type", typeof (_c = typeof enums_1.PeriodicidadeEnum !== "undefined" && enums_1.PeriodicidadeEnum) === "function" ? _c : Object)
], UpdateDadosCestaBasicaDto.prototype, "periodo_concessao", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Origem do atendimento que gerou a solicitação',
        enum: enums_1.OrigemAtendimentoEnum,
        example: enums_1.OrigemAtendimentoEnum.CRAS,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsEnum)(enums_1.OrigemAtendimentoEnum, { message: 'Origem do atendimento inválida' }),
    __metadata("design:type", typeof (_d = typeof enums_1.OrigemAtendimentoEnum !== "undefined" && enums_1.OrigemAtendimentoEnum) === "function" ? _d : Object)
], UpdateDadosCestaBasicaDto.prototype, "origem_atendimento", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Número de pessoas na família',
        example: 4,
        minimum: 1,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({}, { message: 'Número de pessoas na família deve ser um número' }),
    (0, class_validator_1.Min)(1, { message: 'Número mínimo de pessoas na família é 1' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            const num = parseInt(value, 10);
            return isNaN(num) ? value : num;
        }
        return value;
    }),
    __metadata("design:type", Number)
], UpdateDadosCestaBasicaDto.prototype, "numero_pessoas_familia", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Justificativa para a quantidade solicitada',
        example: 'Justificativa atualizada após reavaliação.',
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.MinLength)(10, { message: 'Justificativa deve ter pelo menos 10 caracteres' }),
    __metadata("design:type", String)
], UpdateDadosCestaBasicaDto.prototype, "justificativa_quantidade", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Observações especiais sobre o caso',
        example: 'Observações atualizadas.',
    }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], UpdateDadosCestaBasicaDto.prototype, "observacoes_especiais", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Nome do técnico responsável pelo acompanhamento',
        example: 'João Santos - Assistente Social',
    }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], UpdateDadosCestaBasicaDto.prototype, "tecnico_responsavel", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Unidade solicitante',
        example: 'CRAS Regional IV',
    }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], UpdateDadosCestaBasicaDto.prototype, "unidade_solicitante", void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGJlbmVmaWNpb1xcZHRvXFxjcmVhdGUtZGFkb3MtY2VzdGEtYmFzaWNhLmR0by50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEscURBVXlCO0FBQ3pCLDZDQUFtRTtBQUNuRSx5REFBOEM7QUFDOUMsbUNBQW1FO0FBRW5FOztHQUVHO0FBQ0gsTUFBYSx5QkFBeUI7SUFPcEMsY0FBYyxDQUFTO0lBbUJ2Qiw2QkFBNkIsQ0FBUztJQVN0QyxpQkFBaUIsQ0FBb0I7SUFTckMsa0JBQWtCLENBQXdCO0lBa0IxQyxzQkFBc0IsQ0FBVTtJQXFCaEMsd0JBQXdCLENBQVU7SUFRbEMscUJBQXFCLENBQVU7SUFPL0IsbUJBQW1CLENBQVU7SUFlN0IsbUJBQW1CLENBQVU7Q0FDOUI7QUFsSEQsOERBa0hDO0FBM0dDO0lBTkMsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsV0FBVyxFQUFFLGdDQUFnQztRQUM3QyxPQUFPLEVBQUUsc0NBQXNDO0tBQ2hELENBQUM7SUFDRCxJQUFBLDRCQUFVLEVBQUMsRUFBRSxPQUFPLEVBQUUsaUNBQWlDLEVBQUUsQ0FBQztJQUMxRCxJQUFBLHdCQUFNLEVBQUMsR0FBRyxFQUFFLEVBQUUsT0FBTyxFQUFFLDRCQUE0QixFQUFFLENBQUM7O2lFQUNoQztBQW1CdkI7SUFqQkMsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsV0FBVyxFQUFFLDBDQUEwQztRQUN2RCxPQUFPLEVBQUUsQ0FBQztRQUNWLE9BQU8sRUFBRSxDQUFDO1FBQ1YsT0FBTyxFQUFFLEVBQUU7S0FDWixDQUFDO0lBQ0QsSUFBQSw0QkFBVSxFQUFDLEVBQUUsT0FBTyxFQUFFLG9DQUFvQyxFQUFFLENBQUM7SUFDN0QsSUFBQSwwQkFBUSxFQUFDLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSx5Q0FBeUMsRUFBRSxDQUFDO0lBQ3BFLElBQUEscUJBQUcsRUFBQyxD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RSwwQkFBMEI7S0FDcEMsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTs7d0VBQ2tCO0FBTy9CO0lBTEMsSUFBQSw2QkFBbUIsRUFBQztRQUNuQixXQUFXLEVBQUUsaURBQWlEO1FBQzlELE9BQU8sRUFBRSxpQ0FBaUM7S0FDM0MsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTs7c0VBQ2dCO0FBTzdCO0lBTEMsSUFBQSw2QkFBbUIsRUFBQztRQUNuQixXQUFXLEVBQUUscUJBQXFCO1FBQ2xDLE9BQU8sRUFBRSxrQkFBa0I7S0FDNUIsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTs7c0VBQ2dCIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZXVkcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZXRvc1xccGdiZW5cXHBnYmVuLXNlcnZlclxcc3JjXFxtb2R1bGVzXFxiZW5lZmljaW9cXGR0b1xcY3JlYXRlLWRhZG9zLWNlc3RhLWJhc2ljYS5kdG8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSXNOb3RFbXB0eSxcbiAgSXNOdW1iZXIsXG4gIElzRW51bSxcbiAgSXNPcHRpb25hbCxcbiAgSXNVVUlELFxuICBNaW4sXG4gIE1heCxcbiAgVmFsaWRhdGVJZixcbiAgTWluTGVuZ3RoLFxufSBmcm9tICdjbGFzcy12YWxpZGF0b3InO1xuaW1wb3J0IHsgQXBpUHJvcGVydHksIEFwaVByb3BlcnR5T3B0aW9uYWwgfSBmcm9tICdAbmVzdGpzL3N3YWdnZXInO1xuaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSAnY2xhc3MtdHJhbnNmb3JtZXInO1xuaW1wb3J0IHsgUGVyaW9kaWNpZGFkZUVudW0sIE9yaWdlbUF0ZW5kaW1lbnRvRW51bSB9IGZyb20gJ0AvZW51bXMnO1xuXG4vKipcbiAqIERUTyBwYXJhIGNyaWHDp8OjbyBkZSBkYWRvcyBlc3BlY8OtZmljb3MgZG8gY2lkYWTDo28gcGFyYSBDZXN0YSBCw6FzaWNhXG4gKi9cbmV4cG9ydCBjbGFzcyBDcmVhdGVEYWRvc0Nlc3RhQmFzaWNhRHRvIHtcbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0lEIGRhIHNvbGljaXRhw6fDo28gZGUgYmVuZWbDrWNpbycsXG4gICAgZXhhbXBsZTogJzU1MGU4NDAwLWUyOWItNDFkNC1hNzE2LTQ0NjY1NTQ0MDAwMCcsXG4gIH0pXG4gIEBJc05vdEVtcHR5KHsgbWVzc2FnZTogJ0lEIGRhIHNvbGljaXRhw6fDo28gw6kgb2JyaWdhdMOzcmlvJyB9KVxuICBASXNVVUlEKCc0JywgeyBtZXNzYWdlOiAnSUQgZGEgc29saWNpdGHDp8OjbyBpbnbDoWxpZG8nIH0pXG4gIHNvbGljaXRhY2FvX2lkOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1F1YW50aWRhZGUgZGUgY2VzdGFzIGLDoXNpY2FzIHNvbGljaXRhZGFzJyxcbiAgICBleGFtcGxlOiAyLFxuICAgIG1pbmltdW06IDEsXG4gICAgbWF4aW11bTogMTIsXG4gIH0pXG4gIEBJc05vdEVtcHR5KHsgbWVzc2FnZTogJ1F1YW50aWRhZGUgZGUgY2VzdGFzIMOpIG9icmlnYXTDs3JpYScgfSlcbiAgQElzTnVtYmVyKHt9LCB7IG1lc3NhZ2U6ICdRdWFudGlkYWRlIGRlIGNlc3RhcyBkZXZlIHNlciB1bSBuw7ptZXJvJyB9KVxuICBATWluKDEsIHsgbWVzc2FnZTogJ1F1YW50aWRhZGUgbcOtbmltYSDDqSAxIGNlc3RhJyB9KVxuICBATWF4KDEyLCB7IG1lc3NhZ2U6ICdRdWFudGlkYWRlIG3DoXhpbWEgw6kgMTIgY2VzdGFzJyB9KVxuICBAVHJhbnNmb3JtKCh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgbnVtID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgIHJldHVybiBpc05hTihudW0pID8gdmFsdWUgOiBudW07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSlcbiAgcXVhbnRpZGFkZV9jZXN0YXNfc29saWNpdGFkYXM6IG51bWJlcjtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnUGVyw61vZG8gZGUgY29uY2Vzc8OjbyBkbyBiZW5lZsOtY2lvJyxcbiAgICBlbnVtOiBQZXJpb2RpY2lkYWRlRW51bSxcbiAgICBleGFtcGxlOiBQZXJpb2RpY2lkYWRlRW51bS5NRU5TQUwsXG4gIH0pXG4gIEBJc05vdEVtcHR5KHsgbWVzc2FnZTogJ1BlcsOtb2RvIGRlIGNvbmNlc3PDo28gw6kgb2JyaWdhdMOzcmlvJyB9KVxuICBASXNFbnVtKFBlcmlvZGljaWRhZGVFbnVtLCB7IG1lc3NhZ2U6ICdQZXLDrW9kbyBkZSBjb25jZXNzw6NvIGludsOhbGlkbycgfSlcbiAgcGVyaW9kb19jb25jZXNzYW86IFBlcmlvZGljaWRhZGVFbnVtO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdPcmlnZW0gZG8gYXRlbmRpbWVudG8gcXVlIGdlcm91IGEgc29saWNpdGHDp8OjbycsXG4gICAgZW51bTogT3JpZ2VtQXRlbmRpbWVudG9FbnVtLFxuICAgIGV4YW1wbGU6IE9yaWdlbUF0ZW5kaW1lbnRvRW51bS5DUkFTLFxuICB9KVxuICBASXNOb3RFbXB0eSh7IG1lc3NhZ2U6ICdPcmlnZW0gZG8gYXRlbmRpbWVudG8gw6kgb2JyaWdhdMOzcmlhJyB9KVxuICBASXNFbnVtKE9yaWdlbUF0ZW5kaW1lbnRvRW51bSwgeyBtZXNzYWdlOiAnT3JpZ2VtIGRvIGF0ZW5kaW1lbnRvIGludsOhbGlkYScgfSlcbiAgb3JpZ2VtX2F0ZW5kaW1lbnRvOiBPcmlnZW1BdGVuZGltZW50b0VudW07XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgJ07Dum1lcm8gZGUgcGVzc29hcyBuYSBmYW3DrWxpYSAocGFyYSBjw6FsY3VsbyBkYSBxdWFudGlkYWRlIHJlY29tZW5kYWRhKScsXG4gICAgZXhhbXBsZTogNCxcbiAgICBtaW5pbXVtOiAxLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc051bWJlcih7fSwgeyBtZXNzYWdlOiAnTsO6bWVybyBkZSBwZXNzb2FzIG5hIGZhbcOtbGlhIGRldmUgc2VyIHVtIG7Dum1lcm8nIH0pXG4gIEBNaW4oMSwgeyBtZXNzYWdlOiAnTsO6bWVybyBtw61uaW1vIGRlIHBlc3NvYXMgbmEgZmFtw61saWEgw6kgMScgfSlcbiAgQFRyYW5zZm9ybSgoeyB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICByZXR1cm4gaXNOYU4obnVtKSA/IHZhbHVlIDogbnVtO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIG51bWVyb19wZXNzb2FzX2ZhbWlsaWE/OiBudW1iZXI7XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgJ0p1c3RpZmljYXRpdmEgcGFyYSBhIHF1YW50aWRhZGUgc29saWNpdGFkYSAob2JyaWdhdMOzcmlhIHNlIHF1YW50aWRhZGUgPiByZWNvbWVuZGFkYSknLFxuICAgIGV4YW1wbGU6XG4gICAgICAnRmFtw61saWEgY29tIG5lY2Vzc2lkYWRlcyBlc3BlY2lhaXMgZGV2aWRvIGEgc2l0dWHDp8OjbyBkZSB2dWxuZXJhYmlsaWRhZGUgZXh0cmVtYS4nLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBWYWxpZGF0ZUlmKChvKSA9PiB7XG4gICAgLy8gVmFsaWRhw6fDo28gY29uZGljaW9uYWw6IG9icmlnYXTDs3JpYSBzZSBxdWFudGlkYWRlID4gcmVjb21lbmRhZGFcbiAgICAvLyBSZWdyYSBzaW1wbGVzOiAxIGNlc3RhIHBhcmEgYXTDqSAzIHBlc3NvYXMsICsxIGEgY2FkYSAzIHBlc3NvYXNcbiAgICBjb25zdCByZWNvbWVuZGFkYSA9IG8ubnVtZXJvX3Blc3NvYXNfZmFtaWxpYVxuICAgICAgPyBNYXRoLmNlaWwoby5udW1lcm9fcGVzc29hc19mYW1pbGlhIC8gMylcbiAgICAgIDogMTtcbiAgICByZXR1cm4gby5xdWFudGlkYWRlX2Nlc3Rhc19zb2xpY2l0YWRhcyA+IHJlY29tZW5kYWRhICsgMTtcbiAgfSlcbiAgQElzTm90RW1wdHkoe1xuICAgIG1lc3NhZ2U6ICdKdXN0aWZpY2F0aXZhIMOpIG9icmlnYXTDs3JpYSBwYXJhIHF1YW50aWRhZGUgYWNpbWEgZG8gcmVjb21lbmRhZG8nLFxuICB9KVxuICBATWluTGVuZ3RoKDEwLCB7IG1lc3NhZ2U6ICdKdXN0aWZpY2F0aXZhIGRldmUgdGVyIHBlbG8gbWVub3MgMTAgY2FyYWN0ZXJlcycgfSlcbiAganVzdGlmaWNhdGl2YV9xdWFudGlkYWRlPzogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eU9wdGlvbmFsKHtcbiAgICBkZXNjcmlwdGlvbjogJ09ic2VydmHDp8O1ZXMgZXNwZWNpYWlzIHNvYnJlIG8gY2FzbycsXG4gICAgZXhhbXBsZTpcbiAgICAgICdGYW3DrWxpYSBhY29tcGFuaGFkYSBwZWxvIFBBSUYgZGV2aWRvIGEgc2l0dWHDp8OjbyBkZSB2dWxuZXJhYmlsaWRhZGUuJyxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBvYnNlcnZhY29lc19lc3BlY2lhaXM/OiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOiAnTm9tZSBkbyB0w6ljbmljbyByZXNwb25zw6F2ZWwgcGVsbyBhY29tcGFuaGFtZW50bycsXG4gICAgZXhhbXBsZTogJ01hcmlhIFNpbHZhIC0gQXNzaXN0ZW50ZSBTb2NpYWwnLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIHRlY25pY29fcmVzcG9uc2F2ZWw/OiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgJ1VuaWRhZGUgc29saWNpdGFudGUgKG9icmlnYXTDs3JpYSBwYXJhIGVuY2FtaW5oYW1lbnRvcyBleHRlcm5vcyknLFxuICAgIGV4YW1wbGU6ICdDUkFTIFJlZ2lvbmFsIElJSScsXG4gIH0pXG4gIEBWYWxpZGF0ZUlmKFxuICAgIChvKSA9PlxuICAgICAgby5vcmlnZW1fYXRlbmRpbWVudG8gPT09IE9yaWdlbUF0ZW5kaW1lbnRvRW51bS5FTkNBTUlOSEFNRU5UT19FWFRFUk5PLFxuICApXG4gIEBJc05vdEVtcHR5KHtcbiAgICBtZXNzYWdlOiAnVW5pZGFkZSBzb2xpY2l0YW50ZSDDqSBvYnJpZ2F0w7NyaWEgcGFyYSBlbmNhbWluaGFtZW50b3MgZXh0ZXJub3MnLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIHVuaWRhZGVfc29saWNpdGFudGU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRFRPIHBhcmEgYXR1YWxpemHDp8OjbyBkZSBkYWRvcyBlc3BlY8OtZmljb3MgZG8gY2lkYWTDo28gcGFyYSBDZXN0YSBCw6FzaWNhXG4gKi9cbmV4cG9ydCBjbGFzcyBVcGRhdGVEYWRvc0Nlc3RhQmFzaWNhRHRvIHtcbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOiAnUXVhbnRpZGFkZSBkZSBjZXN0YXMgYsOhc2ljYXMgc29saWNpdGFkYXMnLFxuICAgIGV4YW1wbGU6IDIsXG4gICAgbWluaW11bTogMSxcbiAgICBtYXhpbXVtOiAxMixcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNOdW1iZXIoe30sIHsgbWVzc2FnZTogJ1F1YW50aWRhZGUgZGUgY2VzdGFzIGRldmUgc2VyIHVtIG7Dum1lcm8nIH0pXG4gIEBNaW4oMSwgeyBtZXNzYWdlOiAnUXVhbnRpZGFkZSBtw61uaW1hIMOpIDEgY2VzdGEnIH0pXG4gIEBNYXgoMTIsIHsgbWVzc2FnZTogJ1F1YW50aWRhZGUgbcOheGltYSDDqSAxMiBjZXN0YXMnIH0pXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBudW0gPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgcmV0dXJuIGlzTmFOKG51bSkgPyB2YWx1ZSA6IG51bTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KVxuICBxdWFudGlkYWRlX2Nlc3Rhc19zb2xpY2l0YWRhcz86IG51bWJlcjtcblxuICBAQXBpUHJvcGVydHlPcHRpb25hbCh7XG4gICAgZGVzY3JpcHRpb246ICdQZXLDrW9kbyBkZSBjb25jZXNzw6NvIGRvIGJlbmVmw61jaW8nLFxuICAgIGVudW06IFBlcmlvZGljaWRhZGVFbnVtLFxuICAgIGV4YW1wbGU6IFBlcmlvZGljaWRhZGVFbnVtLk1FTlNBTCxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNFbnVtKFBlcmlvZGljaWRhZGVFbnVtLCB7IG1lc3NhZ2U6ICdQZXLDrW9kbyBkZSBjb25jZXNzw6NvIGludsOhbGlkbycgfSlcbiAgcGVyaW9kb19jb25jZXNzYW8/OiBQZXJpb2RpY2lkYWRlRW51bTtcblxuICBAQXBpUHJvcGVydHlPcHRpb25hbCh7XG4gICAgZGVzY3JpcHRpb246ICdPcmlnZW0gZG8gYXRlbmRpbWVudG8gcXVlIGdlcm91IGEgc29saWNpdGHDp8OjbycsXG4gICAgZW51bTogT3JpZ2VtQXRlbmRpbWVudG9FbnVtLFxuICAgIGV4YW1wbGU6IE9yaWdlbUF0ZW5kaW1lbnRvRW51bS5DUkFTLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0VudW0oT3JpZ2VtQXRlbmRpbWVudG9FbnVtLCB7IG1lc3NhZ2U6ICdPcmlnZW0gZG8gYXRlbmRpbWVudG8gaW52w6FsaWRhJyB9KVxuICBvcmlnZW1fYXRlbmRpbWVudG8/OiBPcmlnZW1BdGVuZGltZW50b0VudW07XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOiAnTsO6bWVybyBkZSBwZXNzb2FzIG5hIGZhbcOtbGlhJyxcbiAgICBleGFtcGxlOiA0LFxuICAgIG1pbmltdW06IDEsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzTnVtYmVyKHt9LCB7IG1lc3NhZ2U6ICdOw7ptZXJvIGRlIHBlc3NvYXMgbmEgZmFtw61saWEgZGV2ZSBzZXIgdW0gbsO6bWVybycgfSlcbiAgQE1pbigxLCB7IG1lc3NhZ2U6ICdOw7ptZXJvIG3DrW5pbW8gZGUgcGVzc29hcyBuYSBmYW3DrWxpYSDDqSAxJyB9KVxuICBAVHJhbnNmb3JtKCh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgbnVtID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgIHJldHVybiBpc05hTihudW0pID8gdmFsdWUgOiBudW07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSlcbiAgbnVtZXJvX3Blc3NvYXNfZmFtaWxpYT86IG51bWJlcjtcblxuICBAQXBpUHJvcGVydHlPcHRpb25hbCh7XG4gICAgZGVzY3JpcHRpb246ICdKdXN0aWZpY2F0aXZhIHBhcmEgYSBxdWFudGlkYWRlIHNvbGljaXRhZGEnLFxuICAgIGV4YW1wbGU6ICdKdXN0aWZpY2F0aXZhIGF0dWFsaXphZGEgYXDDs3MgcmVhdmFsaWHDp8Ojby4nLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBNaW5MZW5ndGgoMTAsIHsgbWVzc2FnZTogJ0p1c3RpZmljYXRpdmEgZGV2ZSB0ZXIgcGVsbyBtZW5vcyAxMCBjYXJhY3RlcmVzJyB9KVxuICBqdXN0aWZpY2F0aXZhX3F1YW50aWRhZGU/OiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOiAnT2JzZXJ2YcOnw7VlcyBlc3BlY2lhaXMgc29icmUgbyBjYXNvJyxcbiAgICBleGFtcGxlOiAnT2JzZXJ2YcOnw7VlcyBhdHVhbGl6YWRhcy4nLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIG9ic2VydmFjb2VzX2VzcGVjaWFpcz86IHN0cmluZztcblxuICBAQXBpUHJvcGVydHlPcHRpb25hbCh7XG4gICAgZGVzY3JpcHRpb246ICdOb21lIGRvIHTDqWNuaWNvIHJlc3BvbnPDoXZlbCBwZWxvIGFjb21wYW5oYW1lbnRvJyxcbiAgICBleGFtcGxlOiAnSm/Do28gU2FudG9zIC0gQXNzaXN0ZW50ZSBTb2NpYWwnLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIHRlY25pY29fcmVzcG9uc2F2ZWw/OiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xuICAgIGRlc2NyaXB0aW9uOiAnVW5pZGFkZSBzb2xpY2l0YW50ZScsXG4gICAgZXhhbXBsZTogJ0NSQVMgUmVnaW9uYWwgSVYnLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIHVuaWRhZGVfc29saWNpdGFudGU/OiBzdHJpbmc7XG59XG4iXSwidmVyc2lvbiI6M30=