{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\role.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAQiB;AACjB,qDAOyB;AACzB,qDAA2C;AAC3C,sDAA8C;AAE9C;;;;;;GAMG;AAII,IAAM,IAAI,GAAV,MAAM,IAAI;IAEf,EAAE,CAAS;IAOX,IAAI,CAAS;IAMb,SAAS,CAAS;IAUlB,MAAM,CAAS;IAMf,QAAQ,CAAY;IAGpB,UAAU,CAAO;IAGjB,UAAU,CAAO;IAEjB;;;OAGG;IACH,OAAO;QACL,OAAO,IAAI,CAAC,MAAM,KAAK,oBAAM,CAAC,KAAK,CAAC;IACtC,CAAC;IAED;;OAEG;IACH,MAAM;QACJ,IAAI,CAAC,MAAM,GAAG,oBAAM,CAAC,KAAK,CAAC;IAC7B,CAAC;IAED;;OAEG;IACH,SAAS;QACP,IAAI,CAAC,MAAM,GAAG,oBAAM,CAAC,OAAO,CAAC;IAC/B,CAAC;CACF,CAAA;AA5DY,oBAAI;AAEf;IADC,IAAA,gCAAsB,EAAC,MAAM,CAAC;;gCACpB;AAOX;IALC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;IACrC,IAAA,4BAAU,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACrD,IAAA,0BAAQ,EAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;IACjD,IAAA,2BAAS,EAAC,CAAC,EAAE,EAAE,OAAO,EAAE,sCAAsC,EAAE,CAAC;IACjE,IAAA,2BAAS,EAAC,GAAG,EAAE,EAAE,OAAO,EAAE,wCAAwC,EAAE,CAAC;;kCACzD;AAMb;IAJC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;IACvC,IAAA,4BAAU,GAAE;IACZ,IAAA,0BAAQ,EAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC;IACtD,IAAA,2BAAS,EAAC,GAAG,EAAE,EAAE,OAAO,EAAE,6CAA6C,EAAE,CAAC;;uCACzD;AAUlB;IARC,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,oBAAM;QACZ,OAAO,EAAE,oBAAM,CAAC,KAAK;QACrB,QAAQ,EAAE,aAAa;KACxB,CAAC;IACD,IAAA,4BAAU,GAAE;IACZ,IAAA,2BAAS,EAAC,EAAE,OAAO,EAAE,mCAAmC,EAAE,CAAC;kDACpD,oBAAM,oBAAN,oBAAM;oCAAC;AAMf;IAJC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,wBAAO,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE;QACnD,OAAO,EAAE,KAAK;QACd,IAAI,EAAE,IAAI;KACX,CAAC;;sCACkB;AAGpB;IADC,IAAA,0BAAgB,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;kDAC7B,IAAI,oBAAJ,IAAI;wCAAC;AAGjB;IADC,IAAA,0BAAgB,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;kDAC7B,IAAI,oBAAJ,IAAI;wCAAC;eArCN,IAAI;IAHhB,IAAA,gBAAM,EAAC,MAAM,CAAC;IACd,IAAA,eAAK,EAAC,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;IACjC,IAAA,eAAK,EAAC,CAAC,QAAQ,CAAC,CAAC;GACL,IAAI,CA4DhB","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\role.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  CreateDateColumn,\n  UpdateDateColumn,\n  OneToMany,\n  Index,\n} from 'typeorm';\nimport {\n  IsNotEmpty,\n  IsString,\n  MaxLength,\n  MinLength,\n  IsBoolean,\n  IsOptional,\n} from 'class-validator';\nimport { Usuario } from './usuario.entity';\nimport { Status } from '../enums/status.enum';\n\n/**\n * Entidade de Role (Papel)\n *\n * Representa um papel/função que um usuário pode ter no sistema,\n * substituindo o antigo enum Role. Esta entidade permite relacionamentos\n * com permissões e outros recursos do sistema.\n */\n@Entity('role')\n@Index(['nome'], { unique: true })\n@Index(['status'])\nexport class Role {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column({ unique: true, length: 100 })\n  @IsNotEmpty({ message: 'Nome da role é obrigatório' })\n  @IsString({ message: 'Nome deve ser uma string' })\n  @MinLength(2, { message: 'Nome deve ter no mínimo 2 caracteres' })\n  @MaxLength(100, { message: 'Nome deve ter no máximo 100 caracteres' })\n  nome: string;\n\n  @Column({ nullable: true, length: 500 })\n  @IsOptional()\n  @IsString({ message: 'Descrição deve ser uma string' })\n  @MaxLength(500, { message: 'Descrição deve ter no máximo 500 caracteres' })\n  descricao: string;\n\n  @Column({\n    type: 'enum',\n    enum: Status,\n    default: Status.ATIVO,\n    enumName: 'status_role',\n  })\n  @IsOptional()\n  @IsBoolean({ message: 'Status deve ser um valor booleano' })\n  status: Status;\n\n  @OneToMany(() => Usuario, (usuario) => usuario.role, {\n    cascade: false,\n    lazy: true,\n  })\n  usuarios: Usuario[];\n\n  @CreateDateColumn({ name: 'created_at' })\n  created_at: Date;\n\n  @UpdateDateColumn({ name: 'updated_at' })\n  updated_at: Date;\n\n  /**\n   * Verifica se a role está ativa\n   * @returns true se a role estiver ativa\n   */\n  isAtiva(): boolean {\n    return this.status === Status.ATIVO;\n  }\n\n  /**\n   * Ativa a role\n   */\n  ativar(): void {\n    this.status = Status.ATIVO;\n  }\n\n  /**\n   * Desativa a role\n   */\n  desativar(): void {\n    this.status = Status.INATIVO;\n  }\n}\n"],"version":3}