{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\workflow-beneficio.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAAmI;AAGnI;;;;GAIG;AAEI,IAAM,iBAAiB,GAAvB,MAAM,iBAAiB;IAE5B,EAAE,CAAS;IAEX;;OAEG;IAGH,iBAAiB,CAAS;IAE1B;;OAEG;IAEH,IAAI,CAAS;IAEb;;OAEG;IAEH,SAAS,CAAS;IAElB;;;OAGG;IAEH,MAAM,CAOF;IAEJ;;OAEG;IAEH,OAAO,CAAS;IAEhB;;OAEG;IAEH,SAAS,CAAS;IAElB;;OAEG;IAEH,KAAK,CAAU;IAEf;;OAEG;IAEH,UAAU,CAAO;IAEjB;;OAEG;IAEH,UAAU,CAAO;IAEjB;;OAEG;IAEH,UAAU,CAAS;CACpB,CAAA;AAxEY,8CAAiB;AAE5B;IADC,IAAA,gCAAsB,EAAC,MAAM,CAAC;;6CACpB;AAOX;IAFC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACxB,IAAA,eAAK,EAAC,6BAA6B,CAAC;;4DACX;AAM1B;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;+CAC5B;AAMb;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;oDACvB;AAOlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;iDAQtB;AAMJ;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;kDACxB;AAMhB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;oDACpB;AAMlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;gDAC5B;AAMf;IADC,IAAA,0BAAgB,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;kDAC5B,IAAI,oBAAJ,IAAI;qDAAC;AAMjB;IADC,IAAA,0BAAgB,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;kDAC5B,IAAI,oBAAJ,IAAI;qDAAC;AAMjB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qDACtB;4BAvER,iBAAiB;IAD7B,IAAA,gBAAM,EAAC,iCAAiC,CAAC;GAC7B,iBAAiB,CAwE7B","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\workflow-beneficio.entity.ts"],"sourcesContent":["import { Entity, Column, PrimaryGeneratedColumn, CreateDateColumn, UpdateDateColumn, Index, ManyToOne, JoinColumn } from 'typeorm';\nimport { WorkflowAcaoEnum } from '../enums';\n\n/**\n * Entidade que representa um workflow de aprovação para um tipo de benefício.\n * Define a sequência de etapas, setores responsáveis e prazos para cada\n * tipo de benefício no sistema.\n */\n@Entity('configuracao_workflow_beneficio')\nexport class WorkflowBeneficio {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  /**\n   * Referência ao tipo de benefício ao qual este workflow se aplica.\n   */\n  @Column({ type: 'uuid' })\n  @Index('idx_workflow_tipo_beneficio')\n  tipo_beneficio_id: string;\n\n  /**\n   * Nome descritivo do workflow.\n   */\n  @Column({ type: 'varchar', length: 200 })\n  nome: string;\n\n  /**\n   * Descrição detalhada do workflow.\n   */\n  @Column({ type: 'varchar', length: 500 })\n  descricao: string;\n\n  /**\n   * Lista de etapas do workflow, armazenada como JSON.\n   * Cada etapa contém informações sobre ordem, descrição, setor, ação, etc.\n   */\n  @Column({ type: 'jsonb' })\n  etapas: {\n    ordem: number;\n    descricao: string;\n    setor_id: string;\n    acao: WorkflowAcaoEnum;\n    prazo_sla: number;\n    template_notificacao_id?: string;\n  }[];\n  \n  /**\n   * Versão do workflow, incrementada a cada atualização.\n   */\n  @Column({ type: 'integer', default: 1 })\n  version: number;\n\n  /**\n   * SLA total do workflow em horas, calculado como a soma dos SLAs de todas as etapas.\n   */\n  @Column({ type: 'float', default: 0 })\n  sla_total: number;\n\n  /**\n   * Status ativo/inativo do workflow.\n   */\n  @Column({ type: 'boolean', default: true })\n  ativo: boolean;\n\n  /**\n   * Data de criação do workflow.\n   */\n  @CreateDateColumn({ type: 'timestamp' })\n  created_at: Date;\n\n  /**\n   * Data da última atualização do workflow.\n   */\n  @UpdateDateColumn({ type: 'timestamp' })\n  updated_at: Date;\n\n  /**\n   * ID do usuário que realizou a última atualização.\n   */\n  @Column({ type: 'uuid', nullable: true })\n  updated_by: string;\n}\n"],"version":3}