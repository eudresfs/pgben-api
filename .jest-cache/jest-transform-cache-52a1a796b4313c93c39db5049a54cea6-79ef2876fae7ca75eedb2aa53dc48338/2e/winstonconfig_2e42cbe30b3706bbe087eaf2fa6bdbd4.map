{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\shared\\logging\\winston.config.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,iDAAmC;AACnC,qCAAmC;AACnC,+CAAuE;AACvE,2CAA6B;AAE7B;;;;GAIG;AACU,QAAA,aAAa,GAAyB;IACjD,UAAU,EAAE;QACV,yCAAyC;QACzC,IAAI,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC;YAC7B,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAC5B,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,EAC1B,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,EACnB,wBAA0B,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE;gBAClD,MAAM,EAAE,IAAI;gBACZ,WAAW,EAAE,IAAI;aAClB,CAAC,CACH;YACD,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;SAC/D,CAAC;QAEF,sCAAsC;QACtC,IAAI,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC;YACrC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC;YACzC,QAAQ,EAAE,wBAAwB;YAClC,WAAW,EAAE,YAAY;YACzB,aAAa,EAAE,IAAI;YACnB,OAAO,EAAE,KAAK;YACd,QAAQ,EAAE,KAAK;YACf,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAC5B,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,EAC1B,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CACtB;YACD,KAAK,EAAE,MAAM;SACd,CAAC;QAEF,uCAAuC;QACvC,IAAI,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC;YACrC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC;YACzC,QAAQ,EAAE,kBAAkB;YAC5B,WAAW,EAAE,YAAY;YACzB,aAAa,EAAE,IAAI;YACnB,OAAO,EAAE,KAAK;YACd,QAAQ,EAAE,KAAK;YACf,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAC5B,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,EAC1B,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CACtB;YACD,KAAK,EAAE,OAAO;SACf,CAAC;KACH;CACF,CAAC","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\shared\\logging\\winston.config.ts"],"sourcesContent":["import { WinstonModuleOptions } from 'nest-winston';\nimport * as winston from 'winston';\nimport 'winston-daily-rotate-file';\nimport { utilities as nestWinstonModuleUtilities } from 'nest-winston';\nimport * as path from 'path';\n\n/**\n * Configuração do Winston para logging\n *\n * Define os formatos, níveis e destinos dos logs da aplicação\n */\nexport const winstonConfig: WinstonModuleOptions = {\n  transports: [\n    // Console transport para desenvolvimento\n    new winston.transports.Console({\n      format: winston.format.combine(\n        winston.format.timestamp(),\n        winston.format.ms(),\n        nestWinstonModuleUtilities.format.nestLike('PGBEN', {\n          colors: true,\n          prettyPrint: true,\n        }),\n      ),\n      level: process.env.NODE_ENV === 'production' ? 'warn' : 'info',\n    }),\n\n    // Arquivo de log para todos os níveis\n    new winston.transports.DailyRotateFile({\n      dirname: path.join(process.cwd(), 'logs'),\n      filename: 'application-%DATE%.log',\n      datePattern: 'YYYY-MM-DD',\n      zippedArchive: true,\n      maxSize: '20m',\n      maxFiles: '14d',\n      format: winston.format.combine(\n        winston.format.timestamp(),\n        winston.format.json(),\n      ),\n      level: 'warn',\n    }),\n\n    // Arquivo de log específico para erros\n    new winston.transports.DailyRotateFile({\n      dirname: path.join(process.cwd(), 'logs'),\n      filename: 'error-%DATE%.log',\n      datePattern: 'YYYY-MM-DD',\n      zippedArchive: true,\n      maxSize: '20m',\n      maxFiles: '30d',\n      format: winston.format.combine(\n        winston.format.timestamp(),\n        winston.format.json(),\n      ),\n      level: 'error',\n    }),\n  ],\n};\n"],"version":3}