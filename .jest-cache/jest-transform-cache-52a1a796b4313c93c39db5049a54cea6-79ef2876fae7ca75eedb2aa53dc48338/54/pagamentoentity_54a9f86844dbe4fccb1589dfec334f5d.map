{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\pagamento.entity.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\pagamento.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  ManyToOne,\n  OneToMany,\n  JoinColumn,\n  Index,\n  CreateDateColumn,\n  UpdateDateColumn,\n  DeleteDateColumn,\n} from 'typeorm';\nimport {\n  IsNotEmpty,\n  IsUUID,\n  IsOptional,\n  IsEnum,\n  IsNumber,\n  Min,\n  IsDecimal,\n} from 'class-validator';\nimport { StatusPagamentoEnum } from '../enums/status-pagamento.enum';\nimport { MetodoPagamentoEnum } from '../enums/metodo-pagamento.enum';\nimport { Usuario } from './usuario.entity';\nimport { Solicitacao } from './solicitacao.entity';\n\n/**\n * Entidade que representa um pagamento de benefício no sistema.\n *\n * Esta entidade armazena informações sobre pagamentos liberados para beneficiários,\n * incluindo valores, métodos de pagamento, status e histórico de liberação.\n *\n * @author Equipe PGBen\n */\n@Entity('pagamento')\nexport class Pagamento {\n  /**\n   * Identificador único do pagamento\n   */\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  /**\n   * Referência à solicitação aprovada que originou este pagamento\n   */\n  @Column({ name: 'solicitacao_id' })\n  @IsNotEmpty({ message: 'ID da solicitação é obrigatório' })\n  @IsUUID('4', { message: 'ID da solicitação inválido' })\n  solicitacaoId: string;\n\n  /**\n   * Referência às informações bancárias/PIX utilizadas para o pagamento\n   */\n  @Column({ name: 'info_bancaria_id', nullable: true })\n  infoBancariaId: string;\n\n  /**\n   * Valor liberado do benefício\n   */\n  @Column({ type: 'decimal', precision: 10, scale: 2 })\n  @IsNotEmpty({ message: 'Valor é obrigatório' })\n  @IsDecimal(\n    { decimal_digits: '2' },\n    { message: 'Valor deve ter no máximo 2 casas decimais' },\n  )\n  @Min(0.01, { message: 'Valor deve ser maior que zero' })\n  valor: number;\n\n  /**\n   * Data efetiva da liberação do pagamento\n   */\n  @Column({ name: 'data_liberacao', type: 'date' })\n  @IsNotEmpty({ message: 'Data de liberação é obrigatória' })\n  dataLiberacao: Date;\n\n  /**\n   * Status atual do pagamento no sistema\n   */\n  @Column({\n    type: 'enum',\n    enum: StatusPagamentoEnum,\n    default: StatusPagamentoEnum.AGENDADO,\n  })\n  @IsEnum(StatusPagamentoEnum, { message: 'Status inválido' })\n  status: StatusPagamentoEnum;\n\n  /**\n   * Método utilizado para realizar o pagamento\n   */\n  @Column({\n    name: 'metodo_pagamento',\n    type: 'enum',\n    enum: MetodoPagamentoEnum,\n  })\n  @IsEnum(MetodoPagamentoEnum, { message: 'Método de pagamento inválido' })\n  metodoPagamento: MetodoPagamentoEnum;\n\n  /**\n   * Referência ao usuário que liberou o pagamento\n   */\n  @Column({ name: 'liberado_por' })\n  @IsNotEmpty({ message: 'ID do responsável pela liberação é obrigatório' })\n  @IsUUID('4', { message: 'ID do responsável pela liberação inválido' })\n  liberadoPor: string;\n\n  /**\n   * Observações adicionais sobre o pagamento\n   */\n  @Column({ type: 'text', nullable: true })\n  @IsOptional()\n  observacoes: string;\n\n  /**\n   * Data de criação do registro\n   */\n  @CreateDateColumn({ name: 'created_at' })\n  created_at: Date;\n\n  /**\n   * Data da última atualização do registro\n   */\n  @UpdateDateColumn({ name: 'updated_at' })\n  updated_at: Date;\n\n  /**\n   * Data de remoção lógica (soft delete)\n   */\n  @DeleteDateColumn({ name: 'removed_at' })\n  removed_at: Date;\n\n  /**\n   * Relacionamentos com outras entidades\n   */\n  @ManyToOne(() => Solicitacao)\n  @JoinColumn({ name: 'solicitacao_id' })\n  solicitacao: Solicitacao;\n\n  /* @ManyToOne(() => InfoBancaria)\n  @JoinColumn({ name: 'info_bancaria_id' })\n  infoBancaria: InfoBancaria; */\n\n  @ManyToOne(() => Usuario)\n  @JoinColumn({ name: 'liberado_por' })\n  responsavelLiberacao: Usuario;\n\n  /**\n   * Comprovantes anexados a este pagamento\n   */\n  @OneToMany('ComprovantePagamento', 'pagamento')\n  comprovantes: any[];\n\n  /**\n   * Confirmação de recebimento deste pagamento\n   */\n  @OneToMany('ConfirmacaoRecebimento', 'pagamento')\n  confirmacoes: any[];\n}\n"],"version":3}