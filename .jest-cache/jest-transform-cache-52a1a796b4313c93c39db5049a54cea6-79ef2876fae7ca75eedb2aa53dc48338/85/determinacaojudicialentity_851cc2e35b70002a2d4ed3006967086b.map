{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\determinacao-judicial.entity.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\determinacao-judicial.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  CreateDateColumn,\n  UpdateDateColumn,\n  ManyToOne,\n  JoinColumn,\n  Index,\n} from 'typeorm';\nimport { IsNotEmpty, IsOptional, IsString, IsUUID, IsDate, IsEnum } from 'class-validator';\n\n/**\n * Enum para o tipo de determinação judicial\n */\nexport enum TipoDeterminacaoJudicial {\n  CONCESSAO = 'CONCESSAO',\n  SUSPENSAO = 'SUSPENSAO',\n  CANCELAMENTO = 'CANCELAMENTO',\n  ALTERACAO = 'ALTERACAO',\n  OUTRO = 'OUTRO',\n}\n\n/**\n * Interface para definir o tipo de ProcessoJudicial sem criar dependências circulares\n */\ninterface IProcessoJudicial {\n  id: string;\n  numero_processo: string;\n  vara_judicial: string;\n  comarca: string;\n}\n\n/**\n * Entidade de Determinação Judicial\n *\n * Armazena as determinações judiciais relacionadas a processos judiciais\n * que podem afetar solicitações de benefício.\n */\n@Entity('determinacao_judicial')\n@Index(['processo_judicial_id'])\n@Index(['solicitacao_id'])\n@Index(['cidadao_id'])\n@Index(['numero_processo'])\nexport class DeterminacaoJudicial {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column({ name: 'processo_judicial_id', type: 'uuid' })\n  @IsNotEmpty({ message: 'ID do processo judicial é obrigatório' })\n  @IsUUID('4', { message: 'ID do processo judicial inválido' })\n  processo_judicial_id: string;\n\n  /**\n   * Relação com ProcessoJudicial usando string para evitar referência circular\n   * Esta abordagem é recomendada pela documentação do TypeORM para resolver referências circulares\n   */\n  @ManyToOne('ProcessoJudicial', 'determinacoes')\n  @JoinColumn({ name: 'processo_judicial_id' })\n  processo_judicial: IProcessoJudicial;\n\n  @Column({ name: 'solicitacao_id', type: 'uuid', nullable: true })\n  @IsOptional()\n  @IsUUID('4', { message: 'ID da solicitação inválido' })\n  solicitacao_id: string;\n\n  @Column({ name: 'cidadao_id', type: 'uuid', nullable: true })\n  @IsOptional()\n  @IsUUID('4', { message: 'ID do cidadão inválido' })\n  cidadao_id: string;\n\n  @Column({ name: 'numero_processo', type: 'varchar', length: 50 })\n  @IsNotEmpty({ message: 'Número do processo é obrigatório' })\n  @IsString({ message: 'Número do processo deve ser uma string' })\n  numero_processo: string;\n\n  @Column({ name: 'numero_determinacao', type: 'varchar', length: 255 })\n  @IsNotEmpty({ message: 'Número da determinação é obrigatório' })\n  @IsString({ message: 'Número da determinação deve ser uma string' })\n  numero_determinacao: string;\n\n  @Column({\n    name: 'tipo',\n    type: 'enum',\n    enum: TipoDeterminacaoJudicial,\n    default: TipoDeterminacaoJudicial.OUTRO,\n  })\n  @IsNotEmpty({ message: 'Tipo de determinação é obrigatório' })\n  @IsEnum(TipoDeterminacaoJudicial, { message: 'Tipo de determinação inválido' })\n  tipo: TipoDeterminacaoJudicial;\n\n  @Column({ name: 'orgao_judicial', type: 'varchar', length: 100, nullable: true })\n  @IsOptional()\n  @IsString({ message: 'Órgão judicial deve ser uma string' })\n  orgao_judicial: string;\n\n  @Column({ name: 'comarca', type: 'varchar', length: 100, nullable: true })\n  @IsOptional()\n  @IsString({ message: 'Comarca deve ser uma string' })\n  comarca: string;\n\n  @Column({ name: 'juiz', type: 'varchar', length: 100, nullable: true })\n  @IsOptional()\n  @IsString({ message: 'Juiz deve ser uma string' })\n  juiz: string;\n\n  @Column({ name: 'descricao', type: 'text' })\n  @IsNotEmpty({ message: 'Descrição é obrigatória' })\n  @IsString({ message: 'Descrição deve ser uma string' })\n  descricao: string;\n\n  @Column({ name: 'data_determinacao', type: 'timestamp with time zone' })\n  @IsNotEmpty({ message: 'Data da determinação é obrigatória' })\n  @IsDate({ message: 'Data da determinação deve ser uma data válida' })\n  data_determinacao: Date;\n\n  @Column({ name: 'data_prazo', type: 'timestamp with time zone', nullable: true })\n  @IsOptional()\n  @IsDate({ message: 'Data do prazo deve ser uma data válida' })\n  data_prazo: Date;\n\n  @Column({ name: 'cumprida', type: 'boolean', default: false })\n  cumprida: boolean;\n\n  @Column({ name: 'data_cumprimento', type: 'timestamp with time zone', nullable: true })\n  @IsOptional()\n  @IsDate({ message: 'Data de cumprimento deve ser uma data válida' })\n  data_cumprimento: Date;\n\n  @Column({ name: 'observacao_cumprimento', type: 'text', nullable: true })\n  @IsOptional()\n  @IsString({ message: 'Observação de cumprimento deve ser uma string' })\n  observacao_cumprimento: string;\n\n  @Column({ name: 'documento_url', type: 'varchar', length: 255, nullable: true })\n  @IsOptional()\n  @IsString({ message: 'URL do documento deve ser uma string' })\n  documento_url: string;\n\n  @Column({ name: 'ativo', type: 'boolean', default: true })\n  ativo: boolean;\n\n  @Column({ name: 'usuario_id', type: 'uuid', nullable: true })\n  @IsOptional()\n  @IsUUID('4', { message: 'ID do usuário inválido' })\n  usuario_id: string;\n\n  @CreateDateColumn({ name: 'created_at' })\n  created_at: Date;\n\n  @UpdateDateColumn({ name: 'updated_at' })\n  updated_at: Date;\n\n  @Column({ name: 'created_by', type: 'uuid', nullable: true })\n  created_by: string;\n\n  @Column({ name: 'updated_by', type: 'uuid', nullable: true })\n  updated_by: string;\n}\n"],"version":3}