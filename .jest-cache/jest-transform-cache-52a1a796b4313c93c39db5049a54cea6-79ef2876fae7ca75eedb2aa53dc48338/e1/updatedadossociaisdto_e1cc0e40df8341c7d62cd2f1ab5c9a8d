645f29fe92e40deef6f7b8594c623120
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b;
Object.defineProperty(exports, "__esModule", { value: true });
exports.UpdateDadosSociaisDto = void 0;
const swagger_1 = require("@nestjs/swagger");
const create_dados_sociais_dto_1 = require("./create-dados-sociais.dto");
const class_validator_1 = require("class-validator");
const class_transformer_1 = require("class-transformer");
const escolaridade_enum_1 = require("../../../enums/escolaridade.enum");
const situacao_trabalho_enum_1 = require("../../../enums/situacao-trabalho.enum");
const enum_validator_1 = require("../../../shared/validators/enum-validator");
/**
 * DTO para atualização de dados sociais de um cidadão
 *
 * Permite atualização parcial dos dados sociais, mantendo as mesmas
 * validações do DTO de criação mas com todos os campos opcionais.
 */
class UpdateDadosSociaisDto extends (0, swagger_1.PartialType)(create_dados_sociais_dto_1.CreateDadosSociaisDto) {
    escolaridade;
    publico_prioritario;
    renda;
    ocupacao;
    recebe_pbf;
    valor_pbf;
    recebe_bpc;
    tipo_bpc;
    valor_bpc;
    curso_profissionalizante;
    interesse_curso_profissionalizante;
    situacao_trabalho;
    area_trabalho;
    familiar_apto_trabalho;
    area_interesse_familiar;
    observacoes;
}
exports.UpdateDadosSociaisDto = UpdateDadosSociaisDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Nível de escolaridade do cidadão',
        enum: escolaridade_enum_1.EscolaridadeEnum,
        example: escolaridade_enum_1.EscolaridadeEnum.MEDIO_COMPLETO,
        required: false,
        enumName: 'EscolaridadeEnum'
    }),
    (0, class_validator_1.IsOptional)(),
    (0, enum_validator_1.IsEnumValue)(escolaridade_enum_1.EscolaridadeEnum, {
        enumName: 'Escolaridade',
        caseSensitive: false,
    }),
    __metadata("design:type", typeof (_a = typeof escolaridade_enum_1.EscolaridadeEnum !== "undefined" && escolaridade_enum_1.EscolaridadeEnum) === "function" ? _a : Object)
], UpdateDadosSociaisDto.prototype, "escolaridade", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão faz parte de público prioritário',
        example: true,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo publico_prioritario deve ser verdadeiro ou falso' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "publico_prioritario", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Renda mensal do cidadão em reais',
        example: 1500.50,
        minimum: 0,
        maximum: 50000,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({ maxDecimalPlaces: 2 }, { message: 'Renda deve ser um número válido com no máximo 2 casas decimais' }),
    (0, class_validator_1.Min)(0, { message: 'Renda não pode ser negativa' }),
    (0, class_validator_1.Max)(50000, { message: 'Renda não pode exceder R$ 50.000,00' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            // Remove vírgulas e converte para número
            const cleanValue = value.replace(/,/g, '.');
            return parseFloat(cleanValue);
        }
        return value;
    }),
    __metadata("design:type", Number)
], UpdateDadosSociaisDto.prototype, "renda", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Ocupação ou profissão do cidadão',
        example: 'Auxiliar de limpeza',
        maxLength: 255,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Ocupação deve ser um texto' }),
    (0, class_validator_1.MaxLength)(255, { message: 'Ocupação deve ter no máximo 255 caracteres' }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "ocupacao", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão recebe Programa Bolsa Família',
        example: false,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo recebe_pbf deve ser verdadeiro ou falso' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "recebe_pbf", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Valor mensal recebido do Programa Bolsa Família',
        example: 400.00,
        minimum: 50,
        maximum: 10000,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.ValidateIf)((o) => o.recebe_pbf === true),
    (0, class_validator_1.IsNumber)({ maxDecimalPlaces: 2 }, { message: 'Valor do PBF deve ser um número válido com no máximo 2 casas decimais' }),
    (0, class_validator_1.Min)(50, { message: 'Valor do PBF deve ser no mínimo R$ 50,00' }),
    (0, class_validator_1.Max)(10000, { message: 'Valor do PBF não pode exceder R$ 10.000,00' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            // Remove vírgulas e espaços, converte para número
            const cleanValue = value.replace(/[,\s]/g, '.').replace(/\.{2,}/g, '.');
            return parseFloat(cleanValue) || 0;
        }
        return value;
    }),
    __metadata("design:type", Number)
], UpdateDadosSociaisDto.prototype, "valor_pbf", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão recebe Benefício de Prestação Continuada',
        example: false,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo recebe_bpc deve ser verdadeiro ou falso' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "recebe_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Tipo do BPC recebido (idoso, deficiente, etc.)',
        example: 'Pessoa com deficiência',
        maxLength: 100,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.ValidateIf)((o) => o.recebe_bpc === true),
    (0, class_validator_1.IsString)({ message: 'Tipo do BPC deve ser um texto' }),
    (0, class_validator_1.MaxLength)(100, { message: 'Tipo do BPC deve ter no máximo 100 caracteres' }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "tipo_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Valor mensal recebido do BPC',
        example: 1320.00,
        minimum: 100,
        maximum: 10000,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.ValidateIf)((o) => o.recebe_bpc === true),
    (0, class_validator_1.IsNumber)({ maxDecimalPlaces: 2 }, { message: 'Valor do BPC deve ser um número válido com no máximo 2 casas decimais' }),
    (0, class_validator_1.Min)(100, { message: 'Valor do BPC deve ser no mínimo R$ 100,00' }),
    (0, class_validator_1.Max)(10000, { message: 'Valor do BPC não pode exceder R$ 10.000,00' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            // Remove vírgulas e espaços, converte para número
            const cleanValue = value.replace(/[,\s]/g, '.').replace(/\.{2,}/g, '.');
            return parseFloat(cleanValue) || 0;
        }
        return value;
    }),
    __metadata("design:type", Number)
], UpdateDadosSociaisDto.prototype, "valor_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Curso profissionalizante que o cidadão possui ou está cursando',
        example: 'Técnico em Informática',
        maxLength: 255,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Curso profissionalizante deve ser um texto' }),
    (0, class_validator_1.MaxLength)(255, { message: 'Curso profissionalizante deve ter no máximo 255 caracteres' }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "curso_profissionalizante", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão tem interesse em fazer curso profissionalizante',
        example: true,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo interesse_curso_profissionalizante deve ser verdadeiro ou falso' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "interesse_curso_profissionalizante", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Situação atual de trabalho do cidadão',
        enum: situacao_trabalho_enum_1.SituacaoTrabalhoEnum,
        example: situacao_trabalho_enum_1.SituacaoTrabalhoEnum.DESEMPREGADO,
        required: false,
        enumName: 'SituacaoTrabalhoEnum'
    }),
    (0, class_validator_1.IsOptional)(),
    (0, enum_validator_1.IsEnumValue)(situacao_trabalho_enum_1.SituacaoTrabalhoEnum, {
        enumName: 'Situação de Trabalho',
        caseSensitive: false,
    }),
    __metadata("design:type", typeof (_b = typeof situacao_trabalho_enum_1.SituacaoTrabalhoEnum !== "undefined" && situacao_trabalho_enum_1.SituacaoTrabalhoEnum) === "function" ? _b : Object)
], UpdateDadosSociaisDto.prototype, "situacao_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Área de trabalho ou interesse profissional',
        example: 'Serviços gerais',
        maxLength: 255,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Área de trabalho deve ser um texto' }),
    (0, class_validator_1.MaxLength)(255, { message: 'Área de trabalho deve ter no máximo 255 caracteres' }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "area_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se há familiar apto para trabalhar na composição familiar',
        example: true,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo familiar_apto_trabalho deve ser verdadeiro ou falso' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "familiar_apto_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Área de interesse profissional de familiares',
        example: 'Construção civil',
        maxLength: 255,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Área de interesse familiar deve ser um texto' }),
    (0, class_validator_1.MaxLength)(255, { message: 'Área de interesse familiar deve ter no máximo 255 caracteres' }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "area_interesse_familiar", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Observações adicionais sobre a situação social',
        example: 'Família em situação de vulnerabilidade social',
        maxLength: 1000,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Observações devem ser um texto' }),
    (0, class_validator_1.MaxLength)(1000, { message: 'Observações devem ter no máximo 1000 caracteres' }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "observacoes", void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGNpZGFkYW9cXGR0b1xcdXBkYXRlLWRhZG9zLXNvY2lhaXMuZHRvLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBMkQ7QUFDM0QseUVBQW1FO0FBQ25FLHFEQVV5QjtBQUN6Qix5REFBOEM7QUFDOUMsd0VBQW9FO0FBQ3BFLGtGQUE2RTtBQUM3RSw4RUFBd0U7QUFFeEU7Ozs7O0dBS0c7QUFDSCxNQUFhLHFCQUFzQixTQUFRLElBQUEscUJBQVcsRUFBQyxnREFBcUIsQ0FBQztJQWEzRSxZQUFZLENBQW9CO0lBZWhDLG1CQUFtQixDQUFXO0lBcUI5QixLQUFLLENBQVU7SUFXZixRQUFRLENBQVU7SUFlbEIsVUFBVSxDQUFXO0lBc0JyQixTQUFTLENBQVU7SUFlbkIsVUFBVSxDQUFXO0lBWXJCLFFBQVEsQ0FBVTtJQXNCbEIsU0FBUyxDQUFVO0lBV25CLHdCQUF3QixDQUFVO0lBZWxDLGtDQUFrQyxDQUFXO0lBYzdDLGlCQUFpQixDQUF3QjtJQVd6QyxhQUFhLENBQVU7SUFldkIsc0JBQXNCLENBQVc7SUFXakMsdUJBQXVCLENBQVU7SUFXakMsV0FBVyxDQUFVO0NBQ3RCO0FBM09ELHNEQTJPQztBQTlOQztJQVpDLElBQUEscUJBQVcsRUFBQztRQUNYLFdBQVcsRUFBRSxrQ0FBa0M7UUFDL0MsSUFBSSxFQUFFLG9DQUFnQjtRQUN0QixPQUFPLEVBQUUsb0NBQWdCLENBQUMsY0FBYztRQUN4QyxRQUFRLEVBQUUsS0FBSztRQUNmLFFBQVEsRUFBRSxrQkFBa0I7S0FDN0IsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTtJQUNaLElBQUEsNEJBQVcsRUFBQyxvQ0FBZ0IsRUFBRTtRQUM3QixRQUFRLEVBQUUsY0FBYztRQUN4QixhQUFhLEVBQUUsS0FBSztLQUNyQixDQUFDO2tEQUNhLG9DQUFnQixvQkFBaEIsb0NBQWdCOzJE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TUFBTSxDQUFDO1FBQ3hDLENBQUM7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUMsQ0FBQzs7cUVBQytCO0FBV2pDO0lBVEMsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsV0FBVyxFQUFFLDhDQUE4QztRQUMzRCxPQUFPLEVBQUUsa0JBQWtCO1FBQzNCLFNBQVMsRUFBRSxHQUFHO1FBQ2QsUUFBUSxFQUFFLEtBQUs7S0FDaEIsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTtJQUNaLElBQUEsMEJBQVEsRUFBQyxFQUFFLE9BQU8sRUFBRSw4Q0FBOEMsRUFBRSxDQUFDO0lBQ3JFLElBQUEsMkJBQVMsRUFBQyxHQUFHLEVBQUUsRUFBRSxPQUFPLEVBQUUsOERBQThELEVBQUUsQ0FBQzs7c0VBQzNEO0FBV2pDO0lBVEMsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsV0FBVyxFQUFFLGdEQUFnRDtRQUM3RCxPQUFPLEVBQUUsK0NBQStDO1FBQ3hELFNBQVMsRUFBRSxJQUFJO1FBQ2YsUUFBUSxFQUFFLEtBQUs7S0FDaEIsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTtJQUNaLElBQUEsMEJBQVEsRUFBQyxFQUFFLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxDQUFDO0lBQ3ZELElBQUEsMkJBQVMsRUFBQyxJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsaURBQWlELEVBQUUsQ0FBQzs7MERBQzNEIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZXVkcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZXRvc1xccGdiZW5cXHBnYmVuLXNlcnZlclxcc3JjXFxtb2R1bGVzXFxjaWRhZGFvXFxkdG9cXHVwZGF0ZS1kYWRvcy1zb2NpYWlzLmR0by50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcGlQcm9wZXJ0eSwgUGFydGlhbFR5cGUgfSBmcm9tICdAbmVzdGpzL3N3YWdnZXInO1xuaW1wb3J0IHsgQ3JlYXRlRGFkb3NTb2NpYWlzRHRvIH0gZnJvbSAnLi9jcmVhdGUtZGFkb3Mtc29jaWFpcy5kdG8nO1xuaW1wb3J0IHtcbiAgSXNPcHRpb25hbCxcbiAgSXNOdW1iZXIsXG4gIE1pbixcbiAgTWF4LFxuICBJc0VudW0sXG4gIElzU3RyaW5nLFxuICBJc0Jvb2xlYW4sXG4gIFZhbGlkYXRlSWYsXG4gIE1heExlbmd0aCxcbn0gZnJvbSAnY2xhc3MtdmFsaWRhdG9yJztcbmltcG9ydCB7IFRyYW5zZm9ybSB9IGZyb20gJ2NsYXNzLXRyYW5zZm9ybWVyJztcbmltcG9ydCB7IEVzY29sYXJpZGFkZUVudW0gfSBmcm9tICcuLi8uLi8uLi9lbnVtcy9lc2NvbGFyaWRhZGUuZW51bSc7XG5pbXBvcnQgeyBTaXR1YWNhb1RyYWJhbGhvRW51bSB9IGZyb20gJy4uLy4uLy4uL2VudW1zL3NpdHVhY2FvLXRyYWJhbGhvLmVudW0nO1xuaW1wb3J0IHsgSXNFbnVtVmFsdWUgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdmFsaWRhdG9ycy9lbnVtLXZhbGlkYXRvcic7XG5cbi8qKlxuICogRFRPIHBhcmEgYXR1YWxpemHDp8OjbyBkZSBkYWRvcyBzb2NpYWlzIGRlIHVtIGNpZGFkw6NvXG4gKiBcbiAqIFBlcm1pdGUgYXR1YWxpemHDp8OjbyBwYXJjaWFsIGRvcyBkYWRvcyBzb2NpYWlzLCBtYW50ZW5kbyBhcyBtZXNtYXNcbiAqIHZhbGlkYcOnw7VlcyBkbyBEVE8gZGUgY3JpYcOnw6NvIG1hcyBjb20gdG9kb3Mgb3MgY2FtcG9zIG9wY2lvbmFpcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFVwZGF0ZURhZG9zU29jaWFpc0R0byBleHRlbmRzIFBhcnRpYWxUeXBlKENyZWF0ZURhZG9zU29jaWFpc0R0bykge1xuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnTsOtdmVsIGRlIGVzY29sYXJpZGFkZSBkbyBjaWRhZMOjbycsXG4gICAgZW51bTogRXNjb2xhcmlkYWRlRW51bSxcbiAgICBleGFtcGxlOiBFc2NvbGFyaWRhZGVFbnVtLk1FRElPX0NPTVBMRVRPLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICBlbnVtTmFtZTogJ0VzY29sYXJpZGFkZUVudW0nXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzRW51bVZhbHVlKEVzY29sYXJpZGFkZUVudW0sIHtcbiAgICBlbnVtTmFtZTogJ0VzY29sYXJpZGFkZScsXG4gICAgY2FzZVNlbnNpdGl2ZTogZmFsc2UsXG4gIH0pXG4gIGVzY29sYXJpZGFkZT86IEVzY29sYXJpZGFkZUVudW07XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0luZGljYSBzZSBvIGNpZGFkw6NvIGZheiBwYXJ0ZSBkZSBww7pibGljbyBwcmlvcml0w6FyaW8nLFxuICAgIGV4YW1wbGU6IHRydWUsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0Jvb2xlYW4oeyBtZXNzYWdlOiAnTyBjYW1wbyBwdWJsaWNvX3ByaW9yaXRhcmlvIGRldmUgc2VyIHZlcmRhZGVpcm8gb3UgZmFsc28nIH0pXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIHB1YmxpY29fcHJpb3JpdGFyaW8/OiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdSZW5kYSBtZW5zYWwgZG8gY2lkYWTDo28gZW0gcmVhaXMnLFxuICAgIGV4YW1wbGU6IDE1MDAuNTAsXG4gICAgbWluaW11bTogMCxcbiAgICBtYXhpbXVtOiA1MDAwMCxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzTnVtYmVyKHsgbWF4RGVjaW1hbFBsYWNlczogMiB9LCB7IG1lc3NhZ2U6ICdSZW5kYSBkZXZlIHNlciB1bSBuw7ptZXJvIHbDoWxpZG8gY29tIG5vIG3DoXhpbW8gMiBjYXNhcyBkZWNpbWFpcycgfSlcbiAgQE1pbigwLCB7IG1lc3NhZ2U6ICdSZW5kYSBuw6NvIHBvZGUgc2VyIG5lZ2F0aXZhJyB9KVxuICBATWF4KDUwMDAwLCB7IG1lc3NhZ2U6ICdSZW5kYSBuw6NvIHBvZGUgZXhjZWRlciBSJCA1MC4wMDAsMDAnIH0pXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBSZW1vdmUgdsOtcmd1bGFzIGUgY29udmVydGUgcGFyYSBuw7ptZXJvXG4gICAgICBjb25zdCBjbGVhblZhbHVlID0gdmFsdWUucmVwbGFjZSgvLC9nLCAnLicpO1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoY2xlYW5WYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSlcbiAgcmVuZGE/OiBudW1iZXI7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ09jdXBhw6fDo28gb3UgcHJvZmlzc8OjbyBkbyBjaWRhZMOjbycsXG4gICAgZXhhbXBsZTogJ0F1eGlsaWFyIGRlIGxpbXBlemEnLFxuICAgIG1heExlbmd0aDogMjU1LFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnT2N1cGHDp8OjbyBkZXZlIHNlciB1bSB0ZXh0bycgfSlcbiAgQE1heExlbmd0aCgyNTUsIHsgbWVzc2FnZTogJ09jdXBhw6fDo28gZGV2ZSB0ZXIgbm8gbcOheGltbyAyNTUgY2FyYWN0ZXJlcycgfSlcbiAgb2N1cGFjYW8/OiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0luZGljYSBzZSBvIGNpZGFkw6NvIHJlY2ViZSBQcm9ncmFtYSBCb2xzYSBGYW3DrWxpYScsXG4gICAgZXhhbXBsZTogZmFsc2UsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0Jvb2xlYW4oeyBtZXNzYWdlOiAnTyBjYW1wbyByZWNlYmVfcGJmIGRldmUgc2VyIHZlcmRhZGVpcm8gb3UgZmFsc28nIH0pXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIHJlY2ViZV9wYmY/OiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdWYWxvciBtZW5zYWwgcmVjZWJpZG8gZG8gUHJvZ3JhbWEgQm9sc2EgRmFtw61saWEnLFxuICAgIGV4YW1wbGU6IDQwMC4wMCxcbiAgICBtaW5pbXVtOiA1MCxcbiAgICBtYXhpbXVtOiAxMDAwMCxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQFZhbGlkYXRlSWYoKG8pID0+IG8ucmVjZWJlX3BiZiA9PT0gdHJ1ZSlcbiAgQElzTnVtYmVyKHsgbWF4RGVjaW1hbFBsYWNlczogMiB9LCB7IG1lc3NhZ2U6ICdWYWxvciBkbyBQQkYgZGV2ZSBzZXIgdW0gbsO6bWVybyB2w6FsaWRvIGNvbSBubyBtw6F4aW1vIDIgY2FzYXMgZGVjaW1haXMnIH0pXG4gIEBNaW4oNTAsIHsgbWVzc2FnZTogJ1ZhbG9yIGRvIFBCRiBkZXZlIHNlciBubyBtw61uaW1vIFIkIDUwLDAwJyB9KVxuICBATWF4KDEwMDAwLCB7IG1lc3NhZ2U6ICdWYWxvciBkbyBQQkYgbsOjbyBwb2RlIGV4Y2VkZXIgUiQgMTAuMDAwLDAwJyB9KVxuICBAVHJhbnNmb3JtKCh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gUmVtb3ZlIHbDrXJndWxhcyBlIGVzcGHDp29zLCBjb252ZXJ0ZSBwYXJhIG7Dum1lcm9cbiAgICAgIGNvbnN0IGNsZWFuVmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bLFxcc10vZywgJy4nKS5yZXBsYWNlKC9cXC57Mix9L2csICcuJyk7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChjbGVhblZhbHVlKSB8fCAwO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIHZhbG9yX3BiZj86IG51bWJlcjtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnSW5kaWNhIHNlIG8gY2lkYWTDo28gcmVjZWJlIEJlbmVmw61jaW8gZGUgUHJlc3Rhw6fDo28gQ29udGludWFkYScsXG4gICAgZXhhbXBsZTogZmFsc2UsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0Jvb2xlYW4oeyBtZXNzYWdlOiAnTyBjYW1wbyByZWNlYmVfYnBjIGRldmUgc2VyIHZlcmRhZGVpcm8gb3UgZmFsc28nIH0pXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIHJlY2ViZV9icGM/OiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUaXBvIGRvIEJQQyByZWNlYmlkbyAoaWRvc28sIGRlZmljaWVudGUsIGV0Yy4pJyxcbiAgICBleGFtcGxlOiAnUGVzc29hIGNvbSBkZWZpY2nDqm5jaWEnLFxuICAgIG1heExlbmd0aDogMTAwLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBAVmFsaWRhdGVJZigobykgPT4gby5yZWNlYmVfYnBjID09PSB0cnVlKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnVGlwbyBkbyBCUEMgZGV2ZSBzZXIgdW0gdGV4dG8nIH0pXG4gIEBNYXhMZW5ndGgoMTAwLCB7IG1lc3NhZ2U6ICdUaXBvIGRvIEJQQyBkZXZlIHRlciBubyBtw6F4aW1vIDEwMCBjYXJhY3RlcmVzJyB9KVxuICB0aXBvX2JwYz86IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnVmFsb3IgbWVuc2FsIHJlY2ViaWRvIGRvIEJQQycsXG4gICAgZXhhbXBsZTogMTMyMC4wMCxcbiAgICBtaW5pbXVtOiAxMDAsXG4gICAgbWF4aW11bTogMTAwMDAsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBWYWxpZGF0ZUlmKChvKSA9PiBvLnJlY2ViZV9icGMgPT09IHRydWUpXG4gIEBJc051bWJlcih7IG1heERlY2ltYWxQbGFjZXM6IDIgfSwgeyBtZXNzYWdlOiAnVmFsb3IgZG8gQlBDIGRldmUgc2VyIHVtIG7Dum1lcm8gdsOhbGlkbyBjb20gbm8gbcOheGltbyAyIGNhc2FzIGRlY2ltYWlzJyB9KVxuICBATWluKDEwMCwgeyBtZXNzYWdlOiAnVmFsb3IgZG8gQlBDIGRldmUgc2VyIG5vIG3DrW5pbW8gUiQgMTAwLDAwJyB9KVxuICBATWF4KDEwMDAwLCB7IG1lc3NhZ2U6ICdWYWxvciBkbyBCUEMgbsOjbyBwb2RlIGV4Y2VkZXIgUiQgMTAuMDAwLDAwJyB9KVxuICBAVHJhbnNmb3JtKCh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gUmVtb3ZlIHbDrXJndWxhcyBlIGVzcGHDp29zLCBjb252ZXJ0ZSBwYXJhIG7Dum1lcm9cbiAgICAgIGNvbnN0IGNsZWFuVmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bLFxcc10vZywgJy4nKS5yZXBsYWNlKC9cXC57Mix9L2csICcuJyk7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChjbGVhblZhbHVlKSB8fCAwO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIHZhbG9yX2JwYz86IG51bWJlcjtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnQ3Vyc28gcHJvZmlzc2lvbmFsaXphbnRlIHF1ZSBvIGNpZGFkw6NvIHBvc3N1aSBvdSBlc3TDoSBjdXJzYW5kbycsXG4gICAgZXhhbXBsZTogJ1TDqWNuaWNvIGVtIEluZm9ybcOhdGljYScsXG4gICAgbWF4TGVuZ3RoOiAyNTUsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc1N0cmluZyh7IG1lc3NhZ2U6ICdDdXJzbyBwcm9maXNzaW9uYWxpemFudGUgZGV2ZSBzZXIgdW0gdGV4dG8nIH0pXG4gIEBNYXhMZW5ndGgoMjU1LCB7IG1lc3NhZ2U6ICdDdXJzbyBwcm9maXNzaW9uYWxpemFudGUgZGV2ZSB0ZXIgbm8gbcOheGltbyAyNTUgY2FyYWN0ZXJlcycgfSlcbiAgY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlPzogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdJbmRpY2Egc2UgbyBjaWRhZMOjbyB0ZW0gaW50ZXJlc3NlIGVtIGZhemVyIGN1cnNvIHByb2Zpc3Npb25hbGl6YW50ZScsXG4gICAgZXhhbXBsZTogdHJ1ZSxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzQm9vbGVhbih7IG1lc3NhZ2U6ICdPIGNhbXBvIGludGVyZXNzZV9jdXJzb19wcm9maXNzaW9uYWxpemFudGUgZGV2ZSBzZXIgdmVyZGFkZWlybyBvdSBmYWxzbycgfSlcbiAgQFRyYW5zZm9ybSgoeyB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSlcbiAgaW50ZXJlc3NlX2N1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZT86IGJvb2xlYW47XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1NpdHVhw6fDo28gYXR1YWwgZGUgdHJhYmFsaG8gZG8gY2lkYWTDo28nLFxuICAgIGVudW06IFNpdHVhY2FvVHJhYmFsaG9FbnVtLFxuICAgIGV4YW1wbGU6IFNpdHVhY2FvVHJhYmFsaG9FbnVtLkRFU0VNUFJFR0FETyxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgZW51bU5hbWU6ICdTaXR1YWNhb1RyYWJhbGhvRW51bSdcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNFbnVtVmFsdWUoU2l0dWFjYW9UcmFiYWxob0VudW0sIHtcbiAgICBlbnVtTmFtZTogJ1NpdHVhw6fDo28gZGUgVHJhYmFsaG8nLFxuICAgIGNhc2VTZW5zaXRpdmU6IGZhbHNlLFxuICB9KVxuICBzaXR1YWNhb190cmFiYWxobz86IFNpdHVhY2FvVHJhYmFsaG9FbnVtO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICfDgXJlYSBkZSB0cmFiYWxobyBvdSBpbnRlcmVzc2UgcHJvZmlzc2lvbmFsJyxcbiAgICBleGFtcGxlOiAnU2VydmnDp29zIGdlcmFpcycsXG4gICAgbWF4TGVuZ3RoOiAyNTUsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc1N0cmluZyh7IG1lc3NhZ2U6ICfDgXJlYSBkZSB0cmFiYWxobyBkZXZlIHNlciB1bSB0ZXh0bycgfSlcbiAgQE1heExlbmd0aCgyNTUsIHsgbWVzc2FnZTogJ8OBcmVhIGRlIHRyYWJhbGhvIGRldmUgdGVyIG5vIG3DoXhpbW8gMjU1IGNhcmFjdGVyZXMnIH0pXG4gIGFyZWFfdHJhYmFsaG8/OiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0luZGljYSBzZSBow6EgZmFtaWxpYXIgYXB0byBwYXJhIHRyYWJhbGhhciBuYSBjb21wb3Npw6fDo28gZmFtaWxpYXInLFxuICAgIGV4YW1wbGU6IHRydWUsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0Jvb2xlYW4oeyBtZXNzYWdlOiAnTyBjYW1wbyBmYW1pbGlhcl9hcHRvX3RyYWJhbGhvIGRldmUgc2VyIHZlcmRhZGVpcm8gb3UgZmFsc28nIH0pXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIGZhbWlsaWFyX2FwdG9fdHJhYmFsaG8/OiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICfDgXJlYSBkZSBpbnRlcmVzc2UgcHJvZmlzc2lvbmFsIGRlIGZhbWlsaWFyZXMnLFxuICAgIGV4YW1wbGU6ICdDb25zdHJ1w6fDo28gY2l2aWwnLFxuICAgIG1heExlbmd0aDogMjU1LFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnw4FyZWEgZGUgaW50ZXJlc3NlIGZhbWlsaWFyIGRldmUgc2VyIHVtIHRleHRvJyB9KVxuICBATWF4TGVuZ3RoKDI1NSwgeyBtZXNzYWdlOiAnw4FyZWEgZGUgaW50ZXJlc3NlIGZhbWlsaWFyIGRldmUgdGVyIG5vIG3DoXhpbW8gMjU1IGNhcmFjdGVyZXMnIH0pXG4gIGFyZWFfaW50ZXJlc3NlX2ZhbWlsaWFyPzogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdPYnNlcnZhw6fDtWVzIGFkaWNpb25haXMgc29icmUgYSBzaXR1YcOnw6NvIHNvY2lhbCcsXG4gICAgZXhhbXBsZTogJ0ZhbcOtbGlhIGVtIHNpdHVhw6fDo28gZGUgdnVsbmVyYWJpbGlkYWRlIHNvY2lhbCcsXG4gICAgbWF4TGVuZ3RoOiAxMDAwLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnT2JzZXJ2YcOnw7VlcyBkZXZlbSBzZXIgdW0gdGV4dG8nIH0pXG4gIEBNYXhMZW5ndGgoMTAwMCwgeyBtZXNzYWdlOiAnT2JzZXJ2YcOnw7VlcyBkZXZlbSB0ZXIgbm8gbcOheGltbyAxMDAwIGNhcmFjdGVyZXMnIH0pXG4gIG9ic2VydmFjb2VzPzogc3RyaW5nO1xufSJdLCJ2ZXJzaW9uIjozfQ==