{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\cidadao\\dto\\composicao-familiar-response.dto.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\cidadao\\dto\\composicao-familiar-response.dto.ts"],"sourcesContent":["import { ApiProperty } from '@nestjs/swagger';\nimport { Expose, Transform, Type } from 'class-transformer';\nimport {\n  IsUUID,\n  IsString,\n  IsNumber,\n  IsEnum,\n  IsOptional,\n  IsDate,\n} from 'class-validator';\nimport { EscolaridadeEnum } from '../../../enums/escolaridade.enum';\nimport { ParentescoEnum } from '../../../enums/parentesco.enum';\n\n/**\n * DTO de resposta para membro da composição familiar\n *\n * Define a estrutura de dados retornada nas consultas de membros da composição familiar,\n * incluindo campos calculados e formatação adequada para o frontend.\n */\nexport class ComposicaoFamiliarResponseDto {\n  @ApiProperty({\n    description: 'ID único do membro da composição familiar',\n    example: '123e4567-e89b-12d3-a456-426614174000',\n  })\n  @Expose()\n  @IsUUID()\n  id: string;\n\n  @ApiProperty({\n    description: 'ID do cidadão responsável',\n    example: '123e4567-e89b-12d3-a456-426614174000',\n  })\n  @Expose()\n  @IsUUID()\n  cidadao_id: string;\n\n  @ApiProperty({\n    description: 'Nome completo do membro familiar',\n    example: 'João da Silva',\n  })\n  @Expose()\n  @IsString()\n  nome: string;\n\n  @ApiProperty({\n    description: 'CPF do membro familiar (apenas números)',\n    example: '12345678901',\n  })\n  @Expose()\n  @IsString()\n  @Transform(({ value }) => value?.replace(/\\D/g, '') || '')\n  cpf: string;\n\n  @ApiProperty({\n    description: 'CPF formatado para exibição',\n    example: '123.456.789-01',\n  })\n  @Expose()\n  @Transform(({ obj }) => {\n    const cpf = obj.cpf?.replace(/\\D/g, '') || '';\n    if (cpf.length === 11) {\n      return cpf.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{2})/, '$1.$2.$3-$4');\n    }\n    return cpf;\n  })\n  cpf_formatado: string;\n\n  @ApiProperty({\n    description: 'NIS do membro familiar',\n    example: '12345678901',\n    required: false,\n  })\n  @Expose()\n  @IsOptional()\n  @IsString()\n  nis?: string;\n\n  @ApiProperty({\n    description: 'Idade do membro familiar',\n    example: 25,\n  })\n  @Expose()\n  @IsNumber()\n  idade: number;\n\n  @ApiProperty({\n    description: 'Ocupação do membro familiar',\n    example: 'Estudante',\n  })\n  @Expose()\n  @IsString()\n  ocupacao: string;\n\n  @ApiProperty({\n    description: 'Nível de escolaridade',\n    enum: EscolaridadeEnum,\n    example: EscolaridadeEnum.MEDIO_COMPLETO,\n  })\n  @Expose()\n  @IsEnum(EscolaridadeEnum)\n  escolaridade: EscolaridadeEnum;\n\n  @ApiProperty({\n    description: 'Descrição da escolaridade',\n    example: 'Ensino Médio Completo',\n  })\n  @Expose()\n  @Transform(({ value }) => {\n    const escolaridadeMap = {\n      [EscolaridadeEnum.ANALFABETO]: 'Analfabeto',\n      [EscolaridadeEnum.FUNDAMENTAL_INCOMPLETO]:\n        'Ensino Fundamental Incompleto',\n      [EscolaridadeEnum.FUNDAMENTAL_COMPLETO]: 'Ensino Fundamental Completo',\n      [EscolaridadeEnum.MEDIO_INCOMPLETO]: 'Ensino Médio Incompleto',\n      [EscolaridadeEnum.MEDIO_COMPLETO]: 'Ensino Médio Completo',\n      [EscolaridadeEnum.SUPERIOR_INCOMPLETO]: 'Ensino Superior Incompleto',\n      [EscolaridadeEnum.SUPERIOR_COMPLETO]: 'Ensino Superior Completo',\n      [EscolaridadeEnum.POS_GRADUACAO]: 'Pós-graduação',\n    };\n    return escolaridadeMap[value] || value;\n  })\n  escolaridade_descricao: string;\n\n  @ApiProperty({\n    description: 'Grau de parentesco',\n    enum: ParentescoEnum,\n    example: ParentescoEnum.FILHO,\n  })\n  @Expose()\n  @IsEnum(ParentescoEnum)\n  parentesco: ParentescoEnum;\n\n  @ApiProperty({\n    description: 'Descrição do parentesco',\n    example: 'Filho(a)',\n  })\n  @Expose()\n  @Transform(({ value }) => {\n    const parentescoMap = {\n      [ParentescoEnum.CONJUGE]: 'Cônjuge',\n      [ParentescoEnum.FILHO]: 'Filho(a)',\n      [ParentescoEnum.PAI]: 'Pai',\n      [ParentescoEnum.MAE]: 'Mãe',\n      [ParentescoEnum.IRMAO]: 'Irmão/Irmã',\n      [ParentescoEnum.AVO]: 'Avô/Avó',\n      [ParentescoEnum.NETO]: 'Neto(a)',\n      [ParentescoEnum.TIO]: 'Tio(a)',\n      [ParentescoEnum.SOBRINHO]: 'Sobrinho(a)',\n      [ParentescoEnum.OUTRO]: 'Outro',\n    };\n    return parentescoMap[value] || value;\n  })\n  parentesco_descricao: string;\n\n  @ApiProperty({\n    description: 'Renda mensal do membro familiar',\n    example: 1500.0,\n    required: false,\n  })\n  @Expose()\n  @IsOptional()\n  @IsNumber()\n  @Transform(({ value }) => (value ? parseFloat(value) : null))\n  renda?: number;\n\n  @ApiProperty({\n    description: 'Renda formatada para exibição',\n    example: 'R$ 1.500,00',\n    required: false,\n  })\n  @Expose()\n  @Transform(({ obj }) => {\n    if (!obj.renda) return null;\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n    }).format(obj.renda);\n  })\n  renda_formatada?: string;\n\n  @ApiProperty({\n    description: 'Observações sobre o membro familiar',\n    example: 'Estudante universitário',\n    required: false,\n  })\n  @Expose()\n  @IsOptional()\n  @IsString()\n  observacoes?: string;\n\n  @ApiProperty({\n    description: 'Data de criação do registro',\n    example: '2024-01-15T10:30:00Z',\n  })\n  @Expose()\n  @IsDate()\n  @Type(() => Date)\n  created_at: Date;\n\n  @ApiProperty({\n    description: 'Data da última atualização',\n    example: '2024-01-15T10:30:00Z',\n  })\n  @Expose()\n  @IsDate()\n  @Type(() => Date)\n  updated_at: Date;\n\n  @ApiProperty({\n    description: 'Indica se o membro está ativo (não removido)',\n    example: true,\n  })\n  @Expose()\n  @Transform(({ obj }) => !obj.removed_at)\n  ativo: boolean;\n}\n\n/**\n * DTO de resposta paginada para composição familiar\n *\n * Estrutura padrão para retorno de listas paginadas de membros da composição familiar.\n */\nexport class ComposicaoFamiliarPaginatedResponseDto {\n  @ApiProperty({\n    description: 'Lista de membros da composição familiar',\n    type: [ComposicaoFamiliarResponseDto],\n  })\n  @Expose()\n  @Type(() => ComposicaoFamiliarResponseDto)\n  data: ComposicaoFamiliarResponseDto[];\n\n  @ApiProperty({\n    description: 'Metadados de paginação',\n    example: {\n      total: 50,\n      page: 1,\n      limit: 10,\n      totalPages: 5,\n      hasNext: true,\n      hasPrev: false,\n    },\n  })\n  @Expose()\n  meta: {\n    total: number;\n    page: number;\n    limit: number;\n    totalPages: number;\n    hasNext: boolean;\n    hasPrev: boolean;\n  };\n\n  @ApiProperty({\n    description: 'Estatísticas da composição familiar',\n    example: {\n      totalMembros: 4,\n      rendaTotal: 3500.0,\n      rendaMedia: 875.0,\n      idadeMedia: 28.5,\n      membrosComRenda: 2,\n    },\n    required: false,\n  })\n  @Expose()\n  @IsOptional()\n  estatisticas?: {\n    totalMembros: number;\n    rendaTotal: number;\n    rendaMedia: number;\n    idadeMedia: number;\n    membrosComRenda: number;\n  };\n}\n"],"version":3}