0c0d5a3d611c535ae28afc5cab2125cc
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d, _e, _f;
Object.defineProperty(exports, "__esModule", { value: true });
exports.DadosSociais = void 0;
const typeorm_1 = require("typeorm");
const class_validator_1 = require("class-validator");
const cidadao_entity_1 = require("./cidadao.entity");
const escolaridade_enum_1 = require("../enums/escolaridade.enum");
const situacao_trabalho_enum_1 = require("../enums/situacao-trabalho.enum");
let DadosSociais = class DadosSociais {
    id;
    cidadao_id;
    cidadao;
    escolaridade;
    publico_prioritario;
    renda;
    ocupacao;
    recebe_pbf;
    valor_pbf;
    recebe_bpc;
    tipo_bpc;
    valor_bpc;
    curso_profissionalizante;
    interesse_curso_profissionalizante;
    situacao_trabalho;
    area_trabalho;
    familiar_apto_trabalho;
    area_interesse_familiar;
    observacoes;
    created_at;
    updated_at;
    removed_at;
    // Getters e Setters
    get cidadaoId() {
        return this.cidadao_id;
    }
    set cidadaoId(value) {
        this.cidadao_id = value;
    }
    get createdAt() {
        return this.created_at;
    }
    get updatedAt() {
        return this.updated_at;
    }
    get removedAt() {
        return this.removed_at;
    }
    // Métodos Utilitários
    /**
     * Verifica se os dados foram criados recentemente (últimas 24 horas)
     */
    isCriadoRecentemente() {
        const agora = new Date();
        const umDiaAtras = new Date(agora.getTime() - 24 * 60 * 60 * 1000);
        return this.created_at > umDiaAtras;
    }
    /**
     * Calcula a idade do registro em dias
     */
    getIdadeRegistroEmDias() {
        const agora = new Date();
        const diffTime = Math.abs(agora.getTime() - this.created_at.getTime());
        return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    }
    /**
     * Verifica se os dados foram removidos
     */
    foiRemovido() {
        return !!this.removed_at;
    }
    /**
     * Verifica se os dados estão ativos
     */
    isAtivo() {
        return !this.removed_at;
    }
    /**
     * Verifica se é público prioritário
     */
    isPublicoPrioritario() {
        return !!this.publico_prioritario;
    }
    /**
     * Verifica se tem renda
     */
    temRenda() {
        return this.renda !== null && this.renda !== undefined && this.renda > 0;
    }
    /**
     * Obtém a renda formatada
     */
    getRendaFormatada() {
        if (!this.temRenda())
            return 'Sem renda';
        return new Intl.NumberFormat('pt-BR', {
            style: 'currency',
            currency: 'BRL'
        }).format(this.renda);
    }
    /**
     * Verifica se recebe Programa Bolsa Família
     */
    recebePBF() {
        return this.recebe_pbf;
    }
    /**
     * Obtém o valor do PBF formatado
     */
    getValorPBFFormatado() {
        if (!this.recebe_pbf || !this.valor_pbf)
            return 'Não recebe';
        return new Intl.NumberFormat('pt-BR', {
            style: 'currency',
            currency: 'BRL'
        }).format(this.valor_pbf);
    }
    /**
     * Verifica se recebe Benefício de Prestação Continuada
     */
    recebeBPC() {
        return this.recebe_bpc;
    }
    /**
     * Obtém o valor do BPC formatado
     */
    getValorBPCFormatado() {
        if (!this.recebe_bpc || !this.valor_bpc)
            return 'Não recebe';
        return new Intl.NumberFormat('pt-BR', {
            style: 'currency',
            currency: 'BRL'
        }).format(this.valor_bpc);
    }
    /**
     * Verifica se recebe algum benefício social
     */
    recebeBeneficioSocial() {
        return this.recebePBF() || this.recebeBPC();
    }
    /**
     * Calcula o total de benefícios recebidos
     */
    getTotalBeneficios() {
        let total = 0;
        if (this.recebe_pbf && this.valor_pbf)
            total += this.valor_pbf;
        if (this.recebe_bpc && this.valor_bpc)
            total += this.valor_bpc;
        return total;
    }
    /**
     * Obtém o total de benefícios formatado
     */
    getTotalBeneficiosFormatado() {
        const total = this.getTotalBeneficios();
        if (total === 0)
            return 'Nenhum benefício';
        return new Intl.NumberFormat('pt-BR', {
            style: 'currency',
            currency: 'BRL'
        }).format(total);
    }
    /**
     * Verifica se tem interesse em curso profissionalizante
     */
    temInteresseCursoProfissionalizante() {
        return !!this.interesse_curso_profissionalizante;
    }
    /**
     * Verifica se já fez curso profissionalizante
     */
    jafezCursoProfissionalizante() {
        return !!(this.curso_profissionalizante && this.curso_profissionalizante.trim());
    }
    /**
     * Verifica se está empregado
     */
    isEmpregado() {
        return this.situacao_trabalho === situacao_trabalho_enum_1.SituacaoTrabalhoEnum.EMPREGADO_FORMAL;
    }
    /**
     * Verifica se está desempregado
     */
    isDesempregado() {
        return this.situacao_trabalho === situacao_trabalho_enum_1.SituacaoTrabalhoEnum.DESEMPREGADO;
    }
    /**
     * Verifica se é autônomo
     */
    isAutonomo() {
        return this.situacao_trabalho === situacao_trabalho_enum_1.SituacaoTrabalhoEnum.AUTONOMO;
    }
    /**
     * Verifica se é aposentado
     */
    isAposentado() {
        return this.situacao_trabalho === situacao_trabalho_enum_1.SituacaoTrabalhoEnum.APOSENTADO;
    }
    /**
     * Verifica se é pensionista
     */
    isPensionista() {
        return this.situacao_trabalho === situacao_trabalho_enum_1.SituacaoTrabalhoEnum.PENSIONISTA;
    }
    /**
     * Verifica se tem familiar apto ao trabalho
     */
    temFamiliarAptoTrabalho() {
        return !!this.familiar_apto_trabalho;
    }
    /**
     * Obtém a descrição da escolaridade
     */
    getDescricaoEscolaridade() {
        const descricoes = {
            [escolaridade_enum_1.EscolaridadeEnum.ANALFABETO]: 'Analfabeto',
            [escolaridade_enum_1.EscolaridadeEnum.FUNDAMENTAL_INCOMPLETO]: 'Fundamental Incompleto',
            [escolaridade_enum_1.EscolaridadeEnum.FUNDAMENTAL_COMPLETO]: 'Fundamental Completo',
            [escolaridade_enum_1.EscolaridadeEnum.MEDIO_INCOMPLETO]: 'Médio Incompleto',
            [escolaridade_enum_1.EscolaridadeEnum.MEDIO_COMPLETO]: 'Médio Completo',
            [escolaridade_enum_1.EscolaridadeEnum.SUPERIOR_INCOMPLETO]: 'Superior Incompleto',
            [escolaridade_enum_1.EscolaridadeEnum.SUPERIOR_COMPLETO]: 'Superior Completo',
            [escolaridade_enum_1.EscolaridadeEnum.POS_GRADUACAO]: 'Pós-graduação',
        };
        return descricoes[this.escolaridade] || this.escolaridade;
    }
    /**
     * Obtém a descrição da situação de trabalho
     */
    getDescricaoSituacaoTrabalho() {
        if (!this.situacao_trabalho)
            return 'Não informado';
        const descricoes = {
            [situacao_trabalho_enum_1.SituacaoTrabalhoEnum.EMPREGADO_FORMAL]: 'Empregado',
            [situacao_trabalho_enum_1.SituacaoTrabalhoEnum.DESEMPREGADO]: 'Desempregado',
            [situacao_trabalho_enum_1.SituacaoTrabalhoEnum.AUTONOMO]: 'Autônomo',
            [situacao_trabalho_enum_1.SituacaoTrabalhoEnum.APOSENTADO]: 'Aposentado',
            [situacao_trabalho_enum_1.SituacaoTrabalhoEnum.PENSIONISTA]: 'Pensionista',
            [situacao_trabalho_enum_1.SituacaoTrabalhoEnum.ESTUDANTE]: 'Estudante',
            [situacao_trabalho_enum_1.SituacaoTrabalhoEnum.DO_LAR]: 'Do lar',
        };
        return descricoes[this.situacao_trabalho] || this.situacao_trabalho;
    }
    /**
     * Verifica se pertence a um cidadão específico
     */
    pertenceAoCidadao(cidadaoId) {
        return this.cidadao_id === cidadaoId;
    }
    /**
     * Obtém um resumo dos dados sociais
     */
    getSummary() {
        const escolaridade = this.getDescricaoEscolaridade();
        const situacao = this.getDescricaoSituacaoTrabalho();
        const renda = this.getRendaFormatada();
        const beneficios = this.recebeBeneficioSocial() ? ' - Recebe benefícios' : '';
        return `${escolaridade} - ${situacao} - ${renda}${beneficios}`;
    }
    /**
     * Gera uma chave única para os dados
     */
    getUniqueKey() {
        return `dados_sociais_${this.cidadao_id}`;
    }
    /**
     * Verifica se os dados são consistentes
     */
    isConsistente() {
        // Verifica se tem cidadão
        if (!this.cidadao_id)
            return false;
        // Verifica se tem escolaridade
        if (!this.escolaridade)
            return false;
        // Se recebe PBF, deve ter valor
        if (this.recebe_pbf && (!this.valor_pbf || this.valor_pbf <= 0)) {
            return false;
        }
        // Se recebe BPC, deve ter valor e tipo
        if (this.recebe_bpc && (!this.valor_bpc || this.valor_bpc <= 0 || !this.tipo_bpc)) {
            return false;
        }
        // Se tem renda, deve ser positiva
        if (this.renda !== null && this.renda !== undefined && this.renda < 0) {
            return false;
        }
        return true;
    }
    /**
     * Verifica se pode ser removido
     */
    podeSerRemovido() {
        // Não pode remover se já foi removido
        if (this.foiRemovido())
            return false;
        // Outras validações específicas podem ser adicionadas
        return true;
    }
    /**
     * Clona os dados sociais (sem ID)
     */
    clone() {
        return {
            cidadao_id: this.cidadao_id,
            escolaridade: this.escolaridade,
            publico_prioritario: this.publico_prioritario,
            renda: this.renda,
            ocupacao: this.ocupacao,
            recebe_pbf: this.recebe_pbf,
            valor_pbf: this.valor_pbf,
            recebe_bpc: this.recebe_bpc,
            tipo_bpc: this.tipo_bpc,
            valor_bpc: this.valor_bpc,
            curso_profissionalizante: this.curso_profissionalizante,
            interesse_curso_profissionalizante: this.interesse_curso_profissionalizante,
            situacao_trabalho: this.situacao_trabalho,
            area_trabalho: this.area_trabalho,
            familiar_apto_trabalho: this.familiar_apto_trabalho,
            area_interesse_familiar: this.area_interesse_familiar,
            observacoes: this.observacoes,
        };
    }
    /**
     * Verifica se é elegível para programas de capacitação
     */
    isElegivelCapacitacao() {
        return this.isDesempregado() || this.temInteresseCursoProfissionalizante();
    }
    /**
     * Verifica se tem potencial de geração de renda
     */
    temPotencialGeracaoRenda() {
        return this.temFamiliarAptoTrabalho() || this.temInteresseCursoProfissionalizante() || this.jafezCursoProfissionalizante();
    }
    /**
     * Calcula a renda total (própria + benefícios)
     */
    getRendaTotal() {
        let total = 0;
        if (this.renda)
            total += this.renda;
        total += this.getTotalBeneficios();
        return total;
    }
    /**
     * Obtém a renda total formatada
     */
    getRendaTotalFormatada() {
        const total = this.getRendaTotal();
        if (total === 0)
            return 'Sem renda';
        return new Intl.NumberFormat('pt-BR', {
            style: 'currency',
            currency: 'BRL'
        }).format(total);
    }
    /**
     * Formata a data de criação
     */
    getCriacaoFormatada() {
        return this.created_at.toLocaleDateString('pt-BR');
    }
    /**
     * Formata a data de atualização
     */
    getAtualizacaoFormatada() {
        return this.updated_at.toLocaleDateString('pt-BR');
    }
    /**
     * Remove informações sensíveis para logs
     */
    toSafeLog() {
        return {
            id: this.id,
            escolaridade: this.escolaridade,
            publico_prioritario: this.publico_prioritario,
            situacao_trabalho: this.situacao_trabalho,
            recebe_pbf: this.recebe_pbf,
            recebe_bpc: this.recebe_bpc,
            interesse_curso_profissionalizante: this.interesse_curso_profissionalizante,
            created_at: this.created_at,
            updated_at: this.updated_at,
        };
    }
    /**
     * Obtém sugestões de melhoria para os dados sociais
     */
    getSugestoesMelhoria() {
        const sugestoes = [];
        if (!this.ocupacao && this.isEmpregado()) {
            sugestoes.push('Definir ocupação para pessoa empregada');
        }
        if (!this.area_trabalho && (this.isEmpregado() || this.isAutonomo())) {
            sugestoes.push('Especificar área de trabalho');
        }
        if (this.isDesempregado() && !this.temInteresseCursoProfissionalizante()) {
            sugestoes.push('Verificar interesse em capacitação profissional');
        }
        if (this.recebe_pbf && !this.valor_pbf) {
            sugestoes.push('Informar valor do Programa Bolsa Família');
        }
        if (this.recebe_bpc && (!this.valor_bpc || !this.tipo_bpc)) {
            sugestoes.push('Completar informações do BPC (valor e tipo)');
        }
        if (!this.isConsistente()) {
            sugestoes.push('Verificar consistência dos dados sociais');
        }
        return sugestoes;
    }
    /**
     * Verifica se precisa de atualização (dados antigos)
     */
    precisaAtualizacao() {
        const seiseMesesAtras = new Date();
        seiseMesesAtras.setMonth(seiseMesesAtras.getMonth() - 6);
        return this.updated_at < seiseMesesAtras;
    }
};
exports.DadosSociais = DadosSociais;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),
    __metadata("design:type", String)
], DadosSociais.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    (0, class_validator_1.IsNotEmpty)({ message: 'ID do cidadão é obrigatório' }),
    __metadata("design:type", String)
], DadosSociais.prototype, "cidadao_id", void 0);
__decorate([
    (0, typeorm_1.OneToOne)(() => cidadao_entity_1.Cidadao, { onDelete: 'CASCADE' }),
    (0, typeorm_1.JoinColumn)({ name: 'cidadao_id' }),
    __metadata("design:type", typeof (_a = typeof cidadao_entity_1.Cidadao !== "undefined" && cidadao_entity_1.Cidadao) === "function" ? _a : Object)
], DadosSociais.prototype, "cidadao", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: escolaridade_enum_1.EscolaridadeEnum,
        enumName: 'escolaridade_enum',
        nullable: false,
    }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Escolaridade é obrigatória' }),
    (0, class_validator_1.IsEnum)(escolaridade_enum_1.EscolaridadeEnum, { message: 'Escolaridade inválida' }),
    __metadata("design:type", typeof (_b = typeof escolaridade_enum_1.EscolaridadeEnum !== "undefined" && escolaridade_enum_1.EscolaridadeEnum) === "function" ? _b : Object)
], DadosSociais.prototype, "escolaridade", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo publico_prioritario deve ser um true ou false' }),
    __metadata("design:type", Boolean)
], DadosSociais.prototype, "publico_prioritario", void 0);
__decorate([
    (0, typeorm_1.Column)('decimal', { precision: 10, scale: 2, nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({}, { message: 'Renda deve ser um número' }),
    (0, class_validator_1.Min)(0, { message: 'Renda não pode ser negativa' }),
    __metadata("design:type", Number)
], DadosSociais.prototype, "renda", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], DadosSociais.prototype, "ocupacao", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: false }),
    (0, class_validator_1.IsBoolean)({ message: 'O campo recebe_pbf deve ser um valor booleano' }),
    __metadata("design:type", Boolean)
], DadosSociais.prototype, "recebe_pbf", void 0);
__decorate([
    (0, typeorm_1.Column)('decimal', { precision: 10, scale: 2, nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({}, { message: 'Valor PBF deve ser um número' }),
    (0, class_validator_1.Min)(0, { message: 'Valor do PBF não pode ser negativa' }),
    __metadata("design:type", Number)
], DadosSociais.prototype, "valor_pbf", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: false }),
    (0, class_validator_1.IsBoolean)({ message: 'O campo recebe_bpc deve ser um valor booleano' }),
    __metadata("design:type", Boolean)
], DadosSociais.prototype, "recebe_bpc", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'O campo tipo_bpc deve ser um texto' }),
    __metadata("design:type", String)
], DadosSociais.prototype, "tipo_bpc", void 0);
__decorate([
    (0, typeorm_1.Column)('decimal', { precision: 10, scale: 2, nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({}, { message: 'Valor do BPC deve Rendaser um número' }),
    (0, class_validator_1.Min)(0, { message: 'Valor do BPC não pode ser negativa' }),
    __metadata("design:type", Number)
], DadosSociais.prototype, "valor_bpc", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'O campo curso_profissionalizante deve ser um texto' }),
    __metadata("design:type", String)
], DadosSociais.prototype, "curso_profissionalizante", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo interesse_curso_profissionalizante deve ser um true ou false' }),
    __metadata("design:type", Boolean)
], DadosSociais.prototype, "interesse_curso_profissionalizante", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: situacao_trabalho_enum_1.SituacaoTrabalhoEnum,
        enumName: 'situacao_trabalho_enum',
        nullable: true,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsEnum)(situacao_trabalho_enum_1.SituacaoTrabalhoEnum, { message: 'Situação de trabalho inválida' }),
    __metadata("design:type", typeof (_c = typeof situacao_trabalho_enum_1.SituacaoTrabalhoEnum !== "undefined" && situacao_trabalho_enum_1.SituacaoTrabalhoEnum) === "function" ? _c : Object)
], DadosSociais.prototype, "situacao_trabalho", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'O campo area_trabalho deve ser um texto' }),
    __metadata("design:type", String)
], DadosSociais.prototype, "area_trabalho", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo familiar_apto_trabalho deve ser um true ou false' }),
    __metadata("design:type", Boolean)
], DadosSociais.prototype, "familiar_apto_trabalho", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'O campo area_interesse_familiar deve ser um texto' }),
    __metadata("design:type", String)
], DadosSociais.prototype, "area_interesse_familiar", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], DadosSociais.prototype, "observacoes", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", typeof (_d = typeof Date !== "undefined" && Date) === "function" ? _d : Object)
], DadosSociais.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", typeof (_e = typeof Date !== "undefined" && Date) === "function" ? _e : Object)
], DadosSociais.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.DeleteDateColumn)(),
    __metadata("design:type", typeof (_f = typeof Date !== "undefined" && Date) === "function" ? _f : Object)
], DadosSociais.prototype, "removed_at", void 0);
exports.DadosSociais = DadosSociais = __decorate([
    (0, typeorm_1.Entity)('dados_sociais'),
    (0, typeorm_1.Index)(['cidadao_id'], { unique: true })
], DadosSociais);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXGVudGl0aWVzXFxkYWRvcy1zb2NpYWlzLmVudGl0eS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEscUNBVWlCO0FBQ2pCLHFEQUFpSDtBQUNqSCxxREFBMkM7QUFDM0Msa0VBQThEO0FBQzlELDRFQUF1RTtBQUloRSxJQUFNLFlBQVksR0FBbEIsTUFBTSxZQUFZO0lBRXZCLEVBQUUsQ0FBUztJQUlYLFVBQVUsQ0FBUztJQUluQixPQUFPLENBQVU7SUFVakIsWUFBWSxDQUFtQjtJQUsvQixtQkFBbUIsQ0FBVTtJQU03QixLQUFLLENBQVM7SUFJZCxRQUFRLENBQVM7SUFJakIsVUFBVSxDQUFVO0lBTXBCLFNBQVMsQ0FBUztJQUlsQixVQUFVLENBQVU7SUFLcEIsUUFBUSxDQUFTO0lBTWpCLFNBQVMsQ0FBUztJQUtsQix3QkFBd0IsQ0FBUztJQUtqQyxrQ0FBa0MsQ0FBVTtJQVU1QyxpQkFBaUIsQ0FBdUI7SUFLeEMsYUFBYSxDQUFTO0lBS3RCLHNCQUFzQixDQUFVO0lBS2hDLHVCQUF1QixDQUFTO0lBSWhDLFdBQVcsQ0FBUztJQUdwQixVQUFVLENBQU87SUFHakIsVUFBVSxDQUFPO0lBR2pCLFVBQVUsQ0FBTztJQUVqQixvQkFBb0I7SUFDcEIsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxJQUFJLFNBQVMsQ0FBQyxLQUFhO1FBQ3pCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDWCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDekIsQ0FBQztJQUVELElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDO0lBRUQsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFD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QUUsQ0FBQztJQUMxQixJQUFBLDRCQUFVLEdBQUU7SUFDWixJQUFBLDJCQUFTLEVBQUMsRUFBRSxPQUFPLEVBQUUsMERBQTBELEVBQUUsQ0FBQzs7NERBQ25EO0FBS2hDO0lBSEMsSUFBQSxnQkFBTSxFQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDO0lBQzFCLElBQUEsNEJBQVUsR0FBRTtJQUNaLElBQUEsMEJBQVEsRUFBQyxFQUFFLE9BQU8sRUFBRSxtREFBbUQsRUFBRSxDQUFDOzs2REFDM0M7QUFJaEM7SUFGQyxJQUFBLGdCQUFNLEVBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDMUIsSUFBQSw0QkFBVSxHQUFFOztpREFDTztBQUdwQjtJQURDLElBQUEsMEJBQWdCLEdBQUU7a0RBQ1AsSUFBSSxvQkFBSixJQUFJO2dEQUFDO0FBR2pCO0lBREMsSUFBQSwwQkFBZ0IsR0FBRTtrREFDUCxJQUFJLG9CQUFKLElBQUk7Z0RBQUM7QUFHakI7SUFEQyxJQUFBLDBCQUFnQixHQUFFO2tEQUNQLElBQUksb0JBQUosSUFBSTtnREFBQzt1QkE1R04sWUFBWTtJQUZ4QixJQUFBLGdCQUFNLEVBQUMsZUFBZSxDQUFDO0lBQ3ZCLElBQUEsZUFBSyxFQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUM7R0FDM0IsWUFBWSxDQStoQnhCIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZXVkcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZXRvc1xccGdiZW5cXHBnYmVuLXNlcnZlclxcc3JjXFxlbnRpdGllc1xcZGFkb3Mtc29jaWFpcy5lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRW50aXR5LFxuICBQcmltYXJ5R2VuZXJhdGVkQ29sdW1uLFxuICBDb2x1bW4sXG4gIENyZWF0ZURhdGVDb2x1bW4sXG4gIFVwZGF0ZURhdGVDb2x1bW4sXG4gIERlbGV0ZURhdGVDb2x1bW4sXG4gIE9uZVRvT25lLFxuICBKb2luQ29sdW1uLFxuICBJbmRleCxcbn0gZnJvbSAndHlwZW9ybSc7XG5pbXBvcnQgeyBJc05vdEVtcHR5LCBJc09wdGlvbmFsLCBJc051bWJlciwgTWluLCBJc0VudW0sIFZhbGlkYXRlSWYsIElzU3RyaW5nLCBJc0Jvb2xlYW4gfSBmcm9tICdjbGFzcy12YWxpZGF0b3InO1xuaW1wb3J0IHsgQ2lkYWRhbyB9IGZyb20gJy4vY2lkYWRhby5lbnRpdHknO1xuaW1wb3J0IHsgRXNjb2xhcmlkYWRlRW51bSB9IGZyb20gJy4uL2VudW1zL2VzY29sYXJpZGFkZS5lbnVtJztcbmltcG9ydCB7IFNpdHVhY2FvVHJhYmFsaG9FbnVtIH0gZnJvbSAnLi4vZW51bXMvc2l0dWFjYW8tdHJhYmFsaG8uZW51bSc7XG5cbkBFbnRpdHkoJ2RhZG9zX3NvY2lhaXMnKVxuQEluZGV4KFsnY2lkYWRhb19pZCddLCB7IHVuaXF1ZTogdHJ1ZSB9KVxuZXhwb3J0IGNsYXNzIERhZG9zU29jaWFpcyB7XG4gIEBQcmltYXJ5R2VuZXJhdGVkQ29sdW1uKCd1dWlkJylcbiAgaWQ6IHN0cmluZztcblxuICBAQ29sdW1uKClcbiAgQElzTm90RW1wdHkoeyBtZXNzYWdlOiAnSUQgZG8gY2lkYWTDo28gw6kgb2JyaWdhdMOzcmlvJyB9KVxuICBjaWRhZGFvX2lkOiBzdHJpbmc7XG5cbiAgQE9uZVRvT25lKCgpID0+IENpZGFkYW8sIHsgb25EZWxldGU6ICdDQVNDQURFJyB9KVxuICBASm9pbkNvbHVtbih7IG5hbWU6ICdjaWRhZGFvX2lkJyB9KVxuICBjaWRhZGFvOiBDaWRhZGFvO1xuXG4gIEBDb2x1bW4oe1xuICAgIHR5cGU6ICdlbnVtJyxcbiAgICBlbnVtOiBFc2NvbGFyaWRhZGVFbnVtLFxuICAgIGVudW1OYW1lOiAnZXNjb2xhcmlkYWRlX2VudW0nLFxuICAgIG51bGxhYmxlOiBmYWxzZSxcbiAgfSlcbiAgQElzTm90RW1wdHkoeyBtZXNzYWdlOiAnRXNjb2xhcmlkYWRlIMOpIG9icmlnYXTDs3JpYScgfSlcbiAgQElzRW51bShFc2NvbGFyaWRhZGVFbnVtLCB7IG1lc3NhZ2U6ICdFc2NvbGFyaWRhZGUgaW52w6FsaWRhJyB9KVxuICBlc2NvbGFyaWRhZGU6IEVzY29sYXJpZGFkZUVudW07XG5cbiAgQENvbHVtbih7IG51bGxhYmxlOiB0cnVlIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzQm9vbGVhbih7IG1lc3NhZ2U6ICdPIGNhbXBvIHB1YmxpY29fcHJpb3JpdGFyaW8gZGV2ZSBzZXIgdW0gdHJ1ZSBvdSBmYWxzZScgfSlcbiAgcHVibGljb19wcmlvcml0YXJpbzogYm9vbGVhbjtcblxuICBAQ29sdW1uKCdkZWNpbWFsJywgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogMiwgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNOdW1iZXIoe30sIHsgbWVzc2FnZTogJ1JlbmRhIGRldmUgc2VyIHVtIG7Dum1lcm8nIH0pXG4gIEBNaW4oMCwgeyBtZXNzYWdlOiAnUmVuZGEgbsOjbyBwb2RlIHNlciBuZWdhdGl2YScgfSlcbiAgcmVuZGE6IG51bWJlcjtcblxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBvY3VwYWNhbzogc3RyaW5nO1xuXG4gIEBDb2x1bW4oeyBkZWZhdWx0OiBmYWxzZSB9KVxuICBASXNCb29sZWFuKHsgbWVzc2FnZTogJ08gY2FtcG8gcmVjZWJlX3BiZiBkZXZlIHNlciB1bSB2YWxvciBib29sZWFubycgfSlcbiAgcmVjZWJlX3BiZjogYm9vbGVhbjtcblxuICBAQ29sdW1uKCdkZWNpbWFsJywgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogMiwgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNOdW1iZXIoe30sIHsgbWVzc2FnZTogJ1ZhbG9yIFBCRiBkZXZlIHNlciB1bSBuw7ptZXJvJyB9KVxuICBATWluKDAsIHsgbWVzc2FnZTogJ1ZhbG9yIGRvIFBCRiBuw6NvIHBvZGUgc2VyIG5lZ2F0aXZhJyB9KVxuICB2YWxvcl9wYmY6IG51bWJlcjtcblxuICBAQ29sdW1uKHsgZGVmYXVsdDogZmFsc2UgfSlcbiAgQElzQm9vbGVhbih7IG1lc3NhZ2U6ICdPIGNhbXBvIHJlY2ViZV9icGMgZGV2ZSBzZXIgdW0gdmFsb3IgYm9vbGVhbm8nIH0pXG4gIHJlY2ViZV9icGM6IGJvb2xlYW47XG5cbiAgQENvbHVtbih7IG51bGxhYmxlOiB0cnVlIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzU3RyaW5nKHsgbWVzc2FnZTogJ08gY2FtcG8gdGlwb19icGMgZGV2ZSBzZXIgdW0gdGV4dG8nIH0pXG4gIHRpcG9fYnBjOiBzdHJpbmc7XG5cbiAgQENvbHVtbignZGVjaW1hbCcsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIsIG51bGxhYmxlOiB0cnVlIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzTnVtYmVyKHt9LCB7IG1lc3NhZ2U6ICdWYWxvciBkbyBCUEMgZGV2ZSBSZW5kYXNlciB1bSBuw7ptZXJvJyB9KVxuICBATWluKDAsIHsgbWVzc2FnZTogJ1ZhbG9yIGRvIEJQQyBuw6NvIHBvZGUgc2VyIG5lZ2F0aXZhJyB9KVxuICB2YWxvcl9icGM6IG51bWJlcjtcblxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnTyBjYW1wbyBjdXJzb19wcm9maXNzaW9uYWxpemFudGUgZGV2ZSBzZXIgdW0gdGV4dG8nIH0pXG4gIGN1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZTogc3RyaW5nO1xuXG4gIEBDb2x1bW4oeyBudWxsYWJsZTogdHJ1ZSB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0Jvb2xlYW4oeyBtZXNzYWdlOiAnTyBjYW1wbyBpbnRlcmVzc2VfY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlIGRldmUgc2VyIHVtIHRydWUgb3UgZmFsc2UnIH0pXG4gIGludGVyZXNzZV9jdXJzb19wcm9maXNzaW9uYWxpemFudGU6IGJvb2xlYW47XG5cbiAgQENvbHVtbih7XG4gICAgdHlwZTogJ2VudW0nLFxuICAgIGVudW06IFNpdHVhY2FvVHJhYmFsaG9FbnVtLFxuICAgIGVudW1OYW1lOiAnc2l0dWFjYW9fdHJhYmFsaG9fZW51bScsXG4gICAgbnVsbGFibGU6IHRydWUsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzRW51bShTaXR1YWNhb1RyYWJhbGhvRW51bSwgeyBtZXNzYWdlOiAnU2l0dWHDp8OjbyBkZSB0cmFiYWxobyBpbnbDoWxpZGEnIH0pXG4gIHNpdHVhY2FvX3RyYWJhbGhvOiBTaXR1YWNhb1RyYWJhbGhvRW51bTtcblxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnTyBjYW1wbyBhcmVhX3RyYWJhbGhvIGRldmUgc2VyIHVtIHRleHRvJyB9KVxuICBhcmVhX3RyYWJhbGhvOiBzdHJpbmc7XG5cbiAgQENvbHVtbih7IG51bGxhYmxlOiB0cnVlIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzQm9vbGVhbih7IG1lc3NhZ2U6ICdPIGNhbXBvIGZhbWlsaWFyX2FwdG9fdHJhYmFsaG8gZGV2ZSBzZXIgdW0gdHJ1ZSBvdSBmYWxzZScgfSlcbiAgZmFtaWxpYXJfYXB0b190cmFiYWxobzogYm9vbGVhbjtcblxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnTyBjYW1wbyBhcmVhX2ludGVyZXNzZV9mYW1pbGlhciBkZXZlIHNlciB1bSB0ZXh0bycgfSlcbiAgYXJlYV9pbnRlcmVzc2VfZmFtaWxpYXI6IHN0cmluZztcblxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBvYnNlcnZhY29lczogc3RyaW5nO1xuXG4gIEBDcmVhdGVEYXRlQ29sdW1uKClcbiAgY3JlYXRlZF9hdDogRGF0ZTtcblxuICBAVXBkYXRlRGF0ZUNvbHVtbigpXG4gIHVwZGF0ZWRfYXQ6IERhdGU7XG5cbiAgQERlbGV0ZURhdGVDb2x1bW4oKVxuICByZW1vdmVkX2F0OiBEYXRlO1xuXG4gIC8vIEdldHRlcnMgZSBTZXR0ZXJzXG4gIGdldCBjaWRhZGFvSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jaWRhZGFvX2lkO1xuICB9XG5cbiAgc2V0IGNpZGFkYW9JZCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5jaWRhZGFvX2lkID0gdmFsdWU7XG4gIH1cblxuICBnZXQgY3JlYXRlZEF0KCk6IERhdGUge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZWRfYXQ7XG4gIH1cblxuICBnZXQgdXBkYXRlZEF0KCk6IERhdGUge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZWRfYXQ7XG4gIH1cblxuICBnZXQgcmVtb3ZlZEF0KCk6IERhdGUge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZWRfYXQ7XG4gIH1cblxuICAvLyBNw6l0b2RvcyBVdGlsaXTDoXJpb3NcblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugb3MgZGFkb3MgZm9yYW0gY3JpYWRvcyByZWNlbnRlbWVudGUgKMO6bHRpbWFzIDI0IGhvcmFzKVxuICAgKi9cbiAgaXNDcmlhZG9SZWNlbnRlbWVudGUoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYWdvcmEgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHVtRGlhQXRyYXMgPSBuZXcgRGF0ZShhZ29yYS5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVkX2F0ID4gdW1EaWFBdHJhcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhIGEgaWRhZGUgZG8gcmVnaXN0cm8gZW0gZGlhc1xuICAgKi9cbiAgZ2V0SWRhZGVSZWdpc3Ryb0VtRGlhcygpOiBudW1iZXIge1xuICAgIGNvbnN0IGFnb3JhID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkaWZmVGltZSA9IE1hdGguYWJzKGFnb3JhLmdldFRpbWUoKSAtIHRoaXMuY3JlYXRlZF9hdC5nZXRUaW1lKCkpO1xuICAgIHJldHVybiBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIG9zIGRhZG9zIGZvcmFtIHJlbW92aWRvc1xuICAgKi9cbiAgZm9pUmVtb3ZpZG8oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5yZW1vdmVkX2F0O1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIG9zIGRhZG9zIGVzdMOjbyBhdGl2b3NcbiAgICovXG4gIGlzQXRpdm8oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICF0aGlzLnJlbW92ZWRfYXQ7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgcMO6YmxpY28gcHJpb3JpdMOhcmlvXG4gICAqL1xuICBpc1B1YmxpY29Qcmlvcml0YXJpbygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnB1YmxpY29fcHJpb3JpdGFyaW87XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgdGVtIHJlbmRhXG4gICAqL1xuICB0ZW1SZW5kYSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kYSAhPT0gbnVsbCAmJiB0aGlzLnJlbmRhICE9PSB1bmRlZmluZWQgJiYgdGhpcy5yZW5kYSA+IDA7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIGEgcmVuZGEgZm9ybWF0YWRhXG4gICAqL1xuICBnZXRSZW5kYUZvcm1hdGFkYSgpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy50ZW1SZW5kYSgpKSByZXR1cm4gJ1NlbSByZW5kYSc7XG4gICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgncHQtQlInLCB7XG4gICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgIGN1cnJlbmN5OiAnQlJMJ1xuICAgIH0pLmZvcm1hdCh0aGlzLnJlbmRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSByZWNlYmUgUHJvZ3JhbWEgQm9sc2EgRmFtw61saWFcbiAgICovXG4gIHJlY2ViZVBCRigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5yZWNlYmVfcGJmO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBvIHZhbG9yIGRvIFBCRiBmb3JtYXRhZG9cbiAgICovXG4gIGdldFZhbG9yUEJGRm9ybWF0YWRvKCk6IHN0cmluZyB7XG4gICAgaWYgKCF0aGlzLnJlY2ViZV9wYmYgfHwgIXRoaXMudmFsb3JfcGJmKSByZXR1cm4gJ07Do28gcmVjZWJlJztcbiAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdwdC1CUicsIHtcbiAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgICAgY3VycmVuY3k6ICdCUkwnXG4gICAgfSkuZm9ybWF0KHRoaXMudmFsb3JfcGJmKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSByZWNlYmUgQmVuZWbDrWNpbyBkZSBQcmVzdGHDp8OjbyBDb250aW51YWRhXG4gICAqL1xuICByZWNlYmVCUEMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucmVjZWJlX2JwYztcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gbyB2YWxvciBkbyBCUEMgZm9ybWF0YWRvXG4gICAqL1xuICBnZXRWYWxvckJQQ0Zvcm1hdGFkbygpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5yZWNlYmVfYnBjIHx8ICF0aGlzLnZhbG9yX2JwYykgcmV0dXJuICdOw6NvIHJlY2ViZSc7XG4gICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgncHQtQlInLCB7XG4gICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgIGN1cnJlbmN5OiAnQlJMJ1xuICAgIH0pLmZvcm1hdCh0aGlzLnZhbG9yX2JwYyk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgcmVjZWJlIGFsZ3VtIGJlbmVmw61jaW8gc29jaWFsXG4gICAqL1xuICByZWNlYmVCZW5lZmljaW9Tb2NpYWwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucmVjZWJlUEJGKCkgfHwgdGhpcy5yZWNlYmVCUEMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhIG8gdG90YWwgZGUgYmVuZWbDrWNpb3MgcmVjZWJpZG9zXG4gICAqL1xuICBnZXRUb3RhbEJlbmVmaWNpb3MoKTogbnVtYmVyIHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGlmICh0aGlzLnJlY2ViZV9wYmYgJiYgdGhpcy52YWxvcl9wYmYpIHRvdGFsICs9IHRoaXMudmFsb3JfcGJmO1xuICAgIGlmICh0aGlzLnJlY2ViZV9icGMgJiYgdGhpcy52YWxvcl9icGMpIHRvdGFsICs9IHRoaXMudmFsb3JfYnBjO1xuICAgIHJldHVybiB0b3RhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gbyB0b3RhbCBkZSBiZW5lZsOtY2lvcyBmb3JtYXRhZG9cbiAgICovXG4gIGdldFRvdGFsQmVuZWZpY2lvc0Zvcm1hdGFkbygpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRvdGFsID0gdGhpcy5nZXRUb3RhbEJlbmVmaWNpb3MoKTtcbiAgICBpZiAodG90YWwgPT09IDApIHJldHVybiAnTmVuaHVtIGJlbmVmw61jaW8nO1xuICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ3B0LUJSJywge1xuICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgICBjdXJyZW5jeTogJ0JSTCdcbiAgICB9KS5mb3JtYXQodG90YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIHRlbSBpbnRlcmVzc2UgZW0gY3Vyc28gcHJvZmlzc2lvbmFsaXphbnRlXG4gICAqL1xuICB0ZW1JbnRlcmVzc2VDdXJzb1Byb2Zpc3Npb25hbGl6YW50ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLmludGVyZXNzZV9jdXJzb19wcm9maXNzaW9uYWxpemFudGU7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgasOhIGZleiBjdXJzbyBwcm9maXNzaW9uYWxpemFudGVcbiAgICovXG4gIGphZmV6Q3Vyc29Qcm9maXNzaW9uYWxpemFudGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhKHRoaXMuY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlICYmIHRoaXMuY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlLnRyaW0oKSk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgZXN0w6EgZW1wcmVnYWRvXG4gICAqL1xuICBpc0VtcHJlZ2FkbygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zaXR1YWNhb190cmFiYWxobyA9PT0gU2l0dWFjYW9UcmFiYWxob0VudW0uRU1QUkVHQURPX0ZPUk1BTDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSBlc3TDoSBkZXNlbXByZWdhZG9cbiAgICovXG4gIGlzRGVzZW1wcmVnYWRvKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNpdHVhY2FvX3RyYWJhbGhvID09PSBTaXR1YWNhb1RyYWJhbGhvRW51bS5ERVNFTVBSRUdBRE87XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgYXV0w7Rub21vXG4gICAqL1xuICBpc0F1dG9ub21vKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNpdHVhY2FvX3RyYWJhbGhvID09PSBTaXR1YWNhb1RyYWJhbGhvRW51bS5BVVRPTk9NTztcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSDDqSBhcG9zZW50YWRvXG4gICAqL1xuICBpc0Fwb3NlbnRhZG8oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc2l0dWFjYW9fdHJhYmFsaG8gPT09IFNpdHVhY2FvVHJhYmFsaG9FbnVtLkFQT1NFTlRBRE87XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgcGVuc2lvbmlzdGFcbiAgICovXG4gIGlzUGVuc2lvbmlzdGEoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc2l0dWFjYW9fdHJhYmFsaG8gPT09IFNpdHVhY2FvVHJhYmFsaG9FbnVtLlBFTlNJT05JU1RBO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIHRlbSBmYW1pbGlhciBhcHRvIGFvIHRyYWJhbGhvXG4gICAqL1xuICB0ZW1GYW1pbGlhckFwdG9UcmFiYWxobygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLmZhbWlsaWFyX2FwdG9fdHJhYmFsaG87XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIGEgZGVzY3Jpw6fDo28gZGEgZXNjb2xhcmlkYWRlXG4gICAqL1xuICBnZXREZXNjcmljYW9Fc2NvbGFyaWRhZGUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBkZXNjcmljb2VzID0ge1xuICAgICAgW0VzY29sYXJpZGFkZUVudW0uQU5BTEZBQkVUT106ICdBbmFsZmFiZXRvJyxcbiAgICAgIFtFc2NvbGFyaWRhZGVFbnVtLkZVTkRBTUVOVEFMX0lOQ09NUExFVE9dOiAnRnVuZGFtZW50YWwgSW5jb21wbGV0bycsXG4gICAgICBbRXNjb2xhcmlkYWRlRW51bS5GVU5EQU1FTlRBTF9DT01QTEVUT106ICdGdW5kYW1lbnRhbCBDb21wbGV0bycsXG4gICAgICBbRXNjb2xhcmlkYWRlRW51bS5NRURJT19JTkNPTVBMRVRPXTogJ03DqWRpbyBJbmNvbXBsZXRvJyxcbiAgICAgIFtFc2NvbGFyaWRhZGVFbnVtLk1FRElPX0NPTVBMRVRPXTogJ03DqWRpbyBDb21wbGV0bycsXG4gICAgICBbRXNjb2xhcmlkYWRlRW51bS5TVVBFUklPUl9JTkNPTVBMRVRPXTogJ1N1cGVyaW9yIEluY29tcGxldG8nLFxuICAgICAgW0VzY29sYXJpZGFkZUVudW0uU1VQRVJJT1JfQ09NUExFVE9dOiAnU3VwZXJpb3IgQ29tcGxldG8nLFxuICAgICAgW0VzY29sYXJpZGFkZUVudW0uUE9TX0dSQURVQUNBT106ICdQw7NzLWdyYWR1YcOnw6NvJyxcbiAgICB9O1xuICAgIHJldHVybiBkZXNjcmljb2VzW3RoaXMuZXNjb2xhcmlkYWRlXSB8fCB0aGlzLmVzY29sYXJpZGFkZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gYSBkZXNjcmnDp8OjbyBkYSBzaXR1YcOnw6NvIGRlIHRyYWJhbGhvXG4gICAqL1xuICBnZXREZXNjcmljYW9TaXR1YWNhb1RyYWJhbGhvKCk6IHN0cmluZyB7XG4gICAgaWYgKCF0aGlzLnNpdHVhY2FvX3RyYWJhbGhvKSByZXR1cm4gJ07Do28gaW5mb3JtYWRvJztcbiAgICBcbiAgICBjb25zdCBkZXNjcmljb2VzID0ge1xuICAgICAgW1NpdHVhY2FvVHJhYmFsaG9FbnVtLkVNUFJFR0FET19GT1JNQUxdOiAnRW1wcmVnYWRvJyxcbiAgICAgIFtTaXR1YWNhb1RyYWJhbGhvRW51bS5ERVNFTVBSRUdBRE9dOiAnRGVzZW1wcmVnYWRvJyxcbiAgICAgIFtTaXR1YWNhb1RyYWJhbGhvRW51bS5BVVRPTk9NT106ICdBdXTDtG5vbW8nLFxuICAgICAgW1NpdHVhY2FvVHJhYmFsaG9FbnVtLkFQT1NFTlRBRE9dOiAnQXBvc2VudGFkbycsXG4gICAgICBbU2l0dWFjYW9UcmFiYWxob0VudW0uUEVOU0lPTklTVEFdOiAnUGVuc2lvbmlzdGEnLFxuICAgICAgW1NpdHVhY2FvVHJhYmFsaG9FbnVtLkVTVFVEQU5URV06ICdFc3R1ZGFudGUnLFxuICAgICAgW1NpdHVhY2FvVHJhYmFsaG9FbnVtLkRPX0xBUl06ICdEbyBsYXInLFxuICAgIH07XG4gICAgcmV0dXJuIGRlc2NyaWNvZXNbdGhpcy5zaXR1YWNhb190cmFiYWxob10gfHwgdGhpcy5zaXR1YWNhb190cmFiYWxobztcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSBwZXJ0ZW5jZSBhIHVtIGNpZGFkw6NvIGVzcGVjw61maWNvXG4gICAqL1xuICBwZXJ0ZW5jZUFvQ2lkYWRhbyhjaWRhZGFvSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNpZGFkYW9faWQgPT09IGNpZGFkYW9JZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gdW0gcmVzdW1vIGRvcyBkYWRvcyBzb2NpYWlzXG4gICAqL1xuICBnZXRTdW1tYXJ5KCk6IHN0cmluZyB7XG4gICAgY29uc3QgZXNjb2xhcmlkYWRlID0gdGhpcy5nZXREZXNjcmljYW9Fc2NvbGFyaWRhZGUoKTtcbiAgICBjb25zdCBzaXR1YWNhbyA9IHRoaXMuZ2V0RGVzY3JpY2FvU2l0dWFjYW9UcmFiYWxobygpO1xuICAgIGNvbnN0IHJlbmRhID0gdGhpcy5nZXRSZW5kYUZvcm1hdGFkYSgpO1xuICAgIGNvbnN0IGJlbmVmaWNpb3MgPSB0aGlzLnJlY2ViZUJlbmVmaWNpb1NvY2lhbCgpID8gJyAtIFJlY2ViZSBiZW5lZsOtY2lvcycgOiAnJztcbiAgICByZXR1cm4gYCR7ZXNjb2xhcmlkYWRlfSAtICR7c2l0dWFjYW99IC0gJHtyZW5kYX0ke2JlbmVmaWNpb3N9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXJhIHVtYSBjaGF2ZSDDum5pY2EgcGFyYSBvcyBkYWRvc1xuICAgKi9cbiAgZ2V0VW5pcXVlS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBkYWRvc19zb2NpYWlzXyR7dGhpcy5jaWRhZGFvX2lkfWA7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugb3MgZGFkb3Mgc8OjbyBjb25zaXN0ZW50ZXNcbiAgICovXG4gIGlzQ29uc2lzdGVudGUoKTogYm9vbGVhbiB7XG4gICAgLy8gVmVyaWZpY2Egc2UgdGVtIGNpZGFkw6NvXG4gICAgaWYgKCF0aGlzLmNpZGFkYW9faWQpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBWZXJpZmljYSBzZSB0ZW0gZXNjb2xhcmlkYWRlXG4gICAgaWYgKCF0aGlzLmVzY29sYXJpZGFkZSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIFNlIHJlY2ViZSBQQkYsIGRldmUgdGVyIHZhbG9yXG4gICAgaWYgKHRoaXMucmVjZWJlX3BiZiAmJiAoIXRoaXMudmFsb3JfcGJmIHx8IHRoaXMudmFsb3JfcGJmIDw9IDApKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIFNlIHJlY2ViZSBCUEMsIGRldmUgdGVyIHZhbG9yIGUgdGlwb1xuICAgIGlmICh0aGlzLnJlY2ViZV9icGMgJiYgKCF0aGlzLnZhbG9yX2JwYyB8fCB0aGlzLnZhbG9yX2JwYyA8PSAwIHx8ICF0aGlzLnRpcG9fYnBjKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBTZSB0ZW0gcmVuZGEsIGRldmUgc2VyIHBvc2l0aXZhXG4gICAgaWYgKHRoaXMucmVuZGEgIT09IG51bGwgJiYgdGhpcy5yZW5kYSAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmVuZGEgPCAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIHBvZGUgc2VyIHJlbW92aWRvXG4gICAqL1xuICBwb2RlU2VyUmVtb3ZpZG8oKTogYm9vbGVhbiB7XG4gICAgLy8gTsOjbyBwb2RlIHJlbW92ZXIgc2UgasOhIGZvaSByZW1vdmlkb1xuICAgIGlmICh0aGlzLmZvaVJlbW92aWRvKCkpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBPdXRyYXMgdmFsaWRhw6fDtWVzIGVzcGVjw61maWNhcyBwb2RlbSBzZXIgYWRpY2lvbmFkYXNcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uYSBvcyBkYWRvcyBzb2NpYWlzIChzZW0gSUQpXG4gICAqL1xuICBjbG9uZSgpOiBQYXJ0aWFsPERhZG9zU29jaWFpcz4ge1xuICAgIHJldHVybiB7XG4gICAgICBjaWRhZGFvX2lkOiB0aGlzLmNpZGFkYW9faWQsXG4gICAgICBlc2NvbGFyaWRhZGU6IHRoaXMuZXNjb2xhcmlkYWRlLFxuICAgICAgcHVibGljb19wcmlvcml0YXJpbzogdGhpcy5wdWJsaWNvX3ByaW9yaXRhcmlvLFxuICAgICAgcmVuZGE6IHRoaXMucmVuZGEsXG4gICAgICBvY3VwYWNhbzogdGhpcy5vY3VwYWNhbyxcbiAgICAgIHJlY2ViZV9wYmY6IHRoaXMucmVjZWJlX3BiZixcbiAgICAgIHZhbG9yX3BiZjogdGhpcy52YWxvcl9wYmYsXG4gICAgICByZWNlYmVfYnBjOiB0aGlzLnJlY2ViZV9icGMsXG4gICAgICB0aXBvX2JwYzogdGhpcy50aXBvX2JwYyxcbiAgICAgIHZhbG9yX2JwYzogdGhpcy52YWxvcl9icGMsXG4gICAgICBjdXJzb19wcm9maXNzaW9uYWxpemFudGU6IHRoaXMuY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlLFxuICAgICAgaW50ZXJlc3NlX2N1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZTogdGhpcy5pbnRlcmVzc2VfY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlLFxuICAgICAgc2l0dWFjYW9fdHJhYmFsaG86IHRoaXMuc2l0dWFjYW9fdHJhYmFsaG8sXG4gICAgICBhcmVhX3RyYWJhbGhvOiB0aGlzLmFyZWFfdHJhYmFsaG8sXG4gICAgICBmYW1pbGlhcl9hcHRvX3RyYWJhbGhvOiB0aGlzLmZhbWlsaWFyX2FwdG9fdHJhYmFsaG8sXG4gICAgICBhcmVhX2ludGVyZXNzZV9mYW1pbGlhcjogdGhpcy5hcmVhX2ludGVyZXNzZV9mYW1pbGlhcixcbiAgICAgIG9ic2VydmFjb2VzOiB0aGlzLm9ic2VydmFjb2VzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgZWxlZ8OtdmVsIHBhcmEgcHJvZ3JhbWFzIGRlIGNhcGFjaXRhw6fDo29cbiAgICovXG4gIGlzRWxlZ2l2ZWxDYXBhY2l0YWNhbygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc0Rlc2VtcHJlZ2FkbygpIHx8IHRoaXMudGVtSW50ZXJlc3NlQ3Vyc29Qcm9maXNzaW9uYWxpemFudGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSB0ZW0gcG90ZW5jaWFsIGRlIGdlcmHDp8OjbyBkZSByZW5kYVxuICAgKi9cbiAgdGVtUG90ZW5jaWFsR2VyYWNhb1JlbmRhKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnRlbUZhbWlsaWFyQXB0b1RyYWJhbGhvKCkgfHwgdGhpcy50ZW1JbnRlcmVzc2VDdXJzb1Byb2Zpc3Npb25hbGl6YW50ZSgpIHx8IHRoaXMuamFmZXpDdXJzb1Byb2Zpc3Npb25hbGl6YW50ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGEgYSByZW5kYSB0b3RhbCAocHLDs3ByaWEgKyBiZW5lZsOtY2lvcylcbiAgICovXG4gIGdldFJlbmRhVG90YWwoKTogbnVtYmVyIHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGlmICh0aGlzLnJlbmRhKSB0b3RhbCArPSB0aGlzLnJlbmRhO1xuICAgIHRvdGFsICs9IHRoaXMuZ2V0VG90YWxCZW5lZmljaW9zKCk7XG4gICAgcmV0dXJuIHRvdGFsO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBhIHJlbmRhIHRvdGFsIGZvcm1hdGFkYVxuICAgKi9cbiAgZ2V0UmVuZGFUb3RhbEZvcm1hdGFkYSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRvdGFsID0gdGhpcy5nZXRSZW5kYVRvdGFsKCk7XG4gICAgaWYgKHRvdGFsID09PSAwKSByZXR1cm4gJ1NlbSByZW5kYSc7XG4gICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgncHQtQlInLCB7XG4gICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgIGN1cnJlbmN5OiAnQlJMJ1xuICAgIH0pLmZvcm1hdCh0b3RhbCk7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0YSBhIGRhdGEgZGUgY3JpYcOnw6NvXG4gICAqL1xuICBnZXRDcmlhY2FvRm9ybWF0YWRhKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlZF9hdC50b0xvY2FsZURhdGVTdHJpbmcoJ3B0LUJSJyk7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0YSBhIGRhdGEgZGUgYXR1YWxpemHDp8Ojb1xuICAgKi9cbiAgZ2V0QXR1YWxpemFjYW9Gb3JtYXRhZGEoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVkX2F0LnRvTG9jYWxlRGF0ZVN0cmluZygncHQtQlInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgaW5mb3JtYcOnw7VlcyBzZW5zw612ZWlzIHBhcmEgbG9nc1xuICAgKi9cbiAgdG9TYWZlTG9nKCk6IFBhcnRpYWw8RGFkb3NTb2NpYWlzPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgZXNjb2xhcmlkYWRlOiB0aGlzLmVzY29sYXJpZGFkZSxcbiAgICAgIHB1YmxpY29fcHJpb3JpdGFyaW86IHRoaXMucHVibGljb19wcmlvcml0YXJpbyxcbiAgICAgIHNpdHVhY2FvX3RyYWJhbGhvOiB0aGlzLnNpdHVhY2FvX3RyYWJhbGhvLFxuICAgICAgcmVjZWJlX3BiZjogdGhpcy5yZWNlYmVfcGJmLFxuICAgICAgcmVjZWJlX2JwYzogdGhpcy5yZWNlYmVfYnBjLFxuICAgICAgaW50ZXJlc3NlX2N1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZTogdGhpcy5pbnRlcmVzc2VfY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlLFxuICAgICAgY3JlYXRlZF9hdDogdGhpcy5jcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZF9hdDogdGhpcy51cGRhdGVkX2F0LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIHN1Z2VzdMO1ZXMgZGUgbWVsaG9yaWEgcGFyYSBvcyBkYWRvcyBzb2NpYWlzXG4gICAqL1xuICBnZXRTdWdlc3RvZXNNZWxob3JpYSgpOiBzdHJpbmdbXSB7XG4gICAgY29uc3Qgc3VnZXN0b2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgIFxuICAgIGlmICghdGhpcy5vY3VwYWNhbyAmJiB0aGlzLmlzRW1wcmVnYWRvKCkpIHtcbiAgICAgIHN1Z2VzdG9lcy5wdXNoKCdEZWZpbmlyIG9jdXBhw6fDo28gcGFyYSBwZXNzb2EgZW1wcmVnYWRhJyk7XG4gICAgfVxuICAgIFxuICAgIGlmICghdGhpcy5hcmVhX3RyYWJhbGhvICYmICh0aGlzLmlzRW1wcmVnYWRvKCkgfHwgdGhpcy5pc0F1dG9ub21vKCkpKSB7XG4gICAgICBzdWdlc3RvZXMucHVzaCgnRXNwZWNpZmljYXIgw6FyZWEgZGUgdHJhYmFsaG8nKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuaXNEZXNlbXByZWdhZG8oKSAmJiAhdGhpcy50ZW1JbnRlcmVzc2VDdXJzb1Byb2Zpc3Npb25hbGl6YW50ZSgpKSB7XG4gICAgICBzdWdlc3RvZXMucHVzaCgnVmVyaWZpY2FyIGludGVyZXNzZSBlbSBjYXBhY2l0YcOnw6NvIHByb2Zpc3Npb25hbCcpO1xuICAgIH1cbiAgICBcbiAgICBpZiAodGhpcy5yZWNlYmVfcGJmICYmICF0aGlzLnZhbG9yX3BiZikge1xuICAgICAgc3VnZXN0b2VzLnB1c2goJ0luZm9ybWFyIHZhbG9yIGRvIFByb2dyYW1hIEJvbHNhIEZhbcOtbGlhJyk7XG4gICAgfVxuICAgIFxuICAgIGlmICh0aGlzLnJlY2ViZV9icGMgJiYgKCF0aGlzLnZhbG9yX2JwYyB8fCAhdGhpcy50aXBvX2JwYykpIHtcbiAgICAgIHN1Z2VzdG9lcy5wdXNoKCdDb21wbGV0YXIgaW5mb3JtYcOnw7VlcyBkbyBCUEMgKHZhbG9yIGUgdGlwbyknKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCF0aGlzLmlzQ29uc2lzdGVudGUoKSkge1xuICAgICAgc3VnZXN0b2VzLnB1c2goJ1ZlcmlmaWNhciBjb25zaXN0w6puY2lhIGRvcyBkYWRvcyBzb2NpYWlzJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBzdWdlc3RvZXM7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgcHJlY2lzYSBkZSBhdHVhbGl6YcOnw6NvIChkYWRvcyBhbnRpZ29zKVxuICAgKi9cbiAgcHJlY2lzYUF0dWFsaXphY2FvKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHNlaXNlTWVzZXNBdHJhcyA9IG5ldyBEYXRlKCk7XG4gICAgc2Vpc2VNZXNlc0F0cmFzLnNldE1vbnRoKHNlaXNlTWVzZXNBdHJhcy5nZXRNb250aCgpIC0gNik7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlZF9hdCA8IHNlaXNlTWVzZXNBdHJhcztcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9