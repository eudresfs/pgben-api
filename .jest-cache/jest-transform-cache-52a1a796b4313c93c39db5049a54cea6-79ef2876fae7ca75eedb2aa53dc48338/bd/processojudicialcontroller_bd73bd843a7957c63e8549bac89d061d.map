{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\judicial\\controllers\\processo-judicial.controller.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\judicial\\controllers\\processo-judicial.controller.ts"],"sourcesContent":["import {\n  Controller,\n  Get,\n  Post,\n  Body,\n  Param,\n  ParseUUIDPipe,\n  Patch,\n  Delete,\n  Query,\n  UseGuards,\n  HttpStatus,\n  HttpCode,\n  Request,\n} from '@nestjs/common';\nimport {\n  ApiBearerAuth,\n  ApiOperation,\n  ApiResponse,\n  ApiTags,\n} from '@nestjs/swagger';\nimport { JwtAuthGuard } from '../../../auth/guards/jwt-auth.guard';\nimport { ProcessoJudicialService } from '../services/processo-judicial.service';\nimport { ProcessoJudicial } from '../../../entities/processo-judicial.entity';\nimport {\n  CreateProcessoJudicialDto,\n  UpdateProcessoJudicialDto,\n  UpdateStatusProcessoJudicialDto,\n  FindProcessoJudicialFilterDto,\n} from '../dtos/processo-judicial.dto';\nimport { PaginatedResult } from '../../../common/interfaces/paginated-result.interface';\n\n/**\n * Controller para gerenciamento de processos judiciais\n *\n * Fornece endpoints para operações CRUD e consultas específicas para processos judiciais.\n */\n@ApiTags('Solicitação')\n@Controller('judicial/processos')\n@UseGuards(JwtAuthGuard)\n@ApiBearerAuth()\nexport class ProcessoJudicialController {\n  constructor(\n    private readonly processoJudicialService: ProcessoJudicialService,\n  ) {}\n\n  /**\n   * Cria um novo processo judicial\n   */\n  @Post()\n  @ApiOperation({ summary: 'Cria um novo processo judicial' })\n  @ApiResponse({\n    status: HttpStatus.CREATED,\n    description: 'Processo judicial criado com sucesso',\n    type: ProcessoJudicial,\n  })\n  @ApiResponse({\n    status: HttpStatus.BAD_REQUEST,\n    description: 'Dados inválidos',\n  })\n  @ApiResponse({\n    status: HttpStatus.UNAUTHORIZED,\n    description: 'Não autorizado',\n  })\n  async create(\n    @Body() createProcessoJudicialDto: CreateProcessoJudicialDto,\n    @Request() req,\n  ): Promise<ProcessoJudicial> {\n    return this.processoJudicialService.create(\n      createProcessoJudicialDto,\n      req.user.id,\n    );\n  }\n\n  /**\n   * Busca todos os processos judiciais com paginação e filtros\n   */\n  @Get()\n  @ApiOperation({\n    summary: 'Lista processos judiciais com paginação e filtros',\n  })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Lista de processos judiciais',\n  })\n  @ApiResponse({\n    status: HttpStatus.UNAUTHORIZED,\n    description: 'Não autorizado',\n  })\n  async findAll(\n    @Query() query: FindProcessoJudicialFilterDto,\n  ): Promise<PaginatedResult<ProcessoJudicial>> {\n    return this.processoJudicialService.findAll({\n      page: query.page,\n      limit: query.limit,\n      cidadaoId: query.cidadaoId,\n      status: query.status,\n      comarca: query.comarca,\n      vara: query.vara,\n      termo: query.termo,\n    });\n  }\n\n  /**\n   * Busca um processo judicial pelo ID\n   */\n  @Get(':id')\n  @ApiOperation({ summary: 'Busca um processo judicial pelo ID' })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Processo judicial encontrado',\n    type: ProcessoJudicial,\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Processo judicial não encontrado',\n  })\n  @ApiResponse({\n    status: HttpStatus.UNAUTHORIZED,\n    description: 'Não autorizado',\n  })\n  async findOne(\n    @Param('id', ParseUUIDPipe) id: string,\n  ): Promise<ProcessoJudicial> {\n    return this.processoJudicialService.findById(id);\n  }\n\n  /**\n   * Busca processos judiciais por cidadão\n   */\n  @Get('cidadao/:cidadaoId')\n  @ApiOperation({ summary: 'Busca processos judiciais por cidadão' })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Lista de processos judiciais do cidadão',\n  })\n  @ApiResponse({\n    status: HttpStatus.UNAUTHORIZED,\n    description: 'Não autorizado',\n  })\n  async findByCidadao(\n    @Param('cidadaoId') cidadaoId: string,\n  ): Promise<ProcessoJudicial[]> {\n    return this.processoJudicialService.findByCidadao(cidadaoId);\n  }\n\n  /**\n   * Atualiza um processo judicial\n   */\n  @Patch(':id')\n  @ApiOperation({ summary: 'Atualiza um processo judicial' })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Processo judicial atualizado',\n    type: ProcessoJudicial,\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Processo judicial não encontrado',\n  })\n  @ApiResponse({\n    status: HttpStatus.BAD_REQUEST,\n    description: 'Dados inválidos',\n  })\n  @ApiResponse({\n    status: HttpStatus.UNAUTHORIZED,\n    description: 'Não autorizado',\n  })\n  async update(\n    @Param('id', ParseUUIDPipe) id: string,\n    @Body() updateProcessoJudicialDto: UpdateProcessoJudicialDto,\n    @Request() req,\n  ): Promise<ProcessoJudicial> {\n    return this.processoJudicialService.update(\n      id,\n      updateProcessoJudicialDto,\n      req.user.id,\n    );\n  }\n\n  /**\n   * Atualiza o status de um processo judicial\n   */\n  @Patch(':id/status')\n  @ApiOperation({ summary: 'Atualiza o status de um processo judicial' })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Status atualizado com sucesso',\n    type: ProcessoJudicial,\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Processo judicial não encontrado',\n  })\n  @ApiResponse({\n    status: HttpStatus.BAD_REQUEST,\n    description: 'Status inválido',\n  })\n  @ApiResponse({\n    status: HttpStatus.UNAUTHORIZED,\n    description: 'Não autorizado',\n  })\n  async updateStatus(\n    @Param('id', ParseUUIDPipe) id: string,\n    @Body() updateStatusDto: UpdateStatusProcessoJudicialDto,\n    @Request() req,\n  ): Promise<ProcessoJudicial> {\n    return this.processoJudicialService.updateStatus(\n      id,\n      updateStatusDto.status,\n      req.user.id,\n    );\n  }\n\n  /**\n   * Desativa um processo judicial (soft delete)\n   */\n  @Delete(':id')\n  @HttpCode(HttpStatus.NO_CONTENT)\n  @ApiOperation({ summary: 'Desativa um processo judicial (soft delete)' })\n  @ApiResponse({\n    status: HttpStatus.NO_CONTENT,\n    description: 'Processo judicial desativado com sucesso',\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Processo judicial não encontrado',\n  })\n  @ApiResponse({\n    status: HttpStatus.UNAUTHORIZED,\n    description: 'Não autorizado',\n  })\n  async remove(\n    @Param('id', ParseUUIDPipe) id: string,\n    @Request() req,\n  ): Promise<void> {\n    await this.processoJudicialService.desativar(id, req.user.id);\n  }\n}\n"],"version":3}