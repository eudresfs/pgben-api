{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\metricas\\dto\\metrica-definicao.dto.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\modules\\metricas\\dto\\metrica-definicao.dto.ts"],"sourcesContent":["import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport {\n  IsString,\n  IsEnum,\n  IsNotEmpty,\n  IsOptional,\n  IsNumber,\n  IsBoolean,\n  IsArray,\n  IsUUID,\n  ValidateNested,\n  IsDateString,\n} from 'class-validator';\nimport { Type } from 'class-transformer';\nimport {\n  TipoMetrica,\n  CategoriaMetrica,\n  GranularidadeTemporal,\n} from '../../../entities/metrica-definicao.entity';\n\n/**\n * DTO para criar uma nova definição de métrica\n */\nexport class CriarMetricaDefinicaoDto {\n  @ApiProperty({\n    description: 'Código único da métrica (snake_case)',\n    example: 'tempo_medio_processamento_beneficio',\n  })\n  @IsString()\n  @IsNotEmpty()\n  codigo: string;\n\n  @ApiProperty({\n    description: 'Nome de exibição da métrica',\n    example: 'Tempo Médio de Processamento de Benefício',\n  })\n  @IsString()\n  @IsNotEmpty()\n  nome: string;\n\n  @ApiProperty({\n    description: 'Descrição detalhada da métrica',\n    example:\n      'Calcula o tempo médio de processamento de solicitações de benefício, desde a submissão até a aprovação ou rejeição.',\n  })\n  @IsString()\n  @IsNotEmpty()\n  descricao: string;\n\n  @ApiProperty({\n    description: 'Tipo da métrica',\n    enum: TipoMetrica,\n    example: TipoMetrica.MEDIA,\n  })\n  @IsEnum(TipoMetrica)\n  tipo: TipoMetrica;\n\n  @ApiProperty({\n    description: 'Categoria da métrica para organização',\n    enum: CategoriaMetrica,\n    example: CategoriaMetrica.PROCESSAMENTO,\n  })\n  @IsEnum(CategoriaMetrica)\n  categoria: CategoriaMetrica;\n\n  @ApiPropertyOptional({\n    description: 'Unidade de medida da métrica',\n    example: 'dias',\n  })\n  @IsString()\n  @IsOptional()\n  unidade?: string;\n\n  @ApiPropertyOptional({\n    description: 'Prefixo a ser exibido antes do valor',\n    example: 'R$',\n  })\n  @IsString()\n  @IsOptional()\n  prefixo?: string;\n\n  @ApiPropertyOptional({\n    description: 'Sufixo a ser exibido após o valor',\n    example: '%',\n  })\n  @IsString()\n  @IsOptional()\n  sufixo?: string;\n\n  @ApiPropertyOptional({\n    description: 'Número de casas decimais a serem exibidas',\n    example: 2,\n    default: 2,\n  })\n  @IsNumber()\n  @IsOptional()\n  casas_decimais?: number;\n\n  @ApiPropertyOptional({\n    description:\n      'Consulta SQL para coletar dados (para métricas baseadas em banco de dados)',\n    example:\n      \"SELECT AVG(EXTRACT(EPOCH FROM (data_conclusao - data_solicitacao))/86400) FROM solicitacao WHERE status = 'concluido' AND data_conclusao BETWEEN ${PERIODO_INICIO} AND ${PERIODO_FIM}\",\n  })\n  @IsString()\n  @IsOptional()\n  sql_consulta?: string;\n\n  @ApiPropertyOptional({\n    description: 'Fórmula para cálculo (para métricas compostas)',\n    example: 'beneficios_aprovados / total_solicitacoes * 100',\n  })\n  @IsString()\n  @IsOptional()\n  formula_calculo?: string;\n\n  @ApiPropertyOptional({\n    description: 'Fonte de dados da métrica',\n    example: 'banco_dados',\n    default: 'banco_dados',\n  })\n  @IsString()\n  @IsOptional()\n  fonte_dados?: string;\n\n  @ApiPropertyOptional({\n    description:\n      'Especificação de como agregar os dados em diferentes períodos',\n    example: 'media',\n    default: 'soma',\n  })\n  @IsString()\n  @IsOptional()\n  agregacao_temporal?: string;\n\n  @ApiPropertyOptional({\n    description: 'Granularidade mínima de coleta/armazenamento',\n    enum: GranularidadeTemporal,\n    example: GranularidadeTemporal.DIA,\n    default: GranularidadeTemporal.DIA,\n  })\n  @IsEnum(GranularidadeTemporal)\n  @IsOptional()\n  granularidade?: GranularidadeTemporal;\n\n  @ApiPropertyOptional({\n    description:\n      'Referência a outras métricas utilizadas no cálculo (caso seja composta)',\n    example: ['beneficios_aprovados', 'total_solicitacoes'],\n    type: [String],\n  })\n  @IsArray()\n  @IsString({ each: true })\n  @IsOptional()\n  metricas_dependentes?: string[];\n\n  @ApiPropertyOptional({\n    description: 'Parâmetros específicos para o tipo de métrica',\n    example: { percentil: 95 },\n  })\n  @IsOptional()\n  parametros_especificos?: Record<string, any>;\n\n  @ApiPropertyOptional({\n    description: 'Tags para filtrar e categorizar métricas',\n    example: ['financeiro', 'beneficio', 'prioritario'],\n    type: [String],\n  })\n  @IsArray()\n  @IsString({ each: true })\n  @IsOptional()\n  tags?: string[];\n}\n\n/**\n * DTO para atualizar uma definição de métrica existente\n */\nexport class AtualizarMetricaDefinicaoDto {\n  @ApiPropertyOptional({\n    description: 'Nome de exibição da métrica',\n    example: 'Tempo Médio de Processamento de Benefício',\n  })\n  @IsString()\n  @IsOptional()\n  nome?: string;\n\n  @ApiPropertyOptional({\n    description: 'Descrição detalhada da métrica',\n    example:\n      'Calcula o tempo médio de processamento de solicitações de benefício, desde a submissão até a aprovação ou rejeição.',\n  })\n  @IsString()\n  @IsOptional()\n  descricao?: string;\n\n  @ApiPropertyOptional({\n    description: 'Tipo da métrica',\n    enum: TipoMetrica,\n    example: TipoMetrica.MEDIA,\n  })\n  @IsEnum(TipoMetrica)\n  @IsOptional()\n  tipo?: TipoMetrica;\n\n  @ApiPropertyOptional({\n    description: 'Categoria da métrica para organização',\n    enum: CategoriaMetrica,\n    example: CategoriaMetrica.PROCESSAMENTO,\n  })\n  @IsEnum(CategoriaMetrica)\n  @IsOptional()\n  categoria?: CategoriaMetrica;\n\n  @ApiPropertyOptional({\n    description: 'Unidade de medida da métrica',\n    example: 'dias',\n  })\n  @IsString()\n  @IsOptional()\n  unidade?: string;\n\n  @ApiPropertyOptional({\n    description: 'Prefixo a ser exibido antes do valor',\n    example: 'R$',\n  })\n  @IsString()\n  @IsOptional()\n  prefixo?: string;\n\n  @ApiPropertyOptional({\n    description: 'Sufixo a ser exibido após o valor',\n    example: '%',\n  })\n  @IsString()\n  @IsOptional()\n  sufixo?: string;\n\n  @ApiPropertyOptional({\n    description: 'Número de casas decimais a serem exibidas',\n    example: 2,\n  })\n  @IsNumber()\n  @IsOptional()\n  casas_decimais?: number;\n\n  @ApiPropertyOptional({\n    description:\n      'Consulta SQL para coletar dados (para métricas baseadas em banco de dados)',\n    example:\n      \"SELECT AVG(EXTRACT(EPOCH FROM (data_conclusao - data_solicitacao))/86400) FROM solicitacao WHERE status = 'concluido' AND data_conclusao BETWEEN ${PERIODO_INICIO} AND ${PERIODO_FIM}\",\n  })\n  @IsString()\n  @IsOptional()\n  sql_consulta?: string;\n\n  @ApiPropertyOptional({\n    description: 'Fórmula para cálculo (para métricas compostas)',\n    example: 'beneficios_aprovados / total_solicitacoes * 100',\n  })\n  @IsString()\n  @IsOptional()\n  formula_calculo?: string;\n\n  @ApiPropertyOptional({\n    description: 'Fonte de dados da métrica',\n    example: 'banco_dados',\n  })\n  @IsString()\n  @IsOptional()\n  fonte_dados?: string;\n\n  @ApiPropertyOptional({\n    description:\n      'Especificação de como agregar os dados em diferentes períodos',\n    example: 'media',\n  })\n  @IsString()\n  @IsOptional()\n  agregacao_temporal?: string;\n\n  @ApiPropertyOptional({\n    description: 'Granularidade mínima de coleta/armazenamento',\n    enum: GranularidadeTemporal,\n    example: GranularidadeTemporal.DIA,\n  })\n  @IsEnum(GranularidadeTemporal)\n  @IsOptional()\n  granularidade?: GranularidadeTemporal;\n\n  @ApiPropertyOptional({\n    description:\n      'Referência a outras métricas utilizadas no cálculo (caso seja composta)',\n    example: ['beneficios_aprovados', 'total_solicitacoes'],\n    type: [String],\n  })\n  @IsArray()\n  @IsString({ each: true })\n  @IsOptional()\n  metricas_dependentes?: string[];\n\n  @ApiPropertyOptional({\n    description: 'Flag que indica se a métrica está ativa para coleta',\n    example: true,\n  })\n  @IsBoolean()\n  @IsOptional()\n  ativa?: boolean;\n\n  @ApiPropertyOptional({\n    description: 'Parâmetros específicos para o tipo de métrica',\n    example: { percentil: 95 },\n  })\n  @IsOptional()\n  parametros_especificos?: Record<string, any>;\n\n  @ApiPropertyOptional({\n    description: 'Tags para filtrar e categorizar métricas',\n    example: ['financeiro', 'beneficio', 'prioritario'],\n    type: [String],\n  })\n  @IsArray()\n  @IsString({ each: true })\n  @IsOptional()\n  tags?: string[];\n\n  @ApiPropertyOptional({\n    description:\n      'Flag que indica se a métrica é calculada em tempo real ou pré-calculada',\n    example: false,\n  })\n  @IsBoolean()\n  @IsOptional()\n  calculo_tempo_real?: boolean;\n}\n\n/**\n * DTO para filtrar métricas na consulta\n */\nexport class FiltroMetricasDto {\n  @ApiPropertyOptional({\n    description: 'Código da métrica para busca parcial',\n    example: 'tempo',\n  })\n  @IsString()\n  @IsOptional()\n  codigo?: string;\n\n  @ApiPropertyOptional({\n    description: 'Nome da métrica para busca parcial',\n    example: 'Processamento',\n  })\n  @IsString()\n  @IsOptional()\n  nome?: string;\n\n  @ApiPropertyOptional({\n    description: 'Categoria da métrica',\n    enum: CategoriaMetrica,\n    example: CategoriaMetrica.PROCESSAMENTO,\n  })\n  @IsEnum(CategoriaMetrica)\n  @IsOptional()\n  categoria?: CategoriaMetrica;\n\n  @ApiPropertyOptional({\n    description: 'Tipo da métrica',\n    enum: TipoMetrica,\n    example: TipoMetrica.MEDIA,\n  })\n  @IsEnum(TipoMetrica)\n  @IsOptional()\n  tipo?: TipoMetrica;\n\n  @ApiPropertyOptional({\n    description: 'Status de ativação da métrica',\n    example: true,\n  })\n  @IsBoolean()\n  @IsOptional()\n  ativa?: boolean;\n\n  @ApiPropertyOptional({\n    description: 'Tag para filtrar métricas',\n    example: 'financeiro',\n  })\n  @IsString()\n  @IsOptional()\n  tag?: string;\n\n  @ApiPropertyOptional({\n    description: 'Página para paginação de resultados',\n    example: 1,\n    default: 1,\n  })\n  @IsNumber()\n  @IsOptional()\n  pagina?: number;\n\n  @ApiPropertyOptional({\n    description: 'Quantidade de itens por página',\n    example: 10,\n    default: 10,\n  })\n  @IsNumber()\n  @IsOptional()\n  limite?: number;\n}\n"],"version":3}