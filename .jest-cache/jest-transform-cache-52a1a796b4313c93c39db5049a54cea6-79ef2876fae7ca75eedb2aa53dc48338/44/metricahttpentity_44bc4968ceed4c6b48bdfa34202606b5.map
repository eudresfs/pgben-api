{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\metrica-http.entity.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\metrica-http.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, Index, CreateDateColumn } from 'typeorm';\nimport { IsNotEmpty, IsOptional, IsUUID, IsNumber, Min, Max, IsString, MaxLength, IsIP } from 'class-validator';\n\n/**\n * Entidade que representa métricas de requisições HTTP\n * \n * Esta entidade armazena informações sobre requisições HTTP realizadas no sistema,\n * incluindo endpoint, método, código de status, duração e informações do usuário.\n */\n@Entity('metricas_http')\nexport class MetricaHttp {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @CreateDateColumn({ name: 'created_at' })\n  @Index('idx_metricas_http_timestamp')\n  created_at: Date;\n\n  @Column({ length: 255 })\n  @Index('idx_metricas_http_endpoint')\n  @IsNotEmpty({ message: 'Endpoint é obrigatório' })\n  @IsString({ message: 'Endpoint deve ser uma string' })\n  @MaxLength(255, { message: 'Endpoint deve ter no máximo 255 caracteres' })\n  endpoint: string;\n\n  @Column({ length: 10 })\n  @IsNotEmpty({ message: 'Método HTTP é obrigatório' })\n  @IsString({ message: 'Método deve ser uma string' })\n  @MaxLength(10, { message: 'Método deve ter no máximo 10 caracteres' })\n  metodo: string;\n\n  @Column({ type: 'integer' })\n  @Index('idx_metricas_http_status')\n  @IsNotEmpty({ message: 'Código de status é obrigatório' })\n  @IsNumber({}, { message: 'Código de status deve ser um número' })\n  @Min(100, { message: 'Código de status deve ser maior ou igual a 100' })\n  @Max(599, { message: 'Código de status deve ser menor ou igual a 599' })\n  codigo_status: number;\n\n  @Column({ type: 'integer' })\n  @IsNotEmpty({ message: 'Duração é obrigatória' })\n  @IsNumber({}, { message: 'Duração deve ser um número' })\n  @Min(0, { message: 'Duração não pode ser negativa' })\n  duracao_ms: number;\n\n  @Column({ type: 'integer', nullable: true })\n  @IsOptional()\n  @IsNumber({}, { message: 'Tamanho da resposta deve ser um número' })\n  @Min(0, { message: 'Tamanho da resposta não pode ser negativo' })\n  tamanho_resposta_bytes: number;\n\n  @Column({ length: 45, nullable: true })\n  @IsOptional()\n  @IsIP(undefined, { message: 'IP de origem inválido' })\n  ip_origem: string;\n\n  @Column({ type: 'uuid', nullable: true })\n  @Index('idx_metricas_http_usuario')\n  @IsOptional()\n  @IsUUID('4', { message: 'ID do usuário inválido' })\n  usuario_id: string;\n\n  @Column({ length: 50, nullable: true })\n  @IsOptional()\n  @IsString({ message: 'Perfil do usuário deve ser uma string' })\n  @MaxLength(50, { message: 'Perfil do usuário deve ter no máximo 50 caracteres' })\n  perfil_usuario: string;\n\n  @Column({ type: 'text', nullable: true })\n  @IsOptional()\n  @IsString({ message: 'User agent deve ser uma string' })\n  user_agent: string;\n\n  @Column({ type: 'jsonb', nullable: true })\n  @IsOptional()\n  detalhes: Record<string, any>;\n}\n"],"version":3}