95948ea1ad5a9b5369eb3efd6c1d4ee6
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var _a, _b, _c, _d, _e;
Object.defineProperty(exports, "__esModule", { value: true });
exports.PagamentoController = void 0;
const common_1 = require("@nestjs/common");
const swagger_1 = require("@nestjs/swagger");
const pagamento_service_1 = require("../services/pagamento.service");
const pagamento_create_dto_1 = require("../dtos/pagamento-create.dto");
const pagamento_response_dto_1 = require("../dtos/pagamento-response.dto");
const status_pagamento_enum_1 = require("../../../enums/status-pagamento.enum");
const pagamento_access_guard_1 = require("../guards/pagamento-access.guard");
const pagamento_access_decorator_1 = require("../decorators/pagamento-access.decorator");
const common_2 = require("@nestjs/common");
/**
 * Controller para gerenciamento de pagamentos
 *
 * Este controller expõe endpoints para gerenciar o ciclo de vida de pagamentos
 * no sistema, incluindo criação, consulta, cancelamento e listagem.
 *
 * @author Equipe PGBen
 */
let PagamentoController = class PagamentoController {
    pagamentoService;
    constructor(pagamentoService) {
        this.pagamentoService = pagamentoService;
    }
    /**
     * Lista pagamentos com filtros e paginação
     */
    async findAll(status, unidadeId, dataInicio, dataFim, metodoPagamento, page, limit) {
        const pagamentos = await this.pagamentoService.findAll({
            status,
            unidadeId,
            dataInicio,
            dataFim,
            metodoPagamento,
            page: page ? Number(page) : 1,
            limit: limit ? Number(limit) : 10
        });
        // Mapear para DTOs de resposta com dados sensíveis mascarados
        const responseDtos = pagamentos.items.map(pagamento => {
            // Implementação do mapeamento para PagamentoResponseDto
            return {
                id: pagamento.id,
                solicitacaoId: pagamento.solicitacaoId,
                infoBancariaId: pagamento.infoBancariaId,
                valor: pagamento.valor,
                dataLiberacao: pagamento.dataLiberacao,
                status: pagamento.status,
                metodoPagamento: pagamento.metodoPagamento,
                responsavelLiberacao: {
                    id: 'placeholder', // seria obtido da entidade Usuario
                    nome: 'Técnico Responsável',
                    cargo: 'Técnico SEMTAS'
                },
                quantidadeComprovantes: 0, // seria calculado pela relação
                observacoes: pagamento.observacoes,
                createdAt: pagamento.created_at,
                updatedAt: pagamento.updated_at
            };
        });
        return {
            items: responseDtos,
            total: pagamentos.total,
            page: pagamentos.page,
            limit: pagamentos.limit
        };
    }
    /**
     * Retorna detalhes de um pagamento específico
     */
    async findOne(id) {
        const pagamento = await this.pagamentoService.findOneWithRelations(id);
        if (!pagamento) {
            throw new common_2.NotFoundException('Pagamento não encontrado');
        }
        // Mapear para DTO de resposta com dados sensíveis mascarados
        return {
            id: pagamento.id,
            solicitacaoId: pagamento.solicitacaoId,
            infoBancariaId: pagamento.infoBancariaId,
            valor: pagamento.valor,
            dataLiberacao: pagamento.dataLiberacao,
            status: pagamento.status,
            metodoPagamento: pagamento.metodoPagamento,
            responsavelLiberacao: {
                id: 'placeholder', // seria obtido da entidade Usuario
                nome: 'Técnico Responsável',
                cargo: 'Técnico SEMTAS'
            },
            quantidadeComprovantes: pagamento.comprovantes?.length || 0,
            confirmacaoRecebimento: pagamento.confirmacoes?.length ? {
                id: pagamento.confirmacoes[0].id,
                dataConfirmacao: pagamento.confirmacoes[0].dataConfirmacao,
                metodoConfirmacao: pagamento.confirmacoes[0].metodoConfirmacao,
                responsavel: {
                    id: 'placeholder',
                    nome: 'Responsável Confirmação'
                }
            } : undefined,
            observacoes: pagamento.observacoes,
            createdAt: pagamento.created_at,
            updatedAt: pagamento.updated_at
        };
    }
    /**
     * Registra a liberação de um pagamento para uma solicitação aprovada
     */
    async createPagamento(solicitacaoId, createDto) {
        // Usar o ID do usuário atual
        const usuarioId = 'placeholder'; // usuario.id;
        const pagamento = await this.pagamentoService.createPagamento(solicitacaoId, createDto, usuarioId);
        // Mapear para DTO de resposta
        return {
            id: pagamento.id,
            solicitacaoId: pagamento.solicitacaoId,
            infoBancariaId: pagamento.infoBancariaId,
            valor: pagamento.valor,
            dataLiberacao: pagamento.dataLiberacao,
            status: pagamento.status,
            metodoPagamento: pagamento.metodoPagamento,
            responsavelLiberacao: {
                id: usuarioId,
                nome: 'Técnico Responsável',
                cargo: 'Técnico SEMTAS'
            },
            quantidadeComprovantes: 0,
            observacoes: pagamento.observacoes,
            createdAt: pagamento.created_at,
            updatedAt: pagamento.updated_at
        };
    }
    /**
     * Cancela um pagamento existente
     */
    async cancelPagamento(id, cancelDto) {
        // Usar o ID do usuário atual
        const usuarioId = 'placeholder'; // usuario.id;
        const pagamento = await this.pagamentoService.cancelarPagamento(id, usuarioId, cancelDto.motivoCancelamento);
        // Mapear para DTO de resposta
        return {
            id: pagamento.id,
            solicitacaoId: pagamento.solicitacaoId,
            infoBancariaId: pagamento.infoBancariaId,
            valor: pagamento.valor,
            dataLiberacao: pagamento.dataLiberacao,
            status: pagamento.status,
            metodoPagamento: pagamento.metodoPagamento,
            responsavelLiberacao: {
                id: 'placeholder',
                nome: 'Técnico Responsável',
                cargo: 'Técnico SEMTAS'
            },
            quantidadeComprovantes: 0,
            observacoes: pagamento.observacoes,
            createdAt: pagamento.created_at,
            updatedAt: pagamento.updated_at
        };
    }
    /**
     * Lista pagamentos pendentes (liberados mas não confirmados)
     */
    async findPendentes(unidadeId, tipoBeneficioId, page, limit) {
        const pagamentos = await this.pagamentoService.findPendentes({
            unidadeId,
            tipoBeneficioId,
            page: page ? Number(page) : 1,
            limit: limit ? Number(limit) : 10
        });
        // Mapear para DTOs de resposta
        const responseDtos = pagamentos.items.map(pagamento => {
            return {
                id: pagamento.id,
                solicitacaoId: pagamento.solicitacaoId,
                infoBancariaId: pagamento.infoBancariaId,
                valor: pagamento.valor,
                dataLiberacao: pagamento.dataLiberacao,
                status: pagamento.status,
                metodoPagamento: pagamento.metodoPagamento,
                responsavelLiberacao: {
                    id: 'placeholder',
                    nome: 'Técnico Responsável',
                    cargo: 'Técnico SEMTAS'
                },
                quantidadeComprovantes: 0,
                observacoes: pagamento.observacoes,
                createdAt: pagamento.created_at,
                updatedAt: pagamento.updated_at
            };
        });
        return {
            items: responseDtos,
            total: pagamentos.total,
            page: pagamentos.page,
            limit: pagamentos.limit
        };
    }
    /**
     * Obtém informações bancárias/PIX cadastradas para o beneficiário
     */
    async getInfoBancarias(beneficiarioId) {
        // Esta implementação seria integrada com o serviço de cidadão/beneficiário
        // const infoBancarias = await this.cidadaoService.getInfoBancarias(beneficiarioId);
        // Retorno mockado para demonstração
        return [
            {
                id: 'placeholder-id-1',
                banco: 'Banco do Brasil',
                agencia: '1234',
                conta: '12345-6',
                tipo_conta: 'Corrente',
                created_at: new Date().toISOString()
            },
            {
                id: 'placeholder-id-2',
                pix_tipo: 'email',
                pix_chave: 'b****@****.com', // mascarado para segurança
                created_at: new Date().toISOString()
            }
        ];
    }
};
exports.PagamentoController = PagamentoController;
__decorate([
    (0, common_1.Get)(),
    (0, swagger_1.ApiOperation)({ summary: 'Lista pagamentos com filtros' }),
    (0, swagger_1.ApiQuery)({ name: 'status', required: false, enum: status_pagamento_enum_1.StatusPagamentoEnum }),
    (0, swagger_1.ApiQuery)({ name: 'unidadeId', required: false }),
    (0, swagger_1.ApiQuery)({ name: 'dataInicio', required: false, type: Date }),
    (0, swagger_1.ApiQuery)({ name: 'dataFim', required: false, type: Date }),
    (0, swagger_1.ApiQuery)({ name: 'metodoPagamento', required: false }),
    (0, swagger_1.ApiQuery)({ name: 'page', required: false, type: Number }),
    (0, swagger_1.ApiQuery)({ name: 'limit', required: false, type: Number }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Lista paginada de pagamentos',
        schema: {
            type: 'object',
            properties: {
                items: {
                    type: 'array',
                    items: { type: 'object', $ref: '#/components/schemas/PagamentoResponseDto' }
                },
                total: { type: 'number' },
                page: { type: 'number' },
                limit: { type: 'number' }
            }
        }
    }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Acesso negado' }),
    (0, common_1.UseGuards)(pagamento_access_guard_1.PagamentoAccessGuard),
    (0, pagamento_access_decorator_1.OperadorOuAdmin)(),
    (0, pagamento_access_decorator_1.VerificarUnidade)(false),
    __param(0, (0, common_1.Query)('status')),
    __param(1, (0, common_1.Query)('unidadeId')),
    __param(2, (0, common_1.Query)('dataInicio')),
    __param(3, (0, common_1.Query)('dataFim')),
    __param(4, (0, common_1.Query)('metodoPagamento')),
    __param(5, (0, common_1.Query)('page')),
    __param(6, (0, common_1.Query)('limit')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [typeof (_b = typeof status_pagamento_enum_1.StatusPagamentoEnum !== "undefined" && status_pagamento_enum_1.StatusPagamentoEnum) === "function" ? _b : Object, String, typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object, typeof (_d = typeof Date !== "undefined" && Date) === "function" ? _d : Object, String, Number, Number]),
    __metadata("design:returntype", Promise)
], PagamentoController.prototype, "findAll", null);
__decorate([
    (0, common_1.Get)(':id'),
    (0, swagger_1.ApiOperation)({ summary: 'Retorna detalhes de um pagamento específico' }),
    (0, swagger_1.ApiParam)({ name: 'id', type: 'string', description: 'ID do pagamento' }),
    (0, swagger_1.ApiResponse)({ status: 200, description: 'Detalhes do pagamento', type: pagamento_response_dto_1.PagamentoResponseDto }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Pagamento não encontrado' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Acesso negado' }),
    (0, common_1.UseGuards)(pagamento_access_guard_1.PagamentoAccessGuard),
    (0, pagamento_access_decorator_1.OperadorOuAdmin)(),
    (0, pagamento_access_decorator_1.VerificarUnidade)(true),
    __param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], PagamentoController.prototype, "findOne", null);
__decorate([
    (0, common_1.Post)('liberar/:solicitacaoId'),
    (0, swagger_1.ApiOperation)({ summary: 'Registra a liberação de um pagamento para uma solicitação aprovada' }),
    (0, swagger_1.ApiParam)({ name: 'solicitacaoId', type: 'string', description: 'ID da solicitação' }),
    (0, swagger_1.ApiResponse)({ status: 201, description: 'Pagamento registrado com sucesso', type: pagamento_response_dto_1.PagamentoResponseDto }),
    (0, swagger_1.ApiResponse)({ status: 400, description: 'Dados inválidos ou solicitação não aprovada' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Acesso negado' }),
    (0, common_1.UseGuards)(pagamento_access_guard_1.PagamentoAccessGuard),
    (0, pagamento_access_decorator_1.OperadorOuAdmin)(),
    (0, pagamento_access_decorator_1.VerificarUnidade)(true),
    __param(0, (0, common_1.Param)('solicitacaoId', common_1.ParseUUIDPipe)),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, typeof (_e = typeof pagamento_create_dto_1.PagamentoCreateDto !== "undefined" && pagamento_create_dto_1.PagamentoCreateDto) === "function" ? _e : Object]),
    __metadata("design:returntype", Promise)
], PagamentoController.prototype, "createPagamento", null);
__decorate([
    (0, common_1.Patch)(':id/cancelar'),
    (0, swagger_1.ApiOperation)({ summary: 'Cancela um pagamento existente' }),
    (0, swagger_1.ApiParam)({ name: 'id', type: 'string', description: 'ID do pagamento' }),
    (0, swagger_1.ApiResponse)({ status: 200, description: 'Pagamento cancelado com sucesso', type: pagamento_response_dto_1.PagamentoResponseDto }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Pagamento não encontrado' }),
    (0, swagger_1.ApiResponse)({ status: 409, description: 'Pagamento não pode ser cancelado' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Acesso negado' }),
    (0, common_1.UseGuards)(pagamento_access_guard_1.PagamentoAccessGuard),
    (0, pagamento_access_decorator_1.ApenasAdmin)(),
    (0, pagamento_access_decorator_1.VerificarUnidade)(true),
    __param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, Object]),
    __metadata("design:returntype", Promise)
], PagamentoController.prototype, "cancelPagamento", null);
__decorate([
    (0, common_1.Get)('pendentes'),
    (0, swagger_1.ApiOperation)({ summary: 'Lista pagamentos pendentes (liberados mas não confirmados)' }),
    (0, swagger_1.ApiQuery)({ name: 'unidadeId', required: false }),
    (0, swagger_1.ApiQuery)({ name: 'tipoBeneficioId', required: false }),
    (0, swagger_1.ApiQuery)({ name: 'page', required: false, type: Number }),
    (0, swagger_1.ApiQuery)({ name: 'limit', required: false, type: Number }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Lista de pagamentos pendentes',
        schema: {
            type: 'object',
            properties: {
                items: {
                    type: 'array',
                    items: { type: 'object', $ref: '#/components/schemas/PagamentoResponseDto' }
                },
                total: { type: 'number' },
                page: { type: 'number' },
                limit: { type: 'number' }
            }
        }
    }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Acesso negado' }),
    (0, common_1.UseGuards)(pagamento_access_guard_1.PagamentoAccessGuard),
    (0, pagamento_access_decorator_1.OperadorOuAdmin)(),
    (0, pagamento_access_decorator_1.VerificarUnidade)(false),
    __param(0, (0, common_1.Query)('unidadeId')),
    __param(1, (0, common_1.Query)('tipoBeneficioId')),
    __param(2, (0, common_1.Query)('page')),
    __param(3, (0, common_1.Query)('limit')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, String, Number, Number]),
    __metadata("design:returntype", Promise)
], PagamentoController.prototype, "findPendentes", null);
__decorate([
    (0, common_1.Get)('info-bancarias/:beneficiarioId'),
    (0, swagger_1.ApiOperation)({ summary: 'Obtém informações bancárias/PIX cadastradas para o beneficiário' }),
    (0, swagger_1.ApiParam)({ name: 'beneficiarioId', type: 'string', description: 'ID do beneficiário' }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Lista de informações bancárias',
        schema: {
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    id: { type: 'string' },
                    banco: { type: 'string' },
                    agencia: { type: 'string' },
                    conta: { type: 'string' },
                    tipo_conta: { type: 'string' },
                    pix_tipo: { type: 'string' },
                    pix_chave: { type: 'string' },
                    created_at: { type: 'string', format: 'date-time' }
                }
            }
        }
    }),
    (0, swagger_1.ApiResponse)({ status: 404, description: 'Beneficiário não encontrado' }),
    (0, swagger_1.ApiResponse)({ status: 403, description: 'Acesso negado' }),
    (0, common_1.UseGuards)(pagamento_access_guard_1.PagamentoAccessGuard),
    (0, pagamento_access_decorator_1.OperadorOuAdmin)(),
    (0, pagamento_access_decorator_1.VerificarUnidade)(true),
    __param(0, (0, common_1.Param)('beneficiarioId', common_1.ParseUUIDPipe)),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], PagamentoController.prototype, "getInfoBancarias", null);
exports.PagamentoController = PagamentoController = __decorate([
    (0, swagger_1.ApiTags)('Pagamentos'),
    (0, common_1.Controller)('pagamentos'),
    __metadata("design:paramtypes", [typeof (_a = typeof pagamento_service_1.PagamentoService !== "undefined" && pagamento_service_1.PagamentoService) === "function" ? _a : Object])
], PagamentoController);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXHBhZ2FtZW50b1xcY29udHJvbGxlcnNcXHBhZ2FtZW50by5jb250cm9sbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBNEc7QUFDNUcsNkNBQXlGO0FBQ3pGLHFFQUFpRTtBQUNqRSx1RUFBa0U7QUFDbEUsMkVBQXNFO0FBQ3RFLGdGQUEyRTtBQUMzRSw2RUFBd0U7QUFDeEUseUZBQTBIO0FBQzFILDJDQUFtRDtBQUVuRDs7Ozs7OztHQU9HO0FBR0ksSUFBTSxtQkFBbUIsR0FBekIsTUFBTSxtQkFBbUI7SUFFWDtJQURuQixZQUNtQixnQkFBa0M7UUFBbEMscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtJQUVsRCxDQUFDO0lBRUo7O09BRUc7SUE4QkcsQUFBTixLQUFLLENBQUMsT0FBTyxDQUNNLE1BQTRCLEVBQ3pCLFNBQWtCLEVBQ2pCLFVBQWlCLEVBQ3BCLE9BQWMsRUFDTixlQUF3QixFQUNuQyxJQUFhLEVBQ1osS0FBYztRQUU5QixNQUFNLFVBQVUsR0FBRyxNQUFNLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUM7WUFDckQsTUFBTTtZQUNOLFNBQVM7WUFDVCxVQUFVO1lBQ1YsT0FBTztZQUNQLGVBQWU7WUFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0IsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1NBQ2xDLENBQUMsQ0FBQztRQUVILDhEQUE4RDtRQUM5RCxNQUFNLFlBQVksR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNwRCx3REFBd0Q7WUFDeEQsT0FBTztnQkFD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RUFBRSw2QkFBNkIsRUFBRSxDQUFDO0lBQ3hFLElBQUEscUJBQVcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGVBQWUsRUFBRSxDQUFDO0lBQzFELElBQUEsa0JBQVMsRUFBQyw2Q0FBb0IsQ0FBQztJQUMvQixJQUFBLDRDQUFlLEdBQUU7SUFDakIsSUFBQSw2Q0FBZ0IsRUFBQyxJQUFJLENBQUM7SUFDQyxXQUFBLElBQUEsY0FBSyxFQUFDLGdCQUFnQixFQUFFLHNCQUFhLENBQUMsQ0FBQTs7OzsyREFxQjdEOzhCQXBXVSxtQkFBbUI7SUFGL0IsSUFBQSxpQkFBTyxFQUFDLFlBQVksQ0FBQztJQUNyQixJQUFBLG1CQUFVLEVBQUMsWUFBWSxDQUFDO3lEQUdjLG9DQUFnQixvQkFBaEIsb0NBQWdCO0dBRjFDLG1CQUFtQixDQXFXL0IiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXHBhZ2FtZW50b1xcY29udHJvbGxlcnNcXHBhZ2FtZW50by5jb250cm9sbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvZHksIENvbnRyb2xsZXIsIEdldCwgUGFyYW0sIFBhcnNlVVVJRFBpcGUsIFBhdGNoLCBQb3N0LCBRdWVyeSwgVXNlR3VhcmRzIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgQXBpT3BlcmF0aW9uLCBBcGlQYXJhbSwgQXBpUXVlcnksIEFwaVJlc3BvbnNlLCBBcGlUYWdzIH0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbmltcG9ydCB7IFBhZ2FtZW50b1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9wYWdhbWVudG8uc2VydmljZSc7XG5pbXBvcnQgeyBQYWdhbWVudG9DcmVhdGVEdG8gfSBmcm9tICcuLi9kdG9zL3BhZ2FtZW50by1jcmVhdGUuZHRvJztcbmltcG9ydCB7IFBhZ2FtZW50b1Jlc3BvbnNlRHRvIH0gZnJvbSAnLi4vZHRvcy9wYWdhbWVudG8tcmVzcG9uc2UuZHRvJztcbmltcG9ydCB7IFN0YXR1c1BhZ2FtZW50b0VudW0gfSBmcm9tICcuLi8uLi8uLi9lbnVtcy9zdGF0dXMtcGFnYW1lbnRvLmVudW0nO1xuaW1wb3J0IHsgUGFnYW1lbnRvQWNjZXNzR3VhcmQgfSBmcm9tICcuLi9ndWFyZHMvcGFnYW1lbnRvLWFjY2Vzcy5ndWFyZCc7XG5pbXBvcnQgeyBBcGVuYXNBZG1pbiwgQXVkaXRvck91QWRtaW4sIE9wZXJhZG9yT3VBZG1pbiwgVmVyaWZpY2FyVW5pZGFkZSB9IGZyb20gJy4uL2RlY29yYXRvcnMvcGFnYW1lbnRvLWFjY2Vzcy5kZWNvcmF0b3InO1xuaW1wb3J0IHsgTm90Rm91bmRFeGNlcHRpb24gfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5cbi8qKlxuICogQ29udHJvbGxlciBwYXJhIGdlcmVuY2lhbWVudG8gZGUgcGFnYW1lbnRvc1xuICogXG4gKiBFc3RlIGNvbnRyb2xsZXIgZXhww7VlIGVuZHBvaW50cyBwYXJhIGdlcmVuY2lhciBvIGNpY2xvIGRlIHZpZGEgZGUgcGFnYW1lbnRvc1xuICogbm8gc2lzdGVtYSwgaW5jbHVpbmRvIGNyaWHDp8OjbywgY29uc3VsdGEsIGNhbmNlbGFtZW50byBlIGxpc3RhZ2VtLlxuICogXG4gKiBAYXV0aG9yIEVxdWlwZSBQR0JlblxuICovXG5AQXBpVGFncygnUGFnYW1lbnRvcycpXG5AQ29udHJvbGxlcigncGFnYW1lbnRvcycpXG5leHBvcnQgY2xhc3MgUGFnYW1lbnRvQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFnYW1lbnRvU2VydmljZTogUGFnYW1lbnRvU2VydmljZSxcbiAgICAvLyBPdXRyb3Mgc2VydmnDp29zIG5lY2Vzc8OhcmlvcyBzZXLDo28gaW5qZXRhZG9zIGFxdWlcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBMaXN0YSBwYWdhbWVudG9zIGNvbSBmaWx0cm9zIGUgcGFnaW5hw6fDo29cbiAgICovXG4gIEBHZXQoKVxuICBAQXBpT3BlcmF0aW9uKHsgc3VtbWFyeTogJ0xpc3RhIHBhZ2FtZW50b3MgY29tIGZpbHRyb3MnIH0pXG4gIEBBcGlRdWVyeSh7IG5hbWU6ICdzdGF0dXMnLCByZXF1aXJlZDogZmFsc2UsIGVudW06IFN0YXR1c1BhZ2FtZW50b0VudW0gfSlcbiAgQEFwaVF1ZXJ5KHsgbmFtZTogJ3VuaWRhZGVJZCcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuICBAQXBpUXVlcnkoeyBuYW1lOiAnZGF0YUluaWNpbycsIHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogRGF0ZSB9KVxuICBAQXBpUXVlcnkoeyBuYW1lOiAnZGF0YUZpbScsIHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogRGF0ZSB9KVxuICBAQXBpUXVlcnkoeyBuYW1lOiAnbWV0b2RvUGFnYW1lbnRvJywgcmVxdWlyZWQ6IGZhbHNlIH0pXG4gIEBBcGlRdWVyeSh7IG5hbWU6ICdwYWdlJywgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBOdW1iZXIgfSlcbiAgQEFwaVF1ZXJ5KHsgbmFtZTogJ2xpbWl0JywgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBOdW1iZXIgfSlcbiAgQEFwaVJlc3BvbnNlKHsgXG4gICAgc3RhdHVzOiAyMDAsIFxuICAgIGRlc2NyaXB0aW9uOiAnTGlzdGEgcGFnaW5hZGEgZGUgcGFnYW1lbnRvcycsXG4gICAgc2NoZW1hOiB7XG4gICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgIGl0ZW1zOiB7IHR5cGU6ICdvYmplY3QnLCAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvUGFnYW1lbnRvUmVzcG9uc2VEdG8nIH1cbiAgICAgICAgfSxcbiAgICAgICAgdG90YWw6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgcGFnZTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICBsaW1pdDogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICB9XG4gICAgfVxuICB9KVxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMywgZGVzY3JpcHRpb246ICdBY2Vzc28gbmVnYWRvJyB9KVxuICBAVXNlR3VhcmRzKFBhZ2FtZW50b0FjY2Vzc0d1YXJkKVxuICBAT3BlcmFkb3JPdUFkbWluKClcbiAgQFZlcmlmaWNhclVuaWRhZGUoZmFsc2UpXG4gIGFzeW5jIGZpbmRBbGwoXG4gICAgQFF1ZXJ5KCdzdGF0dXMnKSBzdGF0dXM/OiBTdGF0dXNQYWdhbWVudG9FbnVtLFxuICAgIEBRdWVyeSgndW5pZGFkZUlkJykgdW5pZGFkZUlkPzogc3RyaW5nLFxuICAgIEBRdWVyeSgnZGF0YUluaWNpbycpIGRhdGFJbmljaW8/OiBEYXRlLFxuICAgIEBRdWVyeSgnZGF0YUZpbScpIGRhdGFGaW0/OiBEYXRlLFxuICAgIEBRdWVyeSgnbWV0b2RvUGFnYW1lbnRvJykgbWV0b2RvUGFnYW1lbnRvPzogc3RyaW5nLFxuICAgIEBRdWVyeSgncGFnZScpIHBhZ2U/OiBudW1iZXIsXG4gICAgQFF1ZXJ5KCdsaW1pdCcpIGxpbWl0PzogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCBwYWdhbWVudG9zID0gYXdhaXQgdGhpcy5wYWdhbWVudG9TZXJ2aWNlLmZpbmRBbGwoe1xuICAgICAgc3RhdHVzLFxuICAgICAgdW5pZGFkZUlkLFxuICAgICAgZGF0YUluaWNpbyxcbiAgICAgIGRhdGFGaW0sXG4gICAgICBtZXRvZG9QYWdhbWVudG8sXG4gICAgICBwYWdlOiBwYWdlID8gTnVtYmVyKHBhZ2UpIDogMSxcbiAgICAgIGxpbWl0OiBsaW1pdCA/IE51bWJlcihsaW1pdCkgOiAxMFxuICAgIH0pO1xuXG4gICAgLy8gTWFwZWFyIHBhcmEgRFRPcyBkZSByZXNwb3N0YSBjb20gZGFkb3Mgc2Vuc8OtdmVpcyBtYXNjYXJhZG9zXG4gICAgY29uc3QgcmVzcG9uc2VEdG9zID0gcGFnYW1lbnRvcy5pdGVtcy5tYXAocGFnYW1lbnRvID0+IHtcbiAgICAgIC8vIEltcGxlbWVudGHDp8OjbyBkbyBtYXBlYW1lbnRvIHBhcmEgUGFnYW1lbnRvUmVzcG9uc2VEdG9cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBwYWdhbWVudG8uaWQsXG4gICAgICAgIHNvbGljaXRhY2FvSWQ6IHBhZ2FtZW50by5zb2xpY2l0YWNhb0lkLFxuICAgICAgICBpbmZvQmFuY2FyaWFJZDogcGFnYW1lbnRvLmluZm9CYW5jYXJpYUlkLFxuICAgICAgICB2YWxvcjogcGFnYW1lbnRvLnZhbG9yLFxuICAgICAgICBkYXRhTGliZXJhY2FvOiBwYWdhbWVudG8uZGF0YUxpYmVyYWNhbyxcbiAgICAgICAgc3RhdHVzOiBwYWdhbWVudG8uc3RhdHVzLFxuICAgICAgICBtZXRvZG9QYWdhbWVudG86IHBhZ2FtZW50by5tZXRvZG9QYWdhbWVudG8sXG4gICAgICAgIHJlc3BvbnNhdmVsTGliZXJhY2FvOiB7XG4gICAgICAgICAgaWQ6ICdwbGFjZWhvbGRlcicsIC8vIHNlcmlhIG9idGlkbyBkYSBlbnRpZGFkZSBVc3VhcmlvXG4gICAgICAgICAgbm9tZTogJ1TDqWNuaWNvIFJlc3BvbnPDoXZlbCcsXG4gICAgICAgICAgY2FyZ286ICdUw6ljbmljbyBTRU1UQVMnXG4gICAgICAgIH0sXG4gICAgICAgIHF1YW50aWRhZGVDb21wcm92YW50ZXM6IDAsIC8vIHNlcmlhIGNhbGN1bGFkbyBwZWxhIHJlbGHDp8Ojb1xuICAgICAgICBvYnNlcnZhY29lczogcGFnYW1lbnRvLm9ic2VydmFjb2VzLFxuICAgICAgICBjcmVhdGVkQXQ6IHBhZ2FtZW50by5jcmVhdGVkX2F0LFxuICAgICAgICB1cGRhdGVkQXQ6IHBhZ2FtZW50by51cGRhdGVkX2F0XG4gICAgICB9IGFzIFBhZ2FtZW50b1Jlc3BvbnNlRHRvO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGl0ZW1zOiByZXNwb25zZUR0b3MsXG4gICAgICB0b3RhbDogcGFnYW1lbnRvcy50b3RhbCxcbiAgICAgIHBhZ2U6IHBhZ2FtZW50b3MucGFnZSxcbiAgICAgIGxpbWl0OiBwYWdhbWVudG9zLmxpbWl0XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRvcm5hIGRldGFsaGVzIGRlIHVtIHBhZ2FtZW50byBlc3BlY8OtZmljb1xuICAgKi9cbiAgQEdldCgnOmlkJylcbiAgQEFwaU9wZXJhdGlvbih7IHN1bW1hcnk6ICdSZXRvcm5hIGRldGFsaGVzIGRlIHVtIHBhZ2FtZW50byBlc3BlY8OtZmljbycgfSlcbiAgQEFwaVBhcmFtKHsgbmFtZTogJ2lkJywgdHlwZTogJ3N0cmluZycsIGRlc2NyaXB0aW9uOiAnSUQgZG8gcGFnYW1lbnRvJyB9KVxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDIwMCwgZGVzY3JpcHRpb246ICdEZXRhbGhlcyBkbyBwYWdhbWVudG8nLCB0eXBlOiBQYWdhbWVudG9SZXNwb25zZUR0byB9KVxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwNCwgZGVzY3JpcHRpb246ICdQYWdhbWVudG8gbsOjbyBlbmNvbnRyYWRvJyB9KVxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMywgZGVzY3JpcHRpb246ICdBY2Vzc28gbmVnYWRvJyB9KVxuICBAVXNlR3VhcmRzKFBhZ2FtZW50b0FjY2Vzc0d1YXJkKVxuICBAT3BlcmFkb3JPdUFkbWluKClcbiAgQFZlcmlmaWNhclVuaWRhZGUodHJ1ZSlcbiAgYXN5bmMgZmluZE9uZShAUGFyYW0oJ2lkJywgUGFyc2VVVUlEUGlwZSkgaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHBhZ2FtZW50byA9IGF3YWl0IHRoaXMucGFnYW1lbnRvU2VydmljZS5maW5kT25lV2l0aFJlbGF0aW9ucyhpZCk7XG4gICAgXG4gICAgaWYgKCFwYWdhbWVudG8pIHtcbiAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbignUGFnYW1lbnRvIG7Do28gZW5jb250cmFkbycpO1xuICAgIH1cblxuICAgIC8vIE1hcGVhciBwYXJhIERUTyBkZSByZXNwb3N0YSBjb20gZGFkb3Mgc2Vuc8OtdmVpcyBtYXNjYXJhZG9zXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwYWdhbWVudG8uaWQsXG4gICAgICBzb2xpY2l0YWNhb0lkOiBwYWdhbWVudG8uc29saWNpdGFjYW9JZCxcbiAgICAgIGluZm9CYW5jYXJpYUlkOiBwYWdhbWVudG8uaW5mb0JhbmNhcmlhSWQsXG4gICAgICB2YWxvcjogcGFnYW1lbnRvLnZhbG9yLFxuICAgICAgZGF0YUxpYmVyYWNhbzogcGFnYW1lbnRvLmRhdGFMaWJlcmFjYW8sXG4gICAgICBzdGF0dXM6IHBhZ2FtZW50by5zdGF0dXMsXG4gICAgICBtZXRvZG9QYWdhbWVudG86IHBhZ2FtZW50by5tZXRvZG9QYWdhbWVudG8sXG4gICAgICByZXNwb25zYXZlbExpYmVyYWNhbzoge1xuICAgICAgICBpZDogJ3BsYWNlaG9sZGVyJywgLy8gc2VyaWEgb2J0aWRvIGRhIGVudGlkYWRlIFVzdWFyaW9cbiAgICAgICAgbm9tZTogJ1TDqWNuaWNvIFJlc3BvbnPDoXZlbCcsXG4gICAgICAgIGNhcmdvOiAnVMOpY25pY28gU0VNVEFTJ1xuICAgICAgfSxcbiAgICAgIHF1YW50aWRhZGVDb21wcm92YW50ZXM6IHBhZ2FtZW50by5jb21wcm92YW50ZXM/Lmxlbmd0aCB8fCAwLFxuICAgICAgY29uZmlybWFjYW9SZWNlYmltZW50bzogcGFnYW1lbnRvLmNvbmZpcm1hY29lcz8ubGVuZ3RoID8ge1xuICAgICAgICBpZDogcGFnYW1lbnRvLmNvbmZpcm1hY29lc1swXS5pZCxcbiAgICAgICAgZGF0YUNvbmZpcm1hY2FvOiBwYWdhbWVudG8uY29uZmlybWFjb2VzWzBdLmRhdGFDb25maXJtYWNhbyxcbiAgICAgICAgbWV0b2RvQ29uZmlybWFjYW86IHBhZ2FtZW50by5jb25maXJtYWNvZXNbMF0ubWV0b2RvQ29uZmlybWFjYW8sXG4gICAgICAgIHJlc3BvbnNhdmVsOiB7XG4gICAgICAgICAgaWQ6ICdwbGFjZWhvbGRlcicsXG4gICAgICAgICAgbm9tZTogJ1Jlc3BvbnPDoXZlbCBDb25maXJtYcOnw6NvJ1xuICAgICAgICB9XG4gICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgb2JzZXJ2YWNvZXM6IHBhZ2FtZW50by5vYnNlcnZhY29lcyxcbiAgICAgIGNyZWF0ZWRBdDogcGFnYW1lbnRvLmNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkQXQ6IHBhZ2FtZW50by51cGRhdGVkX2F0XG4gICAgfSBhcyBQYWdhbWVudG9SZXNwb25zZUR0bztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RyYSBhIGxpYmVyYcOnw6NvIGRlIHVtIHBhZ2FtZW50byBwYXJhIHVtYSBzb2xpY2l0YcOnw6NvIGFwcm92YWRhXG4gICAqL1xuICBAUG9zdCgnbGliZXJhci86c29saWNpdGFjYW9JZCcpXG4gIEBBcGlPcGVyYXRpb24oeyBzdW1tYXJ5OiAnUmVnaXN0cmEgYSBsaWJlcmHDp8OjbyBkZSB1bSBwYWdhbWVudG8gcGFyYSB1bWEgc29saWNpdGHDp8OjbyBhcHJvdmFkYScgfSlcbiAgQEFwaVBhcmFtKHsgbmFtZTogJ3NvbGljaXRhY2FvSWQnLCB0eXBlOiAnc3RyaW5nJywgZGVzY3JpcHRpb246ICdJRCBkYSBzb2xpY2l0YcOnw6NvJyB9KVxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDIwMSwgZGVzY3JpcHRpb246ICdQYWdhbWVudG8gcmVnaXN0cmFkbyBjb20gc3VjZXNzbycsIHR5cGU6IFBhZ2FtZW50b1Jlc3BvbnNlRHRvIH0pXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDAwLCBkZXNjcmlwdGlvbjogJ0RhZG9zIGludsOhbGlkb3Mgb3Ugc29saWNpdGHDp8OjbyBuw6NvIGFwcm92YWRhJyB9KVxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMywgZGVzY3JpcHRpb246ICdBY2Vzc28gbmVnYWRvJyB9KVxuICBAVXNlR3VhcmRzKFBhZ2FtZW50b0FjY2Vzc0d1YXJkKVxuICBAT3BlcmFkb3JPdUFkbWluKClcbiAgQFZlcmlmaWNhclVuaWRhZGUodHJ1ZSlcbiAgYXN5bmMgY3JlYXRlUGFnYW1lbnRvKFxuICAgIEBQYXJhbSgnc29saWNpdGFjYW9JZCcsIFBhcnNlVVVJRFBpcGUpIHNvbGljaXRhY2FvSWQ6IHN0cmluZyxcbiAgICBAQm9keSgpIGNyZWF0ZUR0bzogUGFnYW1lbnRvQ3JlYXRlRHRvLFxuICAgIC8vIEBDdXJyZW50VXNlcigpIHVzdWFyaW86IFVzdWFyaW9cbiAgKSB7XG4gICAgLy8gVXNhciBvIElEIGRvIHVzdcOhcmlvIGF0dWFsXG4gICAgY29uc3QgdXN1YXJpb0lkID0gJ3BsYWNlaG9sZGVyJzsgLy8gdXN1YXJpby5pZDtcbiAgICBcbiAgICBjb25zdCBwYWdhbWVudG8gPSBhd2FpdCB0aGlzLnBhZ2FtZW50b1NlcnZpY2UuY3JlYXRlUGFnYW1lbnRvKFxuICAgICAgc29saWNpdGFjYW9JZCxcbiAgICAgIGNyZWF0ZUR0byxcbiAgICAgIHVzdWFyaW9JZFxuICAgICk7XG5cbiAgICAvLyBNYXBlYXIgcGFyYSBEVE8gZGUgcmVzcG9zdGFcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBhZ2FtZW50by5pZCxcbiAgICAgIHNvbGljaXRhY2FvSWQ6IHBhZ2FtZW50by5zb2xpY2l0YWNhb0lkLFxuICAgICAgaW5mb0JhbmNhcmlhSWQ6IHBhZ2FtZW50by5pbmZvQmFuY2FyaWFJZCxcbiAgICAgIHZhbG9yOiBwYWdhbWVudG8udmFsb3IsXG4gICAgICBkYXRhTGliZXJhY2FvOiBwYWdhbWVudG8uZGF0YUxpYmVyYWNhbyxcbiAgICAgIHN0YXR1czogcGFnYW1lbnRvLnN0YXR1cyxcbiAgICAgIG1ldG9kb1BhZ2FtZW50bzogcGFnYW1lbnRvLm1ldG9kb1BhZ2FtZW50byxcbiAgICAgIHJlc3BvbnNhdmVsTGliZXJhY2FvOiB7XG4gICAgICAgIGlkOiB1c3VhcmlvSWQsXG4gICAgICAgIG5vbWU6ICdUw6ljbmljbyBSZXNwb25zw6F2ZWwnLFxuICAgICAgICBjYXJnbzogJ1TDqWNuaWNvIFNFTVRBUydcbiAgICAgIH0sXG4gICAgICBxdWFudGlkYWRlQ29tcHJvdmFudGVzOiAwLFxuICAgICAgb2JzZXJ2YWNvZXM6IHBhZ2FtZW50by5vYnNlcnZhY29lcyxcbiAgICAgIGNyZWF0ZWRBdDogcGFnYW1lbnRvLmNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkQXQ6IHBhZ2FtZW50by51cGRhdGVkX2F0XG4gICAgfSBhcyBQYWdhbWVudG9SZXNwb25zZUR0bztcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxhIHVtIHBhZ2FtZW50byBleGlzdGVudGVcbiAgICovXG4gIEBQYXRjaCgnOmlkL2NhbmNlbGFyJylcbiAgQEFwaU9wZXJhdGlvbih7IHN1bW1hcnk6ICdDYW5jZWxhIHVtIHBhZ2FtZW50byBleGlzdGVudGUnIH0pXG4gIEBBcGlQYXJhbSh7IG5hbWU6ICdpZCcsIHR5cGU6ICdzdHJpbmcnLCBkZXNjcmlwdGlvbjogJ0lEIGRvIHBhZ2FtZW50bycgfSlcbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiAyMDAsIGRlc2NyaXB0aW9uOiAnUGFnYW1lbnRvIGNhbmNlbGFkbyBjb20gc3VjZXNzbycsIHR5cGU6IFBhZ2FtZW50b1Jlc3BvbnNlRHRvIH0pXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDA0LCBkZXNjcmlwdGlvbjogJ1BhZ2FtZW50byBuw6NvIGVuY29udHJhZG8nIH0pXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDA5LCBkZXNjcmlwdGlvbjogJ1BhZ2FtZW50byBuw6NvIHBvZGUgc2VyIGNhbmNlbGFkbycgfSlcbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDMsIGRlc2NyaXB0aW9uOiAnQWNlc3NvIG5lZ2FkbycgfSlcbiAgQFVzZUd1YXJkcyhQYWdhbWVudG9BY2Nlc3NHdWFyZClcbiAgQEFwZW5hc0FkbWluKClcbiAgQFZlcmlmaWNhclVuaWRhZGUodHJ1ZSlcbiAgYXN5bmMgY2FuY2VsUGFnYW1lbnRvKFxuICAgIEBQYXJhbSgnaWQnLCBQYXJzZVVVSURQaXBlKSBpZDogc3RyaW5nLFxuICAgIEBCb2R5KCkgY2FuY2VsRHRvOiB7IG1vdGl2b0NhbmNlbGFtZW50bzogc3RyaW5nIH0sXG4gICAgLy8gQEN1cnJlbnRVc2VyKCkgdXN1YXJpbzogVXN1YXJpb1xuICApIHtcbiAgICAvLyBVc2FyIG8gSUQgZG8gdXN1w6FyaW8gYXR1YWxcbiAgICBjb25zdCB1c3VhcmlvSWQgPSAncGxhY2Vob2xkZXInOyAvLyB1c3VhcmlvLmlkO1xuICAgIFxuICAgIGNvbnN0IHBhZ2FtZW50byA9IGF3YWl0IHRoaXMucGFnYW1lbnRvU2VydmljZS5jYW5jZWxhclBhZ2FtZW50byhcbiAgICAgIGlkLFxuICAgICAgdXN1YXJpb0lkLFxuICAgICAgY2FuY2VsRHRvLm1vdGl2b0NhbmNlbGFtZW50b1xuICAgICk7XG5cbiAgICAvLyBNYXBlYXIgcGFyYSBEVE8gZGUgcmVzcG9zdGFcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBhZ2FtZW50by5pZCxcbiAgICAgIHNvbGljaXRhY2FvSWQ6IHBhZ2FtZW50by5zb2xpY2l0YWNhb0lkLFxuICAgICAgaW5mb0JhbmNhcmlhSWQ6IHBhZ2FtZW50by5pbmZvQmFuY2FyaWFJZCxcbiAgICAgIHZhbG9yOiBwYWdhbWVudG8udmFsb3IsXG4gICAgICBkYXRhTGliZXJhY2FvOiBwYWdhbWVudG8uZGF0YUxpYmVyYWNhbyxcbiAgICAgIHN0YXR1czogcGFnYW1lbnRvLnN0YXR1cyxcbiAgICAgIG1ldG9kb1BhZ2FtZW50bzogcGFnYW1lbnRvLm1ldG9kb1BhZ2FtZW50byxcbiAgICAgIHJlc3BvbnNhdmVsTGliZXJhY2FvOiB7XG4gICAgICAgIGlkOiAncGxhY2Vob2xkZXInLFxuICAgICAgICBub21lOiAnVMOpY25pY28gUmVzcG9uc8OhdmVsJyxcbiAgICAgICAgY2FyZ286ICdUw6ljbmljbyBTRU1UQVMnXG4gICAgICB9LFxuICAgICAgcXVhbnRpZGFkZUNvbXByb3ZhbnRlczogMCxcbiAgICAgIG9ic2VydmFjb2VzOiBwYWdhbWVudG8ub2JzZXJ2YWNvZXMsXG4gICAgICBjcmVhdGVkQXQ6IHBhZ2FtZW50by5jcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZEF0OiBwYWdhbWVudG8udXBkYXRlZF9hdFxuICAgIH0gYXMgUGFnYW1lbnRvUmVzcG9uc2VEdG87XG4gIH1cblxuICAvKipcbiAgICogTGlzdGEgcGFnYW1lbnRvcyBwZW5kZW50ZXMgKGxpYmVyYWRvcyBtYXMgbsOjbyBjb25maXJtYWRvcylcbiAgICovXG4gIEBHZXQoJ3BlbmRlbnRlcycpXG4gIEBBcGlPcGVyYXRpb24oeyBzdW1tYXJ5OiAnTGlzdGEgcGFnYW1lbnRvcyBwZW5kZW50ZXMgKGxpYmVyYWRvcyBtYXMgbsOjbyBjb25maXJtYWRvcyknIH0pXG4gIEBBcGlRdWVyeSh7IG5hbWU6ICd1bmlkYWRlSWQnLCByZXF1aXJlZDogZmFsc2UgfSlcbiAgQEFwaVF1ZXJ5KHsgbmFtZTogJ3RpcG9CZW5lZmljaW9JZCcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuICBAQXBpUXVlcnkoeyBuYW1lOiAncGFnZScsIHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogTnVtYmVyIH0pXG4gIEBBcGlRdWVyeSh7IG5hbWU6ICdsaW1pdCcsIHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogTnVtYmVyIH0pXG4gIEBBcGlSZXNwb25zZSh7IFxuICAgIHN0YXR1czogMjAwLCBcbiAgICBkZXNjcmlwdGlvbjogJ0xpc3RhIGRlIHBhZ2FtZW50b3MgcGVuZGVudGVzJyxcbiAgICBzY2hlbWE6IHtcbiAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBpdGVtczoge1xuICAgICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgICAgaXRlbXM6IHsgdHlwZTogJ29iamVjdCcsICRyZWY6ICcjL2NvbXBvbmVudHMvc2NoZW1hcy9QYWdhbWVudG9SZXNwb25zZUR0bycgfVxuICAgICAgICB9LFxuICAgICAgICB0b3RhbDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICBwYWdlOiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgIGxpbWl0OiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDAzLCBkZXNjcmlwdGlvbjogJ0FjZXNzbyBuZWdhZG8nIH0pXG4gIEBVc2VHdWFyZHMoUGFnYW1lbnRvQWNjZXNzR3VhcmQpXG4gIEBPcGVyYWRvck91QWRtaW4oKVxuICBAVmVyaWZpY2FyVW5pZGFkZShmYWxzZSlcbiAgYXN5bmMgZmluZFBlbmRlbnRlcyhcbiAgICBAUXVlcnkoJ3VuaWRhZGVJZCcpIHVuaWRhZGVJZD86IHN0cmluZyxcbiAgICBAUXVlcnkoJ3RpcG9CZW5lZmljaW9JZCcpIHRpcG9CZW5lZmljaW9JZD86IHN0cmluZyxcbiAgICBAUXVlcnkoJ3BhZ2UnKSBwYWdlPzogbnVtYmVyLFxuICAgIEBRdWVyeSgnbGltaXQnKSBsaW1pdD86IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3QgcGFnYW1lbnRvcyA9IGF3YWl0IHRoaXMucGFnYW1lbnRvU2VydmljZS5maW5kUGVuZGVudGVzKHtcbiAgICAgIHVuaWRhZGVJZCxcbiAgICAgIHRpcG9CZW5lZmljaW9JZCxcbiAgICAgIHBhZ2U6IHBhZ2UgPyBOdW1iZXIocGFnZSkgOiAxLFxuICAgICAgbGltaXQ6IGxpbWl0ID8gTnVtYmVyKGxpbWl0KSA6IDEwXG4gICAgfSk7XG5cbiAgICAvLyBNYXBlYXIgcGFyYSBEVE9zIGRlIHJlc3Bvc3RhXG4gICAgY29uc3QgcmVzcG9uc2VEdG9zID0gcGFnYW1lbnRvcy5pdGVtcy5tYXAocGFnYW1lbnRvID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBwYWdhbWVudG8uaWQsXG4gICAgICAgIHNvbGljaXRhY2FvSWQ6IHBhZ2FtZW50by5zb2xpY2l0YWNhb0lkLFxuICAgICAgICBpbmZvQmFuY2FyaWFJZDogcGFnYW1lbnRvLmluZm9CYW5jYXJpYUlkLFxuICAgICAgICB2YWxvcjogcGFnYW1lbnRvLnZhbG9yLFxuICAgICAgICBkYXRhTGliZXJhY2FvOiBwYWdhbWVudG8uZGF0YUxpYmVyYWNhbyxcbiAgICAgICAgc3RhdHVzOiBwYWdhbWVudG8uc3RhdHVzLFxuICAgICAgICBtZXRvZG9QYWdhbWVudG86IHBhZ2FtZW50by5tZXRvZG9QYWdhbWVudG8sXG4gICAgICAgIHJlc3BvbnNhdmVsTGliZXJhY2FvOiB7XG4gICAgICAgICAgaWQ6ICdwbGFjZWhvbGRlcicsXG4gICAgICAgICAgbm9tZTogJ1TDqWNuaWNvIFJlc3BvbnPDoXZlbCcsXG4gICAgICAgICAgY2FyZ286ICdUw6ljbmljbyBTRU1UQVMnXG4gICAgICAgIH0sXG4gICAgICAgIHF1YW50aWRhZGVDb21wcm92YW50ZXM6IDAsXG4gICAgICAgIG9ic2VydmFjb2VzOiBwYWdhbWVudG8ub2JzZXJ2YWNvZXMsXG4gICAgICAgIGNyZWF0ZWRBdDogcGFnYW1lbnRvLmNyZWF0ZWRfYXQsXG4gICAgICAgIHVwZGF0ZWRBdDogcGFnYW1lbnRvLnVwZGF0ZWRfYXRcbiAgICAgIH0gYXMgUGFnYW1lbnRvUmVzcG9uc2VEdG87XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXRlbXM6IHJlc3BvbnNlRHRvcyxcbiAgICAgIHRvdGFsOiBwYWdhbWVudG9zLnRvdGFsLFxuICAgICAgcGFnZTogcGFnYW1lbnRvcy5wYWdlLFxuICAgICAgbGltaXQ6IHBhZ2FtZW50b3MubGltaXRcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBpbmZvcm1hw6fDtWVzIGJhbmPDoXJpYXMvUElYIGNhZGFzdHJhZGFzIHBhcmEgbyBiZW5lZmljacOhcmlvXG4gICAqL1xuICBAR2V0KCdpbmZvLWJhbmNhcmlhcy86YmVuZWZpY2lhcmlvSWQnKVxuICBAQXBpT3BlcmF0aW9uKHsgc3VtbWFyeTogJ09idMOpbSBpbmZvcm1hw6fDtWVzIGJhbmPDoXJpYXMvUElYIGNhZGFzdHJhZGFzIHBhcmEgbyBiZW5lZmljacOhcmlvJyB9KVxuICBAQXBpUGFyYW0oeyBuYW1lOiAnYmVuZWZpY2lhcmlvSWQnLCB0eXBlOiAnc3RyaW5nJywgZGVzY3JpcHRpb246ICdJRCBkbyBiZW5lZmljacOhcmlvJyB9KVxuICBAQXBpUmVzcG9uc2UoeyBcbiAgICBzdGF0dXM6IDIwMCwgXG4gICAgZGVzY3JpcHRpb246ICdMaXN0YSBkZSBpbmZvcm1hw6fDtWVzIGJhbmPDoXJpYXMnLFxuICAgIHNjaGVtYToge1xuICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgIGl0ZW1zOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgaWQ6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICBiYW5jbzogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgIGFnZW5jaWE6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICBjb250YTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgIHRpcG9fY29udGE6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICBwaXhfdGlwbzogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgIHBpeF9jaGF2ZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ3N0cmluZycsIGZvcm1hdDogJ2RhdGUtdGltZScgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KVxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwNCwgZGVzY3JpcHRpb246ICdCZW5lZmljacOhcmlvIG7Do28gZW5jb250cmFkbycgfSlcbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDMsIGRlc2NyaXB0aW9uOiAnQWNlc3NvIG5lZ2FkbycgfSlcbiAgQFVzZUd1YXJkcyhQYWdhbWVudG9BY2Nlc3NHdWFyZClcbiAgQE9wZXJhZG9yT3VBZG1pbigpXG4gIEBWZXJpZmljYXJVbmlkYWRlKHRydWUpXG4gIGFzeW5jIGdldEluZm9CYW5jYXJpYXMoQFBhcmFtKCdiZW5lZmljaWFyaW9JZCcsIFBhcnNlVVVJRFBpcGUpIGJlbmVmaWNpYXJpb0lkOiBzdHJpbmcpIHtcbiAgICAvLyBFc3RhIGltcGxlbWVudGHDp8OjbyBzZXJpYSBpbnRlZ3JhZGEgY29tIG8gc2VydmnDp28gZGUgY2lkYWTDo28vYmVuZWZpY2nDoXJpb1xuICAgIC8vIGNvbnN0IGluZm9CYW5jYXJpYXMgPSBhd2FpdCB0aGlzLmNpZGFkYW9TZXJ2aWNlLmdldEluZm9CYW5jYXJpYXMoYmVuZWZpY2lhcmlvSWQpO1xuICAgIFxuICAgIC8vIFJldG9ybm8gbW9ja2FkbyBwYXJhIGRlbW9uc3RyYcOnw6NvXG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwbGFjZWhvbGRlci1pZC0xJyxcbiAgICAgICAgYmFuY286ICdCYW5jbyBkbyBCcmFzaWwnLFxuICAgICAgICBhZ2VuY2lhOiAnMTIzNCcsXG4gICAgICAgIGNvbnRhOiAnMTIzNDUtNicsXG4gICAgICAgIHRpcG9fY29udGE6ICdDb3JyZW50ZScsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwbGFjZWhvbGRlci1pZC0yJyxcbiAgICAgICAgcGl4X3RpcG86ICdlbWFpbCcsXG4gICAgICAgIHBpeF9jaGF2ZTogJ2IqKioqQCoqKiouY29tJywgLy8gbWFzY2FyYWRvIHBhcmEgc2VndXJhbsOnYVxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH1cbiAgICBdO1xuICB9XG59XG4iXSwidmVyc2lvbiI6M30=