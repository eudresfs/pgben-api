{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\token-revogado.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAMiB;AAEjB;;;;;GAKG;AAEI,IAAM,aAAa,GAAnB,MAAM,aAAa;IAExB,EAAE,CAAS;IAIX,SAAS,CAAS;IAGlB,YAAY,CAAS;IAGrB,eAAe,CAAS;IAGxB,aAAa,CAAO;IAGpB,WAAW,CAAO;IAElB,iEAAiE;IAGjE,WAAW,CAAO;CACnB,CAAA;AAxBY,sCAAa;AAExB;IADC,IAAA,gCAAsB,EAAC,MAAM,CAAC;;yCACpB;AAIX;IAFC,IAAA,gBAAM,EAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;IACtB,IAAA,eAAK,GAAE,CAAC,8BAA8B;;;gDACrB;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;mDACP;AAGrB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sDACH;AAGxB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDACjC,IAAI,oBAAJ,IAAI;oDAAC;AAGpB;IADC,IAAA,0BAAgB,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC;kDAC7B,IAAI,oBAAJ,IAAI;kDAAC;AAKlB;IAFC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC/C,IAAA,eAAK,GAAE,CAAC,0CAA0C;;kDACtC,IAAI,oBAAJ,IAAI;kDAAC;wBAvBP,aAAa;IADzB,IAAA,gBAAM,EAAC,kBAAkB,CAAC;GACd,aAAa,CAwBzB","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\entities\\token-revogado.entity.ts"],"sourcesContent":["import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  CreateDateColumn,\n  Index,\n} from 'typeorm';\n\n/**\n * Entidade que armazena tokens revogados para consulta rápida durante a validação.\n * Esta tabela é utilizada para manter um registro de tokens que foram invalidados\n * antes de sua expiração natural, servindo como uma \"lista negra\" que é consultada\n * a cada validação de token.\n */\n@Entity('tokens_revogados')\nexport class TokenRevogado {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column({ length: 64 })\n  @Index() // Índice para consulta rápida\n  tokenHash: string;\n\n  @Column({ nullable: false })\n  integradorId: string;\n\n  @Column({ nullable: true })\n  motivoRevogacao: string;\n\n  @Column({ type: 'timestamptz', nullable: true })\n  dataExpiracao: Date;\n\n  @CreateDateColumn({ type: 'timestamptz' })\n  dataCriacao: Date;\n\n  // Data em que este registro pode ser removido do banco (limpeza)\n  @Column({ type: 'timestamptz', nullable: true })\n  @Index() // Índice para facilitar limpeza periódica\n  dataLimpeza: Date;\n}\n"],"version":3}