38fb4cb4267df4ccfc9aa0299e10cd2f
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d;
Object.defineProperty(exports, "__esModule", { value: true });
exports.CampoDinamicoBeneficio = exports.TipoDado = void 0;
const typeorm_1 = require("typeorm");
const class_validator_1 = require("class-validator");
const tipo_beneficio_entity_1 = require("./tipo-beneficio.entity");
/**
 * Enum para definir os tipos de dados suportados pelos campos dinâmicos
 */
var TipoDado;
(function (TipoDado) {
    TipoDado["STRING"] = "string";
    TipoDado["NUMBER"] = "number";
    TipoDado["BOOLEAN"] = "boolean";
    TipoDado["DATE"] = "date";
    TipoDado["ARRAY"] = "array";
    TipoDado["OBJECT"] = "object";
})(TipoDado || (exports.TipoDado = TipoDado = {}));
/**
 * Entidade para campos dinâmicos de benefícios
 *
 * Permite definir campos específicos para cada tipo de benefício,
 * com validações e regras de negócio próprias.
 */
let CampoDinamicoBeneficio = class CampoDinamicoBeneficio {
    id;
    tipo_beneficio_id;
    tipo_beneficio;
    label;
    nome;
    tipo;
    obrigatorio;
    descricao;
    validacoes;
    ordem;
    ativo;
    created_at;
    updated_at;
    removed_at;
    // Getters e Setters
    get createdAt() {
        return this.created_at;
    }
    get updatedAt() {
        return this.updated_at;
    }
    get removedAt() {
        return this.removed_at;
    }
    // Métodos Utilitários
    /**
     * Verifica se o campo foi criado recentemente (últimas 24 horas)
     */
    isCriadoRecentemente() {
        const agora = new Date();
        const umDiaAtras = new Date(agora.getTime() - 24 * 60 * 60 * 1000);
        return this.created_at > umDiaAtras;
    }
    /**
     * Calcula a idade do registro em dias
     */
    getIdadeRegistroEmDias() {
        const agora = new Date();
        const diffTime = Math.abs(agora.getTime() - this.created_at.getTime());
        return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    }
    /**
     * Verifica se o campo foi removido
     */
    foiRemovido() {
        return !!this.removed_at;
    }
    /**
     * Verifica se o campo está ativo
     */
    isAtivo() {
        return this.ativo && !this.removed_at;
    }
    /**
     * Verifica se é um campo obrigatório
     */
    isObrigatorio() {
        return this.obrigatorio;
    }
    /**
     * Verifica se é um campo opcional
     */
    isOpcional() {
        return !this.obrigatorio;
    }
    /**
     * Verifica se é campo de texto
     */
    isCampoTexto() {
        return this.tipo === TipoDado.STRING;
    }
    /**
     * Verifica se é campo numérico
     */
    isCampoNumerico() {
        return this.tipo === TipoDado.NUMBER;
    }
    /**
     * Verifica se é campo booleano
     */
    isCampoBooleano() {
        return this.tipo === TipoDado.BOOLEAN;
    }
    /**
     * Verifica se é campo de data
     */
    isCampoData() {
        return this.tipo === TipoDado.DATE;
    }
    /**
     * Verifica se é campo de array
     */
    isCampoArray() {
        return this.tipo === TipoDado.ARRAY;
    }
    /**
     * Verifica se é campo de objeto
     */
    isCampoObjeto() {
        return this.tipo === TipoDado.OBJECT;
    }
    /**
     * Obtém a descrição do tipo de dado
     */
    getDescricaoTipoDado() {
        const descricoes = {
            [TipoDado.STRING]: 'Texto',
            [TipoDado.NUMBER]: 'Número',
            [TipoDado.BOOLEAN]: 'Verdadeiro/Falso',
            [TipoDado.DATE]: 'Data',
            [TipoDado.ARRAY]: 'Lista',
            [TipoDado.OBJECT]: 'Objeto',
        };
        return descricoes[this.tipo] || 'Tipo não identificado';
    }
    /**
     * Verifica se tem validações definidas
     */
    temValidacoes() {
        return !!this.validacoes && Object.keys(this.validacoes).length > 0;
    }
    /**
     * Verifica se tem validação de valor mínimo
     */
    temValidacaoMin() {
        return (this.temValidacoes() &&
            this.validacoes.min !== undefined &&
            this.validacoes.min !== null);
    }
    /**
     * Verifica se tem validação de valor máximo
     */
    temValidacaoMax() {
        return (this.temValidacoes() &&
            this.validacoes.max !== undefined &&
            this.validacoes.max !== null);
    }
    /**
     * Verifica se tem validação de comprimento mínimo
     */
    temValidacaoMinLength() {
        return (this.temValidacoes() &&
            this.validacoes.minLength !== undefined &&
            this.validacoes.minLength !== null);
    }
    /**
     * Verifica se tem validação de comprimento máximo
     */
    temValidacaoMaxLength() {
        return (this.temValidacoes() &&
            this.validacoes.maxLength !== undefined &&
            this.validacoes.maxLength !== null);
    }
    /**
     * Verifica se tem validação de padrão (regex)
     */
    temValidacaoPattern() {
        return this.temValidacoes() && !!this.validacoes.pattern;
    }
    /**
     * Verifica se tem validação de enum (lista de valores)
     */
    temValidacaoEnum() {
        return (this.temValidacoes() &&
            !!this.validacoes.enum &&
            this.validacoes.enum.length > 0);
    }
    /**
     * Verifica se tem validação de formato
     */
    temValidacaoFormat() {
        return this.temValidacoes() && !!this.validacoes.format;
    }
    /**
     * Obtém o valor mínimo
     */
    getValorMinimo() {
        if (!this.temValidacaoMin())
            return null;
        return this.validacoes.min ?? null;
    }
    /**
     * Obtém o valor máximo
     */
    getValorMaximo() {
        if (!this.temValidacaoMax())
            return null;
        return this.validacoes.max ?? null;
    }
    /**
     * Obtém o comprimento mínimo
     */
    getComprimentoMinimo() {
        if (!this.temValidacaoMinLength())
            return null;
        return this.validacoes.minLength ?? null;
    }
    /**
     * Obtém o comprimento máximo
     */
    getComprimentoMaximo() {
        if (!this.temValidacaoMaxLength())
            return null;
        return this.validacoes.maxLength ?? null;
    }
    /**
     * Obtém o padrão regex
     */
    getPadrao() {
        if (!this.temValidacaoPattern())
            return null;
        return this.validacoes.pattern ?? null;
    }
    /**
     * Obtém os valores do enum
     */
    getValoresEnum() {
        if (!this.temValidacaoEnum())
            return [];
        return this.validacoes.enum ?? [];
    }
    /**
     * Obtém o formato
     */
    getFormato() {
        if (!this.temValidacaoFormat())
            return null;
        return this.validacoes.format ?? null;
    }
    /**
     * Valida um valor contra as regras do campo
     */
    validarValor(valor) {
        const erros = [];
        // Verifica se é obrigatório
        if (this.isObrigatorio() &&
            (valor === null || valor === undefined || valor === '')) {
            erros.push(`${this.label} é obrigatório`);
            return { valido: false, erros };
        }
        // Se não tem valor e não é obrigatório, é válido
        if (valor === null || valor === undefined || valor === '') {
            return { valido: true, erros: [] };
        }
        // Validações por tipo
        switch (this.tipo) {
            case TipoDado.STRING:
                if (typeof valor !== 'string') {
                    erros.push(`${this.label} deve ser um texto`);
                }
                else {
                    const comprimentoMinimo = this.getComprimentoMinimo();
                    if (this.temValidacaoMinLength() &&
                        comprimentoMinimo !== null &&
                        valor.length < comprimentoMinimo) {
                        erros.push(`${this.label} deve ter pelo menos ${comprimentoMinimo} caracteres`);
                    }
                    const comprimentoMaximo = this.getComprimentoMaximo();
                    if (this.temValidacaoMaxLength() &&
                        comprimentoMaximo !== null &&
                        valor.length > comprimentoMaximo) {
                        erros.push(`${this.label} deve ter no máximo ${comprimentoMaximo} caracteres`);
                    }
                    if (this.temValidacaoPattern()) {
                        const padrao = this.getPadrao();
                        if (padrao !== null) {
                            const regex = new RegExp(padrao);
                            if (!regex.test(valor)) {
                                erros.push(`${this.label} não atende ao formato exigido`);
                            }
                        }
                    }
                    if (this.temValidacaoEnum() &&
                        !this.getValoresEnum().includes(valor)) {
                        erros.push(`${this.label} deve ser um dos valores: ${this.getValoresEnum().join(', ')}`);
                    }
                }
                break;
            case TipoDado.NUMBER:
                const numero = Number(valor);
                if (isNaN(numero)) {
                    erros.push(`${this.label} deve ser um número`);
                }
                else {
                    const valorMinimo = this.getValorMinimo();
                    if (this.temValidacaoMin() &&
                        valorMinimo !== null &&
                        numero < valorMinimo) {
                        erros.push(`${this.label} deve ser maior ou igual a ${valorMinimo}`);
                    }
                    const valorMaximo = this.getValorMaximo();
                    if (this.temValidacaoMax() &&
                        valorMaximo !== null &&
                        numero > valorMaximo) {
                        erros.push(`${this.label} deve ser menor ou igual a ${valorMaximo}`);
                    }
                }
                break;
            case TipoDado.BOOLEAN:
                if (typeof valor !== 'boolean') {
                    erros.push(`${this.label} deve ser verdadeiro ou falso`);
                }
                break;
            case TipoDado.DATE:
                const data = new Date(valor);
                if (isNaN(data.getTime())) {
                    erros.push(`${this.label} deve ser uma data válida`);
                }
                break;
            case TipoDado.ARRAY:
                if (!Array.isArray(valor)) {
                    erros.push(`${this.label} deve ser uma lista`);
                }
                else {
                    const valorMinimo = this.getValorMinimo();
                    const valorMaximo = this.getValorMaximo();
                    if (this.temValidacaoMin() &&
                        valorMinimo !== null &&
                        valor.length < valorMinimo) {
                        erros.push(`${this.label} deve ter pelo menos ${valorMinimo} itens`);
                    }
                    if (this.temValidacaoMax() &&
                        valorMaximo !== null &&
                        valor.length > valorMaximo) {
                        erros.push(`${this.label} deve ter no máximo ${valorMaximo} itens`);
                    }
                }
                break;
            case TipoDado.OBJECT:
                if (typeof valor !== 'object' || Array.isArray(valor)) {
                    erros.push(`${this.label} deve ser um objeto`);
                }
                break;
        }
        return { valido: erros.length === 0, erros };
    }
    /**
     * Verifica se pertence a um tipo de benefício
     */
    pertenceAoTipoBeneficio(tipoBeneficioId) {
        return this.tipo_beneficio_id === tipoBeneficioId;
    }
    /**
     * Obtém um resumo do campo
     */
    getSummary() {
        const tipo = this.getDescricaoTipoDado();
        const obrigatoriedade = this.isObrigatorio() ? 'Obrigatório' : 'Opcional';
        const status = this.isAtivo() ? 'Ativo' : 'Inativo';
        return `${this.label} (${tipo}) - ${obrigatoriedade} - ${status}`;
    }
    /**
     * Gera uma chave única para o campo
     */
    getUniqueKey() {
        return `campo_${this.tipo_beneficio_id}_${this.nome}`;
    }
    /**
     * Verifica se o campo é consistente
     */
    isConsistente() {
        // Verifica se tem tipo de benefício
        if (!this.tipo_beneficio_id)
            return false;
        // Verifica se tem label
        if (!this.label || this.label.trim().length === 0)
            return false;
        // Verifica se tem nome
        if (!this.nome || this.nome.trim().length === 0)
            return false;
        // Verifica se tem tipo válido
        if (!Object.values(TipoDado).includes(this.tipo))
            return false;
        // Verifica se a ordem é válida
        if (this.ordem < 1)
            return false;
        // Verifica validações se existirem
        if (this.temValidacoes()) {
            if (this.temValidacaoMin() && this.temValidacaoMax()) {
                const valorMinimo = this.getValorMinimo();
                const valorMaximo = this.getValorMaximo();
                if (valorMinimo !== null &&
                    valorMaximo !== null &&
                    valorMinimo > valorMaximo) {
                    return false;
                }
            }
            if (this.temValidacaoMinLength() && this.temValidacaoMaxLength()) {
                const comprimentoMinimo = this.getComprimentoMinimo();
                const comprimentoMaximo = this.getComprimentoMaximo();
                if (comprimentoMinimo !== null &&
                    comprimentoMaximo !== null &&
                    comprimentoMinimo > comprimentoMaximo) {
                    return false;
                }
            }
        }
        return true;
    }
    /**
     * Verifica se pode ser removido
     */
    podeSerRemovido() {
        // Não pode remover se já foi removido
        if (this.foiRemovido())
            return false;
        // Pode implementar lógica adicional aqui
        // Por exemplo, verificar se tem dados associados
        return true;
    }
    /**
     * Clona o campo (sem ID)
     */
    clone() {
        return {
            tipo_beneficio_id: this.tipo_beneficio_id,
            label: this.label,
            nome: this.nome,
            tipo: this.tipo,
            obrigatorio: this.obrigatorio,
            descricao: this.descricao,
            validacoes: this.validacoes
                ? JSON.parse(JSON.stringify(this.validacoes))
                : null,
            ordem: this.ordem,
            ativo: this.ativo,
        };
    }
    /**
     * Verifica se é um campo crítico
     */
    isCritico() {
        // Campos obrigatórios são críticos
        if (this.isObrigatorio())
            return true;
        // Campos com ordem baixa (primeiros) são mais críticos
        if (this.ordem <= 3)
            return true;
        return false;
    }
    /**
     * Obtém a complexidade do campo baseada em validações
     */
    getComplexidade() {
        let pontos = 0;
        // Tipo de dado complexo
        if (this.isCampoObjeto() || this.isCampoArray())
            pontos += 2;
        // Validações
        if (this.temValidacoes()) {
            pontos += Object.keys(this.validacoes).length;
        }
        // Obrigatório
        if (this.isObrigatorio())
            pontos += 1;
        if (pontos <= 2)
            return 'BAIXA';
        if (pontos <= 5)
            return 'MEDIA';
        return 'ALTA';
    }
    /**
     * Obtém a categoria do campo
     */
    getCategoria() {
        if (this.isCampoTexto() ||
            this.isCampoNumerico() ||
            this.isCampoBooleano()) {
            return this.temValidacoes() ? 'AVANCADO' : 'BASICO';
        }
        return 'COMPLEXO';
    }
    /**
     * Formata a data de criação
     */
    getCriacaoFormatada() {
        return this.created_at.toLocaleDateString('pt-BR');
    }
    /**
     * Formata a data de atualização
     */
    getAtualizacaoFormatada() {
        return this.updated_at.toLocaleDateString('pt-BR');
    }
    /**
     * Remove informações sensíveis para logs
     */
    toSafeLog() {
        return {
            id: this.id,
            label: this.label,
            nome: this.nome,
            tipo: this.tipo,
            obrigatorio: this.obrigatorio,
            ordem: this.ordem,
            ativo: this.ativo,
            created_at: this.created_at,
            updated_at: this.updated_at,
        };
    }
    /**
     * Obtém sugestões de melhoria para o campo
     */
    getSugestoesMelhoria() {
        const sugestoes = [];
        if (!this.descricao || this.descricao.trim().length === 0) {
            sugestoes.push('Adicionar descrição detalhada do campo');
        }
        if (!this.temValidacoes() &&
            (this.isCampoTexto() || this.isCampoNumerico())) {
            sugestoes.push('Definir validações para o campo');
        }
        if (this.isCampoTexto() && !this.temValidacaoMaxLength()) {
            sugestoes.push('Definir comprimento máximo para campos de texto');
        }
        if (!this.isConsistente()) {
            sugestoes.push('Verificar e corrigir inconsistências nos dados');
        }
        if (!this.ativo) {
            sugestoes.push('Considerar reativar o campo se necessário');
        }
        return sugestoes;
    }
    /**
     * Verifica se precisa de atualização (dados muito antigos)
     */
    precisaAtualizacao() {
        // Dados com mais de 6 meses podem precisar de revisão
        const seisMesesAtras = new Date();
        seisMesesAtras.setMonth(seisMesesAtras.getMonth() - 6);
        return this.updated_at < seisMesesAtras;
    }
    /**
     * Obtém estatísticas do campo
     */
    getEstatisticas() {
        return {
            categoria: this.getCategoria(),
            complexidade: this.getComplexidade(),
            tipo: this.getDescricaoTipoDado(),
            obrigatorio: this.isObrigatorio(),
            temValidacoes: this.temValidacoes(),
            numeroValidacoes: this.temValidacoes()
                ? Object.keys(this.validacoes).length
                : 0,
            ordem: this.ordem,
        };
    }
};
exports.CampoDinamicoBeneficio = CampoDinamicoBeneficio;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),
    __metadata("design:type", String)
], CampoDinamicoBeneficio.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    (0, class_validator_1.IsNotEmpty)({ message: 'Tipo de benefício é obrigatório' }),
    __metadata("design:type", String)
], CampoDinamicoBeneficio.prototype, "tipo_beneficio_id", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => tipo_beneficio_entity_1.TipoBeneficio, (tipoBeneficio) => tipoBeneficio.campos_dinamicos),
    (0, typeorm_1.JoinColumn)({ name: 'tipo_beneficio_id' }),
    __metadata("design:type", typeof (_a = typeof tipo_beneficio_entity_1.TipoBeneficio !== "undefined" && tipo_beneficio_entity_1.TipoBeneficio) === "function" ? _a : Object)
], CampoDinamicoBeneficio.prototype, "tipo_beneficio", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    (0, class_validator_1.IsNotEmpty)({ message: 'Label é obrigatório' }),
    __metadata("design:type", String)
], CampoDinamicoBeneficio.prototype, "label", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    (0, class_validator_1.IsNotEmpty)({ message: 'Nome é obrigatório' }),
    __metadata("design:type", String)
], CampoDinamicoBeneficio.prototype, "nome", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: TipoDado,
        enumName: 'tipo_dado',
    }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Tipo de dado é obrigatório' }),
    (0, class_validator_1.IsEnum)(TipoDado, { message: 'Tipo de dado inválido' }),
    __metadata("design:type", String)
], CampoDinamicoBeneficio.prototype, "tipo", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: false }),
    (0, class_validator_1.IsBoolean)({ message: 'Obrigatório deve ser um booleano' }),
    __metadata("design:type", Boolean)
], CampoDinamicoBeneficio.prototype, "obrigatorio", void 0);
__decorate([
    (0, typeorm_1.Column)('text', { nullable: true }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], CampoDinamicoBeneficio.prototype, "descricao", void 0);
__decorate([
    (0, typeorm_1.Column)('jsonb', { nullable: true }),
    __metadata("design:type", Object)
], CampoDinamicoBeneficio.prototype, "validacoes", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: 1 }),
    (0, class_validator_1.IsNumber)({}, { message: 'Ordem deve ser um número' }),
    (0, class_validator_1.Min)(1, { message: 'Ordem deve ser maior que zero' }),
    __metadata("design:type", Number)
], CampoDinamicoBeneficio.prototype, "ordem", void 0);
__decorate([
    (0, typeorm_1.Column)({ default: true }),
    (0, class_validator_1.IsBoolean)({ message: 'Ativo deve ser um booleano' }),
    __metadata("design:type", Boolean)
], CampoDinamicoBeneficio.prototype, "ativo", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", typeof (_b = typeof Date !== "undefined" && Date) === "function" ? _b : Object)
], CampoDinamicoBeneficio.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object)
], CampoDinamicoBeneficio.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.DeleteDateColumn)(),
    __metadata("design:type", typeof (_d = typeof Date !== "undefined" && Date) === "function" ? _d : Object)
], CampoDinamicoBeneficio.prototype, "removed_at", void 0);
exports.CampoDinamicoBeneficio = CampoDinamicoBeneficio = __decorate([
    (0, typeorm_1.Entity)('campo_dinamico_beneficio'),
    (0, typeorm_1.Index)(['tipo_beneficio_id', 'nome'], { unique: true })
], CampoDinamicoBeneficio);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXGVudGl0aWVzXFxjYW1wby1kaW5hbWljby1iZW5lZmljaW8uZW50aXR5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQ0FVaUI7QUFDakIscURBT3lCO0FBQ3pCLG1FQUF3RDtBQUV4RDs7R0FFRztBQUNILElBQVksUUFPWDtBQVBELFdBQVksUUFBUTtJQUNsQiw2QkFBaUIsQ0FBQTtJQUNqQiw2QkFBaUIsQ0FBQTtJQUNqQiwrQkFBbUIsQ0FBQTtJQUNuQix5QkFBYSxDQUFBO0lBQ2IsMkJBQWUsQ0FBQTtJQUNmLDZCQUFpQixDQUFBO0FBQ25CLENBQUMsRUFQVyxRQUFRLHdCQUFSLFFBQVEsUUFPbkI7QUFFRDs7Ozs7R0FLRztBQUdJLElBQU0sc0JBQXNCLEdBQTVCLE1BQU0sc0JBQXNCO0lBRWpDLEVBQUUsQ0FBUztJQUlYLGlCQUFpQixDQUFTO0lBTzFCLGNBQWMsQ0FBZ0I7SUFJOUIsS0FBSyxDQUFTO0lBSWQsSUFBSSxDQUFTO0lBU2IsSUFBSSxDQUFXO0lBSWYsV0FBVyxDQUFVO0lBSXJCLFNBQVMsQ0FBUztJQUdsQixVQUFVLENBUVI7SUFLRixLQUFLLENBQVM7SUFJZCxLQUFLLENBQVU7SUFHZixVQUFVLENBQU87SUFHakIsVUFBVSxDQUFPO0lBR2pCLFVBQVUsQ0FBTztJQUVqQixvQkFBb0I7SUFDcEIsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDWCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDekIsQ0FBQztJQUVELElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDO0lBRUQsc0JBQXNCO0lBRXRCOztPQUVHO0lBQ0gsb0JBQW9CO1FBQ2xCLE1BQU0sS0FBSyxHQUFHLElBQUksSUFBSSxFQUFFLENB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RUFBQyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsQ0FBQztJQUNyRCxJQUFBLHFCQUFHLEVBQUMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLCtCQUErQixFQUFFLENBQUM7O3FEQUN2QztBQUlkO0lBRkMsSUFBQSxnQkFBTSxFQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDO0lBQ3pCLElBQUEsMkJBQVMsRUFBQyxFQUFFLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxDQUFDOztxREFDdEM7QUFHZjtJQURDLElBQUEsMEJBQWdCLEdBQUU7a0RBQ1AsSUFBSSxvQkFBSixJQUFJOzBEQUFDO0FBR2pCO0lBREMsSUFBQSwwQkFBZ0IsR0FBRTtrREFDUCxJQUFJLG9CQUFKLElBQUk7MERBQUM7QUFHakI7SUFEQyxJQUFBLDBCQUFnQixHQUFFO2tEQUNQLElBQUksb0JBQUosSUFBSTswREFBQztpQ0FuRU4sc0JBQXNCO0lBRmxDLElBQUEsZ0JBQU0sRUFBQywwQkFBMEIsQ0FBQztJQUNsQyxJQUFBLGVBQUssRUFBQyxDQUFDLG1CQUFtQixFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDO0dBQzFDLHNCQUFzQixDQXdzQmxDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZXVkcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZXRvc1xccGdiZW5cXHBnYmVuLXNlcnZlclxcc3JjXFxlbnRpdGllc1xcY2FtcG8tZGluYW1pY28tYmVuZWZpY2lvLmVudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBFbnRpdHksXG4gIFByaW1hcnlHZW5lcmF0ZWRDb2x1bW4sXG4gIENvbHVtbixcbiAgQ3JlYXRlRGF0ZUNvbHVtbixcbiAgVXBkYXRlRGF0ZUNvbHVtbixcbiAgRGVsZXRlRGF0ZUNvbHVtbixcbiAgTWFueVRvT25lLFxuICBKb2luQ29sdW1uLFxuICBJbmRleCxcbn0gZnJvbSAndHlwZW9ybSc7XG5pbXBvcnQge1xuICBJc05vdEVtcHR5LFxuICBJc0VudW0sXG4gIElzT3B0aW9uYWwsXG4gIElzQm9vbGVhbixcbiAgSXNOdW1iZXIsXG4gIE1pbixcbn0gZnJvbSAnY2xhc3MtdmFsaWRhdG9yJztcbmltcG9ydCB7IFRpcG9CZW5lZmljaW8gfSBmcm9tICcuL3RpcG8tYmVuZWZpY2lvLmVudGl0eSc7XG5cbi8qKlxuICogRW51bSBwYXJhIGRlZmluaXIgb3MgdGlwb3MgZGUgZGFkb3Mgc3Vwb3J0YWRvcyBwZWxvcyBjYW1wb3MgZGluw6JtaWNvc1xuICovXG5leHBvcnQgZW51bSBUaXBvRGFkbyB7XG4gIFNUUklORyA9ICdzdHJpbmcnLFxuICBOVU1CRVIgPSAnbnVtYmVyJyxcbiAgQk9PTEVBTiA9ICdib29sZWFuJyxcbiAgREFURSA9ICdkYXRlJyxcbiAgQVJSQVkgPSAnYXJyYXknLFxuICBPQkpFQ1QgPSAnb2JqZWN0Jyxcbn1cblxuLyoqXG4gKiBFbnRpZGFkZSBwYXJhIGNhbXBvcyBkaW7Dom1pY29zIGRlIGJlbmVmw61jaW9zXG4gKlxuICogUGVybWl0ZSBkZWZpbmlyIGNhbXBvcyBlc3BlY8OtZmljb3MgcGFyYSBjYWRhIHRpcG8gZGUgYmVuZWbDrWNpbyxcbiAqIGNvbSB2YWxpZGHDp8O1ZXMgZSByZWdyYXMgZGUgbmVnw7NjaW8gcHLDs3ByaWFzLlxuICovXG5ARW50aXR5KCdjYW1wb19kaW5hbWljb19iZW5lZmljaW8nKVxuQEluZGV4KFsndGlwb19iZW5lZmljaW9faWQnLCAnbm9tZSddLCB7IHVuaXF1ZTogdHJ1ZSB9KVxuZXhwb3J0IGNsYXNzIENhbXBvRGluYW1pY29CZW5lZmljaW8ge1xuICBAUHJpbWFyeUdlbmVyYXRlZENvbHVtbigndXVpZCcpXG4gIGlkOiBzdHJpbmc7XG5cbiAgQENvbHVtbigpXG4gIEBJc05vdEVtcHR5KHsgbWVzc2FnZTogJ1RpcG8gZGUgYmVuZWbDrWNpbyDDqSBvYnJpZ2F0w7NyaW8nIH0pXG4gIHRpcG9fYmVuZWZpY2lvX2lkOiBzdHJpbmc7XG5cbiAgQE1hbnlUb09uZShcbiAgICAoKSA9PiBUaXBvQmVuZWZpY2lvLFxuICAgICh0aXBvQmVuZWZpY2lvKSA9PiB0aXBvQmVuZWZpY2lvLmNhbXBvc19kaW5hbWljb3MsXG4gIClcbiAgQEpvaW5Db2x1bW4oeyBuYW1lOiAndGlwb19iZW5lZmljaW9faWQnIH0pXG4gIHRpcG9fYmVuZWZpY2lvOiBUaXBvQmVuZWZpY2lvO1xuXG4gIEBDb2x1bW4oKVxuICBASXNOb3RFbXB0eSh7IG1lc3NhZ2U6ICdMYWJlbCDDqSBvYnJpZ2F0w7NyaW8nIH0pXG4gIGxhYmVsOiBzdHJpbmc7XG5cbiAgQENvbHVtbigpXG4gIEBJc05vdEVtcHR5KHsgbWVzc2FnZTogJ05vbWUgw6kgb2JyaWdhdMOzcmlvJyB9KVxuICBub21lOiBzdHJpbmc7XG5cbiAgQENvbHVtbih7XG4gICAgdHlwZTogJ2VudW0nLFxuICAgIGVudW06IFRpcG9EYWRvLFxuICAgIGVudW1OYW1lOiAndGlwb19kYWRvJyxcbiAgfSlcbiAgQElzTm90RW1wdHkoeyBtZXNzYWdlOiAnVGlwbyBkZSBkYWRvIMOpIG9icmlnYXTDs3JpbycgfSlcbiAgQElzRW51bShUaXBvRGFkbywgeyBtZXNzYWdlOiAnVGlwbyBkZSBkYWRvIGludsOhbGlkbycgfSlcbiAgdGlwbzogVGlwb0RhZG87XG5cbiAgQENvbHVtbih7IGRlZmF1bHQ6IGZhbHNlIH0pXG4gIEBJc0Jvb2xlYW4oeyBtZXNzYWdlOiAnT2JyaWdhdMOzcmlvIGRldmUgc2VyIHVtIGJvb2xlYW5vJyB9KVxuICBvYnJpZ2F0b3JpbzogYm9vbGVhbjtcblxuICBAQ29sdW1uKCd0ZXh0JywgeyBudWxsYWJsZTogdHJ1ZSB9KVxuICBASXNPcHRpb25hbCgpXG4gIGRlc2NyaWNhbzogc3RyaW5nO1xuXG4gIEBDb2x1bW4oJ2pzb25iJywgeyBudWxsYWJsZTogdHJ1ZSB9KVxuICB2YWxpZGFjb2VzOiB7XG4gICAgbWluPzogbnVtYmVyO1xuICAgIG1heD86IG51bWJlcjtcbiAgICBtaW5MZW5ndGg/OiBudW1iZXI7XG4gICAgbWF4TGVuZ3RoPzogbnVtYmVyO1xuICAgIHBhdHRlcm4/OiBzdHJpbmc7XG4gICAgZW51bT86IHN0cmluZ1tdO1xuICAgIGZvcm1hdD86IHN0cmluZztcbiAgfTtcblxuICBAQ29sdW1uKHsgZGVmYXVsdDogMSB9KVxuICBASXNOdW1iZXIoe30sIHsgbWVzc2FnZTogJ09yZGVtIGRldmUgc2VyIHVtIG7Dum1lcm8nIH0pXG4gIEBNaW4oMSwgeyBtZXNzYWdlOiAnT3JkZW0gZGV2ZSBzZXIgbWFpb3IgcXVlIHplcm8nIH0pXG4gIG9yZGVtOiBudW1iZXI7XG5cbiAgQENvbHVtbih7IGRlZmF1bHQ6IHRydWUgfSlcbiAgQElzQm9vbGVhbih7IG1lc3NhZ2U6ICdBdGl2byBkZXZlIHNlciB1bSBib29sZWFubycgfSlcbiAgYXRpdm86IGJvb2xlYW47XG5cbiAgQENyZWF0ZURhdGVDb2x1bW4oKVxuICBjcmVhdGVkX2F0OiBEYXRlO1xuXG4gIEBVcGRhdGVEYXRlQ29sdW1uKClcbiAgdXBkYXRlZF9hdDogRGF0ZTtcblxuICBARGVsZXRlRGF0ZUNvbHVtbigpXG4gIHJlbW92ZWRfYXQ6IERhdGU7XG5cbiAgLy8gR2V0dGVycyBlIFNldHRlcnNcbiAgZ2V0IGNyZWF0ZWRBdCgpOiBEYXRlIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVkX2F0O1xuICB9XG5cbiAgZ2V0IHVwZGF0ZWRBdCgpOiBEYXRlIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVkX2F0O1xuICB9XG5cbiAgZ2V0IHJlbW92ZWRBdCgpOiBEYXRlIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVkX2F0O1xuICB9XG5cbiAgLy8gTcOpdG9kb3MgVXRpbGl0w6FyaW9zXG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIG8gY2FtcG8gZm9pIGNyaWFkbyByZWNlbnRlbWVudGUgKMO6bHRpbWFzIDI0IGhvcmFzKVxuICAgKi9cbiAgaXNDcmlhZG9SZWNlbnRlbWVudGUoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYWdvcmEgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHVtRGlhQXRyYXMgPSBuZXcgRGF0ZShhZ29yYS5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVkX2F0ID4gdW1EaWFBdHJhcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhIGEgaWRhZGUgZG8gcmVnaXN0cm8gZW0gZGlhc1xuICAgKi9cbiAgZ2V0SWRhZGVSZWdpc3Ryb0VtRGlhcygpOiBudW1iZXIge1xuICAgIGNvbnN0IGFnb3JhID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkaWZmVGltZSA9IE1hdGguYWJzKGFnb3JhLmdldFRpbWUoKSAtIHRoaXMuY3JlYXRlZF9hdC5nZXRUaW1lKCkpO1xuICAgIHJldHVybiBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIG8gY2FtcG8gZm9pIHJlbW92aWRvXG4gICAqL1xuICBmb2lSZW1vdmlkbygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnJlbW92ZWRfYXQ7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgbyBjYW1wbyBlc3TDoSBhdGl2b1xuICAgKi9cbiAgaXNBdGl2bygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5hdGl2byAmJiAhdGhpcy5yZW1vdmVkX2F0O1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIMOpIHVtIGNhbXBvIG9icmlnYXTDs3Jpb1xuICAgKi9cbiAgaXNPYnJpZ2F0b3JpbygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5vYnJpZ2F0b3JpbztcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSDDqSB1bSBjYW1wbyBvcGNpb25hbFxuICAgKi9cbiAgaXNPcGNpb25hbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMub2JyaWdhdG9yaW87XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgY2FtcG8gZGUgdGV4dG9cbiAgICovXG4gIGlzQ2FtcG9UZXh0bygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy50aXBvID09PSBUaXBvRGFkby5TVFJJTkc7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgY2FtcG8gbnVtw6lyaWNvXG4gICAqL1xuICBpc0NhbXBvTnVtZXJpY28oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudGlwbyA9PT0gVGlwb0RhZG8uTlVNQkVSO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIMOpIGNhbXBvIGJvb2xlYW5vXG4gICAqL1xuICBpc0NhbXBvQm9vbGVhbm8oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudGlwbyA9PT0gVGlwb0RhZG8uQk9PTEVBTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSDDqSBjYW1wbyBkZSBkYXRhXG4gICAqL1xuICBpc0NhbXBvRGF0YSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy50aXBvID09PSBUaXBvRGFkby5EQVRFO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIMOpIGNhbXBvIGRlIGFycmF5XG4gICAqL1xuICBpc0NhbXBvQXJyYXkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudGlwbyA9PT0gVGlwb0RhZG8uQVJSQVk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgY2FtcG8gZGUgb2JqZXRvXG4gICAqL1xuICBpc0NhbXBvT2JqZXRvKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnRpcG8gPT09IFRpcG9EYWRvLk9CSkVDVDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gYSBkZXNjcmnDp8OjbyBkbyB0aXBvIGRlIGRhZG9cbiAgICovXG4gIGdldERlc2NyaWNhb1RpcG9EYWRvKCk6IHN0cmluZyB7XG4gICAgY29uc3QgZGVzY3JpY29lcyA9IHtcbiAgICAgIFtUaXBvRGFkby5TVFJJTkddOiAnVGV4dG8nLFxuICAgICAgW1RpcG9EYWRvLk5VTUJFUl06ICdOw7ptZXJvJyxcbiAgICAgIFtUaXBvRGFkby5CT09MRUFOXTogJ1ZlcmRhZGVpcm8vRmFsc28nLFxuICAgICAgW1RpcG9EYWRvLkRBVEVdOiAnRGF0YScsXG4gICAgICBbVGlwb0RhZG8uQVJSQVldOiAnTGlzdGEnLFxuICAgICAgW1RpcG9EYWRvLk9CSkVDVF06ICdPYmpldG8nLFxuICAgIH07XG4gICAgcmV0dXJuIGRlc2NyaWNvZXNbdGhpcy50aXBvXSB8fCAnVGlwbyBuw6NvIGlkZW50aWZpY2Fkbyc7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgdGVtIHZhbGlkYcOnw7VlcyBkZWZpbmlkYXNcbiAgICovXG4gIHRlbVZhbGlkYWNvZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy52YWxpZGFjb2VzICYmIE9iamVjdC5rZXlzKHRoaXMudmFsaWRhY29lcykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSB0ZW0gdmFsaWRhw6fDo28gZGUgdmFsb3IgbcOtbmltb1xuICAgKi9cbiAgdGVtVmFsaWRhY2FvTWluKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnRlbVZhbGlkYWNvZXMoKSAmJlxuICAgICAgdGhpcy52YWxpZGFjb2VzLm1pbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICB0aGlzLnZhbGlkYWNvZXMubWluICE9PSBudWxsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSB0ZW0gdmFsaWRhw6fDo28gZGUgdmFsb3IgbcOheGltb1xuICAgKi9cbiAgdGVtVmFsaWRhY2FvTWF4KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnRlbVZhbGlkYWNvZXMoKSAmJlxuICAgICAgdGhpcy52YWxpZGFjb2VzLm1heCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICB0aGlzLnZhbGlkYWNvZXMubWF4ICE9PSBudWxsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSB0ZW0gdmFsaWRhw6fDo28gZGUgY29tcHJpbWVudG8gbcOtbmltb1xuICAgKi9cbiAgdGVtVmFsaWRhY2FvTWluTGVuZ3RoKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnRlbVZhbGlkYWNvZXMoKSAmJlxuICAgICAgdGhpcy52YWxpZGFjb2VzLm1pbkxlbmd0aCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICB0aGlzLnZhbGlkYWNvZXMubWluTGVuZ3RoICE9PSBudWxsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSB0ZW0gdmFsaWRhw6fDo28gZGUgY29tcHJpbWVudG8gbcOheGltb1xuICAgKi9cbiAgdGVtVmFsaWRhY2FvTWF4TGVuZ3RoKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnRlbVZhbGlkYWNvZXMoKSAmJlxuICAgICAgdGhpcy52YWxpZGFjb2VzLm1heExlbmd0aCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICB0aGlzLnZhbGlkYWNvZXMubWF4TGVuZ3RoICE9PSBudWxsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSB0ZW0gdmFsaWRhw6fDo28gZGUgcGFkcsOjbyAocmVnZXgpXG4gICAqL1xuICB0ZW1WYWxpZGFjYW9QYXR0ZXJuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnRlbVZhbGlkYWNvZXMoKSAmJiAhIXRoaXMudmFsaWRhY29lcy5wYXR0ZXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIHRlbSB2YWxpZGHDp8OjbyBkZSBlbnVtIChsaXN0YSBkZSB2YWxvcmVzKVxuICAgKi9cbiAgdGVtVmFsaWRhY2FvRW51bSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy50ZW1WYWxpZGFjb2VzKCkgJiZcbiAgICAgICEhdGhpcy52YWxpZGFjb2VzLmVudW0gJiZcbiAgICAgIHRoaXMudmFsaWRhY29lcy5lbnVtLmxlbmd0aCA+IDBcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIHRlbSB2YWxpZGHDp8OjbyBkZSBmb3JtYXRvXG4gICAqL1xuICB0ZW1WYWxpZGFjYW9Gb3JtYXQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudGVtVmFsaWRhY29lcygpICYmICEhdGhpcy52YWxpZGFjb2VzLmZvcm1hdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gbyB2YWxvciBtw61uaW1vXG4gICAqL1xuICBnZXRWYWxvck1pbmltbygpOiBudW1iZXIgfCBudWxsIHtcbiAgICBpZiAoIXRoaXMudGVtVmFsaWRhY2FvTWluKCkpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB0aGlzLnZhbGlkYWNvZXMubWluID8/IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIG8gdmFsb3IgbcOheGltb1xuICAgKi9cbiAgZ2V0VmFsb3JNYXhpbW8oKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgaWYgKCF0aGlzLnRlbVZhbGlkYWNhb01heCgpKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdGhpcy52YWxpZGFjb2VzLm1heCA/PyBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBvIGNvbXByaW1lbnRvIG3DrW5pbW9cbiAgICovXG4gIGdldENvbXByaW1lbnRvTWluaW1vKCk6IG51bWJlciB8IG51bGwge1xuICAgIGlmICghdGhpcy50ZW1WYWxpZGFjYW9NaW5MZW5ndGgoKSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhY29lcy5taW5MZW5ndGggPz8gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gbyBjb21wcmltZW50byBtw6F4aW1vXG4gICAqL1xuICBnZXRDb21wcmltZW50b01heGltbygpOiBudW1iZXIgfCBudWxsIHtcbiAgICBpZiAoIXRoaXMudGVtVmFsaWRhY2FvTWF4TGVuZ3RoKCkpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB0aGlzLnZhbGlkYWNvZXMubWF4TGVuZ3RoID8/IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIG8gcGFkcsOjbyByZWdleFxuICAgKi9cbiAgZ2V0UGFkcmFvKCk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmICghdGhpcy50ZW1WYWxpZGFjYW9QYXR0ZXJuKCkpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB0aGlzLnZhbGlkYWNvZXMucGF0dGVybiA/PyBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBvcyB2YWxvcmVzIGRvIGVudW1cbiAgICovXG4gIGdldFZhbG9yZXNFbnVtKCk6IHN0cmluZ1tdIHtcbiAgICBpZiAoIXRoaXMudGVtVmFsaWRhY2FvRW51bSgpKSByZXR1cm4gW107XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhY29lcy5lbnVtID8/IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBvIGZvcm1hdG9cbiAgICovXG4gIGdldEZvcm1hdG8oKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKCF0aGlzLnRlbVZhbGlkYWNhb0Zvcm1hdCgpKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdGhpcy52YWxpZGFjb2VzLmZvcm1hdCA/PyBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYSB1bSB2YWxvciBjb250cmEgYXMgcmVncmFzIGRvIGNhbXBvXG4gICAqL1xuICB2YWxpZGFyVmFsb3IodmFsb3I6IGFueSk6IHsgdmFsaWRvOiBib29sZWFuOyBlcnJvczogc3RyaW5nW10gfSB7XG4gICAgY29uc3QgZXJyb3M6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBWZXJpZmljYSBzZSDDqSBvYnJpZ2F0w7NyaW9cbiAgICBpZiAoXG4gICAgICB0aGlzLmlzT2JyaWdhdG9yaW8oKSAmJlxuICAgICAgKHZhbG9yID09PSBudWxsIHx8IHZhbG9yID09PSB1bmRlZmluZWQgfHwgdmFsb3IgPT09ICcnKVxuICAgICkge1xuICAgICAgZXJyb3MucHVzaChgJHt0aGlzLmxhYmVsfSDDqSBvYnJpZ2F0w7NyaW9gKTtcbiAgICAgIHJldHVybiB7IHZhbGlkbzogZmFsc2UsIGVycm9zIH07XG4gICAgfVxuXG4gICAgLy8gU2UgbsOjbyB0ZW0gdmFsb3IgZSBuw6NvIMOpIG9icmlnYXTDs3Jpbywgw6kgdsOhbGlkb1xuICAgIGlmICh2YWxvciA9PT0gbnVsbCB8fCB2YWxvciA9PT0gdW5kZWZpbmVkIHx8IHZhbG9yID09PSAnJykge1xuICAgICAgcmV0dXJuIHsgdmFsaWRvOiB0cnVlLCBlcnJvczogW10gfTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGHDp8O1ZXMgcG9yIHRpcG9cbiAgICBzd2l0Y2ggKHRoaXMudGlwbykge1xuICAgICAgY2FzZSBUaXBvRGFkby5TVFJJTkc6XG4gICAgICAgIGlmICh0eXBlb2YgdmFsb3IgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgZXJyb3MucHVzaChgJHt0aGlzLmxhYmVsfSBkZXZlIHNlciB1bSB0ZXh0b2ApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGNvbXByaW1lbnRvTWluaW1vID0gdGhpcy5nZXRDb21wcmltZW50b01pbmltbygpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMudGVtVmFsaWRhY2FvTWluTGVuZ3RoKCkgJiZcbiAgICAgICAgICAgIGNvbXByaW1lbnRvTWluaW1vICE9PSBudWxsICYmXG4gICAgICAgICAgICB2YWxvci5sZW5ndGggPCBjb21wcmltZW50b01pbmltb1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3MucHVzaChcbiAgICAgICAgICAgICAgYCR7dGhpcy5sYWJlbH0gZGV2ZSB0ZXIgcGVsbyBtZW5vcyAke2NvbXByaW1lbnRvTWluaW1vfSBjYXJhY3RlcmVzYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNvbXByaW1lbnRvTWF4aW1vID0gdGhpcy5nZXRDb21wcmltZW50b01heGltbygpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMudGVtVmFsaWRhY2FvTWF4TGVuZ3RoKCkgJiZcbiAgICAgICAgICAgIGNvbXByaW1lbnRvTWF4aW1vICE9PSBudWxsICYmXG4gICAgICAgICAgICB2YWxvci5sZW5ndGggPiBjb21wcmltZW50b01heGltb1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3MucHVzaChcbiAgICAgICAgICAgICAgYCR7dGhpcy5sYWJlbH0gZGV2ZSB0ZXIgbm8gbcOheGltbyAke2NvbXByaW1lbnRvTWF4aW1vfSBjYXJhY3RlcmVzYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLnRlbVZhbGlkYWNhb1BhdHRlcm4oKSkge1xuICAgICAgICAgICAgY29uc3QgcGFkcmFvID0gdGhpcy5nZXRQYWRyYW8oKTtcbiAgICAgICAgICAgIGlmIChwYWRyYW8gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHBhZHJhbyk7XG4gICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdCh2YWxvcikpIHtcbiAgICAgICAgICAgICAgICBlcnJvcy5wdXNoKGAke3RoaXMubGFiZWx9IG7Do28gYXRlbmRlIGFvIGZvcm1hdG8gZXhpZ2lkb2ApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMudGVtVmFsaWRhY2FvRW51bSgpICYmXG4gICAgICAgICAgICAhdGhpcy5nZXRWYWxvcmVzRW51bSgpLmluY2x1ZGVzKHZhbG9yKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3MucHVzaChcbiAgICAgICAgICAgICAgYCR7dGhpcy5sYWJlbH0gZGV2ZSBzZXIgdW0gZG9zIHZhbG9yZXM6ICR7dGhpcy5nZXRWYWxvcmVzRW51bSgpLmpvaW4oJywgJyl9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRpcG9EYWRvLk5VTUJFUjpcbiAgICAgICAgY29uc3QgbnVtZXJvID0gTnVtYmVyKHZhbG9yKTtcbiAgICAgICAgaWYgKGlzTmFOKG51bWVybykpIHtcbiAgICAgICAgICBlcnJvcy5wdXNoKGAke3RoaXMubGFiZWx9IGRldmUgc2VyIHVtIG7Dum1lcm9gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB2YWxvck1pbmltbyA9IHRoaXMuZ2V0VmFsb3JNaW5pbW8oKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnRlbVZhbGlkYWNhb01pbigpICYmXG4gICAgICAgICAgICB2YWxvck1pbmltbyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgbnVtZXJvIDwgdmFsb3JNaW5pbW9cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGVycm9zLnB1c2goXG4gICAgICAgICAgICAgIGAke3RoaXMubGFiZWx9IGRldmUgc2VyIG1haW9yIG91IGlndWFsIGEgJHt2YWxvck1pbmltb31gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdmFsb3JNYXhpbW8gPSB0aGlzLmdldFZhbG9yTWF4aW1vKCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy50ZW1WYWxpZGFjYW9NYXgoKSAmJlxuICAgICAgICAgICAgdmFsb3JNYXhpbW8gIT09IG51bGwgJiZcbiAgICAgICAgICAgIG51bWVybyA+IHZhbG9yTWF4aW1vXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBlcnJvcy5wdXNoKFxuICAgICAgICAgICAgICBgJHt0aGlzLmxhYmVsfSBkZXZlIHNlciBtZW5vciBvdSBpZ3VhbCBhICR7dmFsb3JNYXhpbW99YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRpcG9EYWRvLkJPT0xFQU46XG4gICAgICAgIGlmICh0eXBlb2YgdmFsb3IgIT09ICdib29sZWFuJykge1xuICAgICAgICAgIGVycm9zLnB1c2goYCR7dGhpcy5sYWJlbH0gZGV2ZSBzZXIgdmVyZGFkZWlybyBvdSBmYWxzb2ApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRpcG9EYWRvLkRBVEU6XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRGF0ZSh2YWxvcik7XG4gICAgICAgIGlmIChpc05hTihkYXRhLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICBlcnJvcy5wdXNoKGAke3RoaXMubGFiZWx9IGRldmUgc2VyIHVtYSBkYXRhIHbDoWxpZGFgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBUaXBvRGFkby5BUlJBWTpcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbG9yKSkge1xuICAgICAgICAgIGVycm9zLnB1c2goYCR7dGhpcy5sYWJlbH0gZGV2ZSBzZXIgdW1hIGxpc3RhYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdmFsb3JNaW5pbW8gPSB0aGlzLmdldFZhbG9yTWluaW1vKCk7XG4gICAgICAgICAgY29uc3QgdmFsb3JNYXhpbW8gPSB0aGlzLmdldFZhbG9yTWF4aW1vKCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy50ZW1WYWxpZGFjYW9NaW4oKSAmJlxuICAgICAgICAgICAgdmFsb3JNaW5pbW8gIT09IG51bGwgJiZcbiAgICAgICAgICAgIHZhbG9yLmxlbmd0aCA8IHZhbG9yTWluaW1vXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBlcnJvcy5wdXNoKFxuICAgICAgICAgICAgICBgJHt0aGlzLmxhYmVsfSBkZXZlIHRlciBwZWxvIG1lbm9zICR7dmFsb3JNaW5pbW99IGl0ZW5zYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMudGVtVmFsaWRhY2FvTWF4KCkgJiZcbiAgICAgICAgICAgIHZhbG9yTWF4aW1vICE9PSBudWxsICYmXG4gICAgICAgICAgICB2YWxvci5sZW5ndGggPiB2YWxvck1heGltb1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3MucHVzaChgJHt0aGlzLmxhYmVsfSBkZXZlIHRlciBubyBtw6F4aW1vICR7dmFsb3JNYXhpbW99IGl0ZW5zYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFRpcG9EYWRvLk9CSkVDVDpcbiAgICAgICAgaWYgKHR5cGVvZiB2YWxvciAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheSh2YWxvcikpIHtcbiAgICAgICAgICBlcnJvcy5wdXNoKGAke3RoaXMubGFiZWx9IGRldmUgc2VyIHVtIG9iamV0b2ApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiB7IHZhbGlkbzogZXJyb3MubGVuZ3RoID09PSAwLCBlcnJvcyB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIHBlcnRlbmNlIGEgdW0gdGlwbyBkZSBiZW5lZsOtY2lvXG4gICAqL1xuICBwZXJ0ZW5jZUFvVGlwb0JlbmVmaWNpbyh0aXBvQmVuZWZpY2lvSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnRpcG9fYmVuZWZpY2lvX2lkID09PSB0aXBvQmVuZWZpY2lvSWQ7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIHVtIHJlc3VtbyBkbyBjYW1wb1xuICAgKi9cbiAgZ2V0U3VtbWFyeSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRpcG8gPSB0aGlzLmdldERlc2NyaWNhb1RpcG9EYWRvKCk7XG4gICAgY29uc3Qgb2JyaWdhdG9yaWVkYWRlID0gdGhpcy5pc09icmlnYXRvcmlvKCkgPyAnT2JyaWdhdMOzcmlvJyA6ICdPcGNpb25hbCc7XG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5pc0F0aXZvKCkgPyAnQXRpdm8nIDogJ0luYXRpdm8nO1xuICAgIHJldHVybiBgJHt0aGlzLmxhYmVsfSAoJHt0aXBvfSkgLSAke29icmlnYXRvcmllZGFkZX0gLSAke3N0YXR1c31gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlcmEgdW1hIGNoYXZlIMO6bmljYSBwYXJhIG8gY2FtcG9cbiAgICovXG4gIGdldFVuaXF1ZUtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgY2FtcG9fJHt0aGlzLnRpcG9fYmVuZWZpY2lvX2lkfV8ke3RoaXMubm9tZX1gO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIG8gY2FtcG8gw6kgY29uc2lzdGVudGVcbiAgICovXG4gIGlzQ29uc2lzdGVudGUoKTogYm9vbGVhbiB7XG4gICAgLy8gVmVyaWZpY2Egc2UgdGVtIHRpcG8gZGUgYmVuZWbDrWNpb1xuICAgIGlmICghdGhpcy50aXBvX2JlbmVmaWNpb19pZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gVmVyaWZpY2Egc2UgdGVtIGxhYmVsXG4gICAgaWYgKCF0aGlzLmxhYmVsIHx8IHRoaXMubGFiZWwudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gVmVyaWZpY2Egc2UgdGVtIG5vbWVcbiAgICBpZiAoIXRoaXMubm9tZSB8fCB0aGlzLm5vbWUudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gVmVyaWZpY2Egc2UgdGVtIHRpcG8gdsOhbGlkb1xuICAgIGlmICghT2JqZWN0LnZhbHVlcyhUaXBvRGFkbykuaW5jbHVkZXModGhpcy50aXBvKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgLy8gVmVyaWZpY2Egc2UgYSBvcmRlbSDDqSB2w6FsaWRhXG4gICAgaWYgKHRoaXMub3JkZW0gPCAxKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBWZXJpZmljYSB2YWxpZGHDp8O1ZXMgc2UgZXhpc3RpcmVtXG4gICAgaWYgKHRoaXMudGVtVmFsaWRhY29lcygpKSB7XG4gICAgICBpZiAodGhpcy50ZW1WYWxpZGFjYW9NaW4oKSAmJiB0aGlzLnRlbVZhbGlkYWNhb01heCgpKSB7XG4gICAgICAgIGNvbnN0IHZhbG9yTWluaW1vID0gdGhpcy5nZXRWYWxvck1pbmltbygpO1xuICAgICAgICBjb25zdCB2YWxvck1heGltbyA9IHRoaXMuZ2V0VmFsb3JNYXhpbW8oKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHZhbG9yTWluaW1vICE9PSBudWxsICYmXG4gICAgICAgICAgdmFsb3JNYXhpbW8gIT09IG51bGwgJiZcbiAgICAgICAgICB2YWxvck1pbmltbyA+IHZhbG9yTWF4aW1vXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50ZW1WYWxpZGFjYW9NaW5MZW5ndGgoKSAmJiB0aGlzLnRlbVZhbGlkYWNhb01heExlbmd0aCgpKSB7XG4gICAgICAgIGNvbnN0IGNvbXByaW1lbnRvTWluaW1vID0gdGhpcy5nZXRDb21wcmltZW50b01pbmltbygpO1xuICAgICAgICBjb25zdCBjb21wcmltZW50b01heGltbyA9IHRoaXMuZ2V0Q29tcHJpbWVudG9NYXhpbW8oKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNvbXByaW1lbnRvTWluaW1vICE9PSBudWxsICYmXG4gICAgICAgICAgY29tcHJpbWVudG9NYXhpbW8gIT09IG51bGwgJiZcbiAgICAgICAgICBjb21wcmltZW50b01pbmltbyA+IGNvbXByaW1lbnRvTWF4aW1vXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIHBvZGUgc2VyIHJlbW92aWRvXG4gICAqL1xuICBwb2RlU2VyUmVtb3ZpZG8oKTogYm9vbGVhbiB7XG4gICAgLy8gTsOjbyBwb2RlIHJlbW92ZXIgc2UgasOhIGZvaSByZW1vdmlkb1xuICAgIGlmICh0aGlzLmZvaVJlbW92aWRvKCkpIHJldHVybiBmYWxzZTtcblxuICAgIC8vIFBvZGUgaW1wbGVtZW50YXIgbMOzZ2ljYSBhZGljaW9uYWwgYXF1aVxuICAgIC8vIFBvciBleGVtcGxvLCB2ZXJpZmljYXIgc2UgdGVtIGRhZG9zIGFzc29jaWFkb3NcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25hIG8gY2FtcG8gKHNlbSBJRClcbiAgICovXG4gIGNsb25lKCk6IFBhcnRpYWw8Q2FtcG9EaW5hbWljb0JlbmVmaWNpbz4ge1xuICAgIHJldHVybiB7XG4gICAgICB0aXBvX2JlbmVmaWNpb19pZDogdGhpcy50aXBvX2JlbmVmaWNpb19pZCxcbiAgICAgIGxhYmVsOiB0aGlzLmxhYmVsLFxuICAgICAgbm9tZTogdGhpcy5ub21lLFxuICAgICAgdGlwbzogdGhpcy50aXBvLFxuICAgICAgb2JyaWdhdG9yaW86IHRoaXMub2JyaWdhdG9yaW8sXG4gICAgICBkZXNjcmljYW86IHRoaXMuZGVzY3JpY2FvLFxuICAgICAgdmFsaWRhY29lczogdGhpcy52YWxpZGFjb2VzXG4gICAgICAgID8gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnZhbGlkYWNvZXMpKVxuICAgICAgICA6IG51bGwsXG4gICAgICBvcmRlbTogdGhpcy5vcmRlbSxcbiAgICAgIGF0aXZvOiB0aGlzLmF0aXZvLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgdW0gY2FtcG8gY3LDrXRpY29cbiAgICovXG4gIGlzQ3JpdGljbygpOiBib29sZWFuIHtcbiAgICAvLyBDYW1wb3Mgb2JyaWdhdMOzcmlvcyBzw6NvIGNyw610aWNvc1xuICAgIGlmICh0aGlzLmlzT2JyaWdhdG9yaW8oKSkgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBDYW1wb3MgY29tIG9yZGVtIGJhaXhhIChwcmltZWlyb3MpIHPDo28gbWFpcyBjcsOtdGljb3NcbiAgICBpZiAodGhpcy5vcmRlbSA8PSAzKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gYSBjb21wbGV4aWRhZGUgZG8gY2FtcG8gYmFzZWFkYSBlbSB2YWxpZGHDp8O1ZXNcbiAgICovXG4gIGdldENvbXBsZXhpZGFkZSgpOiAnQkFJWEEnIHwgJ01FRElBJyB8ICdBTFRBJyB7XG4gICAgbGV0IHBvbnRvcyA9IDA7XG5cbiAgICAvLyBUaXBvIGRlIGRhZG8gY29tcGxleG9cbiAgICBpZiAodGhpcy5pc0NhbXBvT2JqZXRvKCkgfHwgdGhpcy5pc0NhbXBvQXJyYXkoKSkgcG9udG9zICs9IDI7XG5cbiAgICAvLyBWYWxpZGHDp8O1ZXNcbiAgICBpZiAodGhpcy50ZW1WYWxpZGFjb2VzKCkpIHtcbiAgICAgIHBvbnRvcyArPSBPYmplY3Qua2V5cyh0aGlzLnZhbGlkYWNvZXMpLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvLyBPYnJpZ2F0w7NyaW9cbiAgICBpZiAodGhpcy5pc09icmlnYXRvcmlvKCkpIHBvbnRvcyArPSAxO1xuXG4gICAgaWYgKHBvbnRvcyA8PSAyKSByZXR1cm4gJ0JBSVhBJztcbiAgICBpZiAocG9udG9zIDw9IDUpIHJldHVybiAnTUVESUEnO1xuICAgIHJldHVybiAnQUxUQSc7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIGEgY2F0ZWdvcmlhIGRvIGNhbXBvXG4gICAqL1xuICBnZXRDYXRlZ29yaWEoKTogJ0JBU0lDTycgfCAnQVZBTkNBRE8nIHwgJ0NPTVBMRVhPJyB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5pc0NhbXBvVGV4dG8oKSB8fFxuICAgICAgdGhpcy5pc0NhbXBvTnVtZXJpY28oKSB8fFxuICAgICAgdGhpcy5pc0NhbXBvQm9vbGVhbm8oKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMudGVtVmFsaWRhY29lcygpID8gJ0FWQU5DQURPJyA6ICdCQVNJQ08nO1xuICAgIH1cbiAgICByZXR1cm4gJ0NPTVBMRVhPJztcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRhIGEgZGF0YSBkZSBjcmlhw6fDo29cbiAgICovXG4gIGdldENyaWFjYW9Gb3JtYXRhZGEoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVkX2F0LnRvTG9jYWxlRGF0ZVN0cmluZygncHQtQlInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRhIGEgZGF0YSBkZSBhdHVhbGl6YcOnw6NvXG4gICAqL1xuICBnZXRBdHVhbGl6YWNhb0Zvcm1hdGFkYSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZWRfYXQudG9Mb2NhbGVEYXRlU3RyaW5nKCdwdC1CUicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBpbmZvcm1hw6fDtWVzIHNlbnPDrXZlaXMgcGFyYSBsb2dzXG4gICAqL1xuICB0b1NhZmVMb2coKTogUGFydGlhbDxDYW1wb0RpbmFtaWNvQmVuZWZpY2lvPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgbGFiZWw6IHRoaXMubGFiZWwsXG4gICAgICBub21lOiB0aGlzLm5vbWUsXG4gICAgICB0aXBvOiB0aGlzLnRpcG8sXG4gICAgICBvYnJpZ2F0b3JpbzogdGhpcy5vYnJpZ2F0b3JpbyxcbiAgICAgIG9yZGVtOiB0aGlzLm9yZGVtLFxuICAgICAgYXRpdm86IHRoaXMuYXRpdm8sXG4gICAgICBjcmVhdGVkX2F0OiB0aGlzLmNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0OiB0aGlzLnVwZGF0ZWRfYXQsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gc3VnZXN0w7VlcyBkZSBtZWxob3JpYSBwYXJhIG8gY2FtcG9cbiAgICovXG4gIGdldFN1Z2VzdG9lc01lbGhvcmlhKCk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBzdWdlc3RvZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICBpZiAoIXRoaXMuZGVzY3JpY2FvIHx8IHRoaXMuZGVzY3JpY2FvLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHN1Z2VzdG9lcy5wdXNoKCdBZGljaW9uYXIgZGVzY3Jpw6fDo28gZGV0YWxoYWRhIGRvIGNhbXBvJyk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIXRoaXMudGVtVmFsaWRhY29lcygpICYmXG4gICAgICAodGhpcy5pc0NhbXBvVGV4dG8oKSB8fCB0aGlzLmlzQ2FtcG9OdW1lcmljbygpKVxuICAgICkge1xuICAgICAgc3VnZXN0b2VzLnB1c2goJ0RlZmluaXIgdmFsaWRhw6fDtWVzIHBhcmEgbyBjYW1wbycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzQ2FtcG9UZXh0bygpICYmICF0aGlzLnRlbVZhbGlkYWNhb01heExlbmd0aCgpKSB7XG4gICAgICBzdWdlc3RvZXMucHVzaCgnRGVmaW5pciBjb21wcmltZW50byBtw6F4aW1vIHBhcmEgY2FtcG9zIGRlIHRleHRvJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzQ29uc2lzdGVudGUoKSkge1xuICAgICAgc3VnZXN0b2VzLnB1c2goJ1ZlcmlmaWNhciBlIGNvcnJpZ2lyIGluY29uc2lzdMOqbmNpYXMgbm9zIGRhZG9zJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmF0aXZvKSB7XG4gICAgICBzdWdlc3RvZXMucHVzaCgnQ29uc2lkZXJhciByZWF0aXZhciBvIGNhbXBvIHNlIG5lY2Vzc8OhcmlvJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1Z2VzdG9lcztcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSBwcmVjaXNhIGRlIGF0dWFsaXphw6fDo28gKGRhZG9zIG11aXRvIGFudGlnb3MpXG4gICAqL1xuICBwcmVjaXNhQXR1YWxpemFjYW8oKTogYm9vbGVhbiB7XG4gICAgLy8gRGFkb3MgY29tIG1haXMgZGUgNiBtZXNlcyBwb2RlbSBwcmVjaXNhciBkZSByZXZpc8Ojb1xuICAgIGNvbnN0IHNlaXNNZXNlc0F0cmFzID0gbmV3IERhdGUoKTtcbiAgICBzZWlzTWVzZXNBdHJhcy5zZXRNb250aChzZWlzTWVzZXNBdHJhcy5nZXRNb250aCgpIC0gNik7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlZF9hdCA8IHNlaXNNZXNlc0F0cmFzO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBlc3RhdMOtc3RpY2FzIGRvIGNhbXBvXG4gICAqL1xuICBnZXRFc3RhdGlzdGljYXMoKToge1xuICAgIGNhdGVnb3JpYTogc3RyaW5nO1xuICAgIGNvbXBsZXhpZGFkZTogc3RyaW5nO1xuICAgIHRpcG86IHN0cmluZztcbiAgICBvYnJpZ2F0b3JpbzogYm9vbGVhbjtcbiAgICB0ZW1WYWxpZGFjb2VzOiBib29sZWFuO1xuICAgIG51bWVyb1ZhbGlkYWNvZXM6IG51bWJlcjtcbiAgICBvcmRlbTogbnVtYmVyO1xuICB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgY2F0ZWdvcmlhOiB0aGlzLmdldENhdGVnb3JpYSgpLFxuICAgICAgY29tcGxleGlkYWRlOiB0aGlzLmdldENvbXBsZXhpZGFkZSgpLFxuICAgICAgdGlwbzogdGhpcy5nZXREZXNjcmljYW9UaXBvRGFkbygpLFxuICAgICAgb2JyaWdhdG9yaW86IHRoaXMuaXNPYnJpZ2F0b3JpbygpLFxuICAgICAgdGVtVmFsaWRhY29lczogdGhpcy50ZW1WYWxpZGFjb2VzKCksXG4gICAgICBudW1lcm9WYWxpZGFjb2VzOiB0aGlzLnRlbVZhbGlkYWNvZXMoKVxuICAgICAgICA/IE9iamVjdC5rZXlzKHRoaXMudmFsaWRhY29lcykubGVuZ3RoXG4gICAgICAgIDogMCxcbiAgICAgIG9yZGVtOiB0aGlzLm9yZGVtLFxuICAgIH07XG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==