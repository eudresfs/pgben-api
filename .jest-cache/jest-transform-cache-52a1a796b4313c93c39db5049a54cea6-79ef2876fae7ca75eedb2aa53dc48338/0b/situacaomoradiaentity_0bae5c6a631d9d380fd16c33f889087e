d1df1f50300dfb1d6912cf6d5f23c201
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d;
Object.defineProperty(exports, "__esModule", { value: true });
exports.SituacaoMoradia = exports.TipoMoradiaEnum = void 0;
const typeorm_1 = require("typeorm");
const class_validator_1 = require("class-validator");
const cidadao_entity_1 = require("./cidadao.entity");
var TipoMoradiaEnum;
(function (TipoMoradiaEnum) {
    TipoMoradiaEnum["PROPRIA"] = "propria";
    TipoMoradiaEnum["ALUGADA"] = "alugada";
    TipoMoradiaEnum["CEDIDA"] = "cedida";
    TipoMoradiaEnum["OCUPACAO"] = "ocupacao";
    TipoMoradiaEnum["SITUACAO_RUA"] = "situacao_rua";
    TipoMoradiaEnum["ABRIGO"] = "abrigo";
    TipoMoradiaEnum["OUTRO"] = "outro";
})(TipoMoradiaEnum || (exports.TipoMoradiaEnum = TipoMoradiaEnum = {}));
let SituacaoMoradia = class SituacaoMoradia {
    id;
    cidadao_id;
    cidadao;
    tipo_moradia;
    numero_comodos;
    valor_aluguel;
    tempo_moradia;
    possui_banheiro;
    possui_energia_eletrica;
    possui_agua_encanada;
    possui_coleta_lixo;
    observacoes;
    created_at;
    updated_at;
    removed_at;
    // Getters e Setters
    get cidadaoId() {
        return this.cidadao_id;
    }
    set cidadaoId(value) {
        this.cidadao_id = value;
    }
    get createdAt() {
        return this.created_at;
    }
    get updatedAt() {
        return this.updated_at;
    }
    get removedAt() {
        return this.removed_at;
    }
    // Métodos Utilitários
    /**
     * Verifica se a situação foi criada recentemente (últimas 24 horas)
     */
    isCriadoRecentemente() {
        const agora = new Date();
        const umDiaAtras = new Date(agora.getTime() - 24 * 60 * 60 * 1000);
        return this.created_at > umDiaAtras;
    }
    /**
     * Calcula a idade do registro em dias
     */
    getIdadeRegistroEmDias() {
        const agora = new Date();
        const diffTime = Math.abs(agora.getTime() - this.created_at.getTime());
        return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    }
    /**
     * Verifica se a situação foi removida
     */
    foiRemovido() {
        return !!this.removed_at;
    }
    /**
     * Verifica se a situação está ativa
     */
    isAtivo() {
        return !this.removed_at;
    }
    /**
     * Verifica se é moradia própria
     */
    isMoradiaPropria() {
        return this.tipo_moradia === TipoMoradiaEnum.PROPRIA;
    }
    /**
     * Verifica se é moradia alugada
     */
    isMoradiaAlugada() {
        return this.tipo_moradia === TipoMoradiaEnum.ALUGADA;
    }
    /**
     * Verifica se é moradia cedida
     */
    isMoradiaCedida() {
        return this.tipo_moradia === TipoMoradiaEnum.CEDIDA;
    }
    /**
     * Verifica se é ocupação
     */
    isOcupacao() {
        return this.tipo_moradia === TipoMoradiaEnum.OCUPACAO;
    }
    /**
     * Verifica se está em situação de rua
     */
    isSituacaoRua() {
        return this.tipo_moradia === TipoMoradiaEnum.SITUACAO_RUA;
    }
    /**
     * Verifica se está em abrigo
     */
    isAbrigo() {
        return this.tipo_moradia === TipoMoradiaEnum.ABRIGO;
    }
    /**
     * Verifica se tem moradia estável (própria ou alugada)
     */
    temMoradiaEstavel() {
        return this.isMoradiaPropria() || this.isMoradiaAlugada();
    }
    /**
     * Verifica se tem moradia precária (ocupação, situação de rua, abrigo)
     */
    temMoradiaPrecaria() {
        return this.isOcupacao() || this.isSituacaoRua() || this.isAbrigo();
    }
    /**
     * Verifica se tem valor de aluguel definido
     */
    temValorAluguel() {
        return (this.valor_aluguel !== null &&
            this.valor_aluguel !== undefined &&
            this.valor_aluguel > 0);
    }
    /**
     * Obtém o valor do aluguel formatado
     */
    getValorAluguelFormatado() {
        if (!this.temValorAluguel())
            return 'Não informado';
        return new Intl.NumberFormat('pt-BR', {
            style: 'currency',
            currency: 'BRL',
        }).format(this.valor_aluguel);
    }
    /**
     * Verifica se tem número de cômodos definido
     */
    temNumeroComodos() {
        return (this.numero_comodos !== null &&
            this.numero_comodos !== undefined &&
            this.numero_comodos > 0);
    }
    /**
     * Verifica se a moradia é adequada (tem infraestrutura básica)
     */
    isMoradiaAdequada() {
        return (this.possui_banheiro &&
            this.possui_energia_eletrica &&
            this.possui_agua_encanada &&
            this.possui_coleta_lixo);
    }
    /**
     * Conta quantos itens de infraestrutura possui
     */
    getItensInfraestrutura() {
        let count = 0;
        if (this.possui_banheiro)
            count++;
        if (this.possui_energia_eletrica)
            count++;
        if (this.possui_agua_encanada)
            count++;
        if (this.possui_coleta_lixo)
            count++;
        return count;
    }
    /**
     * Obtém a pontuação de adequação da moradia (0-100)
     */
    getPontuacaoAdequacao() {
        let pontos = 0;
        // Tipo de moradia (40 pontos)
        if (this.isMoradiaPropria())
            pontos += 40;
        else if (this.isMoradiaAlugada())
            pontos += 35;
        else if (this.isMoradiaCedida())
            pontos += 25;
        else if (this.isOcupacao())
            pontos += 15;
        else if (this.isAbrigo())
            pontos += 10;
        else if (this.isSituacaoRua())
            pontos += 0;
        // Infraestrutura (60 pontos - 15 cada)
        pontos += this.getItensInfraestrutura() * 15;
        return Math.min(pontos, 100);
    }
    /**
     * Verifica se tem tempo de moradia definido
     */
    temTempoMoradia() {
        return (this.tempo_moradia !== null &&
            this.tempo_moradia !== undefined &&
            this.tempo_moradia > 0);
    }
    /**
     * Verifica se mora há muito tempo no local (mais de 5 anos)
     */
    moraMuitoTempo() {
        return this.temTempoMoradia() && this.tempo_moradia >= 60; // 60 meses = 5 anos
    }
    /**
     * Verifica se mora há pouco tempo no local (menos de 1 ano)
     */
    moraPoucoTempo() {
        return this.temTempoMoradia() && this.tempo_moradia < 12; // menos de 12 meses
    }
    /**
     * Obtém a descrição do tipo de moradia
     */
    getDescricaoTipoMoradia() {
        const descricoes = {
            [TipoMoradiaEnum.PROPRIA]: 'Própria',
            [TipoMoradiaEnum.ALUGADA]: 'Alugada',
            [TipoMoradiaEnum.CEDIDA]: 'Cedida',
            [TipoMoradiaEnum.OCUPACAO]: 'Ocupação',
            [TipoMoradiaEnum.SITUACAO_RUA]: 'Situação de Rua',
            [TipoMoradiaEnum.ABRIGO]: 'Abrigo',
            [TipoMoradiaEnum.OUTRO]: 'Outro',
        };
        return descricoes[this.tipo_moradia] || 'Não informado';
    }
    /**
     * Obtém a descrição do tempo de moradia
     */
    getDescricaoTempoMoradia() {
        if (!this.temTempoMoradia())
            return 'Não informado';
        if (this.tempo_moradia < 12) {
            return `${this.tempo_moradia} mês(es)`;
        }
        else {
            const anos = Math.floor(this.tempo_moradia / 12);
            const meses = this.tempo_moradia % 12;
            if (meses === 0) {
                return `${anos} ano(s)`;
            }
            else {
                return `${anos} ano(s) e ${meses} mês(es)`;
            }
        }
    }
    /**
     * Obtém lista de itens de infraestrutura disponíveis
     */
    getItensInfraestruturaDisponiveis() {
        const itens = [];
        if (this.possui_banheiro)
            itens.push('Banheiro');
        if (this.possui_energia_eletrica)
            itens.push('Energia Elétrica');
        if (this.possui_agua_encanada)
            itens.push('Água Encanada');
        if (this.possui_coleta_lixo)
            itens.push('Coleta de Lixo');
        return itens;
    }
    /**
     * Obtém lista de itens de infraestrutura faltantes
     */
    getItensInfraestruturaFaltantes() {
        const itens = [];
        if (!this.possui_banheiro)
            itens.push('Banheiro');
        if (!this.possui_energia_eletrica)
            itens.push('Energia Elétrica');
        if (!this.possui_agua_encanada)
            itens.push('Água Encanada');
        if (!this.possui_coleta_lixo)
            itens.push('Coleta de Lixo');
        return itens;
    }
    /**
     * Verifica se pertence a um cidadão específico
     */
    pertenceAoCidadao(cidadaoId) {
        return this.cidadao_id === cidadaoId;
    }
    /**
     * Obtém um resumo da situação de moradia
     */
    getSummary() {
        const tipo = this.getDescricaoTipoMoradia();
        const adequacao = this.getPontuacaoAdequacao();
        const tempo = this.temTempoMoradia()
            ? ` - ${this.getDescricaoTempoMoradia()}`
            : '';
        return `${tipo} (${adequacao}% adequada)${tempo}`;
    }
    /**
     * Gera uma chave única para a situação
     */
    getUniqueKey() {
        return `situacao_moradia_${this.cidadao_id}`;
    }
    /**
     * Verifica se a situação é consistente
     */
    isConsistente() {
        // Verifica se tem cidadão
        if (!this.cidadao_id)
            return false;
        // Se é alugada, deve ter valor do aluguel
        if (this.isMoradiaAlugada() && !this.temValorAluguel()) {
            return false;
        }
        // Se tem valor de aluguel, deve ser moradia alugada
        if (this.temValorAluguel() && !this.isMoradiaAlugada()) {
            return false;
        }
        // Situação de rua não deveria ter infraestrutura
        if (this.isSituacaoRua() && this.getItensInfraestrutura() > 0) {
            return false;
        }
        return true;
    }
    /**
     * Verifica se pode ser removida
     */
    podeSerRemovido() {
        // Não pode remover se já foi removido
        if (this.foiRemovido())
            return false;
        return true;
    }
    /**
     * Clona a situação de moradia (sem ID)
     */
    clone() {
        return {
            cidadao_id: this.cidadao_id,
            tipo_moradia: this.tipo_moradia,
            numero_comodos: this.numero_comodos,
            valor_aluguel: this.valor_aluguel,
            tempo_moradia: this.tempo_moradia,
            possui_banheiro: this.possui_banheiro,
            possui_energia_eletrica: this.possui_energia_eletrica,
            possui_agua_encanada: this.possui_agua_encanada,
            possui_coleta_lixo: this.possui_coleta_lixo,
            observacoes: this.observacoes,
        };
    }
    /**
     * Verifica se é elegível para auxílio moradia
     */
    isElegivelAuxilioMoradia() {
        // Situações que podem ser elegíveis para auxílio
        return (this.isMoradiaAlugada() ||
            this.temMoradiaPrecaria() ||
            !this.isMoradiaAdequada());
    }
    /**
     * Verifica se é prioritário para programas habitacionais
     */
    isPrioritarioHabitacao() {
        return (this.isSituacaoRua() ||
            this.isAbrigo() ||
            this.isOcupacao() ||
            this.getPontuacaoAdequacao() < 50);
    }
    /**
     * Obtém o nível de vulnerabilidade habitacional
     */
    getNivelVulnerabilidade() {
        if (this.isSituacaoRua())
            return 'CRITICO';
        if (this.isAbrigo() || this.isOcupacao())
            return 'ALTO';
        if (!this.isMoradiaAdequada() || this.getPontuacaoAdequacao() < 50)
            return 'MEDIO';
        return 'BAIXO';
    }
    /**
     * Formata a data de criação
     */
    getCriacaoFormatada() {
        return this.created_at.toLocaleDateString('pt-BR');
    }
    /**
     * Formata a data de atualização
     */
    getAtualizacaoFormatada() {
        return this.updated_at.toLocaleDateString('pt-BR');
    }
    /**
     * Remove informações sensíveis para logs
     */
    toSafeLog() {
        return {
            id: this.id,
            tipo_moradia: this.tipo_moradia,
            numero_comodos: this.numero_comodos,
            tempo_moradia: this.tempo_moradia,
            possui_banheiro: this.possui_banheiro,
            possui_energia_eletrica: this.possui_energia_eletrica,
            possui_agua_encanada: this.possui_agua_encanada,
            possui_coleta_lixo: this.possui_coleta_lixo,
            created_at: this.created_at,
            updated_at: this.updated_at,
        };
    }
    /**
     * Obtém sugestões de melhoria para a situação de moradia
     */
    getSugestoesMelhoria() {
        const sugestoes = [];
        if (this.temMoradiaPrecaria()) {
            sugestoes.push('Buscar programas habitacionais ou auxílio moradia');
        }
        if (!this.isMoradiaAdequada()) {
            const faltantes = this.getItensInfraestruturaFaltantes();
            sugestoes.push(`Melhorar infraestrutura: ${faltantes.join(', ')}`);
        }
        if (this.isMoradiaAlugada() && !this.temValorAluguel()) {
            sugestoes.push('Informar valor do aluguel para análise de benefícios');
        }
        if (!this.temTempoMoradia()) {
            sugestoes.push('Informar tempo de moradia no local atual');
        }
        if (!this.temNumeroComodos()) {
            sugestoes.push('Informar número de cômodos da moradia');
        }
        if (!this.isConsistente()) {
            sugestoes.push('Verificar e corrigir inconsistências nos dados');
        }
        return sugestoes;
    }
    /**
     * Verifica se precisa de atualização (dados muito antigos)
     */
    precisaAtualizacao() {
        // Dados com mais de 6 meses podem precisar de atualização
        const seiseMesesAtras = new Date();
        seiseMesesAtras.setMonth(seiseMesesAtras.getMonth() - 6);
        return this.updated_at < seiseMesesAtras;
    }
    /**
     * Obtém estatísticas da situação de moradia
     */
    getEstatisticas() {
        return {
            pontuacaoAdequacao: this.getPontuacaoAdequacao(),
            nivelVulnerabilidade: this.getNivelVulnerabilidade(),
            itensInfraestrutura: this.getItensInfraestrutura(),
            tempoMoradia: this.getDescricaoTempoMoradia(),
            elegibilidadeAuxilio: this.isElegivelAuxilioMoradia(),
        };
    }
};
exports.SituacaoMoradia = SituacaoMoradia;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),
    __metadata("design:type", String)
], SituacaoMoradia.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)(),
    (0, class_validator_1.IsNotEmpty)({ message: 'ID do cidadão é obrigatório' }),
    __metadata("design:type", String)
], SituacaoMoradia.prototype, "cidadao_id", void 0);
__decorate([
    (0, typeorm_1.OneToOne)(() => cidadao_entity_1.Cidadao, { onDelete: 'CASCADE' }),
    (0, typeorm_1.JoinColumn)({ name: 'cidadao_id' }),
    __metadata("design:type", typeof (_a = typeof cidadao_entity_1.Cidadao !== "undefined" && cidadao_entity_1.Cidadao) === "function" ? _a : Object)
], SituacaoMoradia.prototype, "cidadao", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: TipoMoradiaEnum,
        enumName: 'tipo_moradia_enum',
        nullable: true,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsEnum)(TipoMoradiaEnum, { message: 'Tipo de moradia inválido' }),
    __metadata("design:type", String)
], SituacaoMoradia.prototype, "tipo_moradia", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", Number)
], SituacaoMoradia.prototype, "numero_comodos", void 0);
__decorate([
    (0, typeorm_1.Column)('decimal', { precision: 10, scale: 2, nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({}, { message: 'Valor do aluguel deve ser um número' }),
    (0, class_validator_1.Min)(0, { message: 'Valor do aluguel não pode ser negativo' }),
    __metadata("design:type", Number)
], SituacaoMoradia.prototype, "valor_aluguel", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({}, { message: 'Tempo de moradia deve ser um número' }),
    __metadata("design:type", Number)
], SituacaoMoradia.prototype, "tempo_moradia", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", Boolean)
], SituacaoMoradia.prototype, "possui_banheiro", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", Boolean)
], SituacaoMoradia.prototype, "possui_energia_eletrica", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", Boolean)
], SituacaoMoradia.prototype, "possui_agua_encanada", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", Boolean)
], SituacaoMoradia.prototype, "possui_coleta_lixo", void 0);
__decorate([
    (0, typeorm_1.Column)({ nullable: true }),
    (0, class_validator_1.IsOptional)(),
    __metadata("design:type", String)
], SituacaoMoradia.prototype, "observacoes", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", typeof (_b = typeof Date !== "undefined" && Date) === "function" ? _b : Object)
], SituacaoMoradia.prototype, "created_at", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object)
], SituacaoMoradia.prototype, "updated_at", void 0);
__decorate([
    (0, typeorm_1.DeleteDateColumn)(),
    __metadata("design:type", typeof (_d = typeof Date !== "undefined" && Date) === "function" ? _d : Object)
], SituacaoMoradia.prototype, "removed_at", void 0);
exports.SituacaoMoradia = SituacaoMoradia = __decorate([
    (0, typeorm_1.Entity)('situacao_moradia'),
    (0, typeorm_1.Index)(['cidadao_id'], { unique: true })
], SituacaoMoradia);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXGVudGl0aWVzXFxzaXR1YWNhby1tb3JhZGlhLmVudGl0eS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEscUNBVWlCO0FBQ2pCLHFEQUFnRjtBQUNoRixxREFBMkM7QUFFM0MsSUFBWSxlQVFYO0FBUkQsV0FBWSxlQUFlO0lBQ3pCLHNDQUFtQixDQUFBO0lBQ25CLHNDQUFtQixDQUFBO0lBQ25CLG9DQUFpQixDQUFBO0lBQ2pCLHdDQUFxQixDQUFBO0lBQ3JCLGdEQUE2QixDQUFBO0lBQzdCLG9DQUFpQixDQUFBO0lBQ2pCLGtDQUFlLENBQUE7QUFDakIsQ0FBQyxFQVJXLGVBQWUsK0JBQWYsZUFBZSxRQVExQjtBQUlNLElBQU0sZUFBZSxHQUFyQixNQUFNLGVBQWU7SUFFMUIsRUFBRSxDQUFTO0lBSVgsVUFBVSxDQUFTO0lBSW5CLE9BQU8sQ0FBVTtJQVVqQixZQUFZLENBQWtCO0lBSTlCLGNBQWMsQ0FBUztJQU12QixhQUFhLENBQVM7SUFLdEIsYUFBYSxDQUFTO0lBSXRCLGVBQWUsQ0FBVTtJQUl6Qix1QkFBdUIsQ0FBVTtJQUlqQyxvQkFBb0IsQ0FBVTtJQUk5QixrQkFBa0IsQ0FBVTtJQUk1QixXQUFXLENBQVM7SUFHcEIsVUFBVSxDQUFPO0lBR2pCLFVBQVUsQ0FBTztJQUdqQixVQUFVLENBQU87SUFFakIsb0JBQW9CO0lBQ3BCLElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QixDQUFDO0lBRUQsSUFBSSxTQUFTLENBQUMsS0FBYTtRQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDWCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFD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QUlqQztJQUZDLElBQUEsZ0JBQU0sRUFBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUMxQixJQUFBLDRCQUFVLEdBQUU7OzZEQUNpQjtBQUk5QjtJQUZDLElBQUEsZ0JBQU0sRUFBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUMxQixJQUFBLDRCQUFVLEdBQUU7OzJEQUNlO0FBSTVCO0lBRkMsSUFBQSxnQkFBTSxFQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDO0lBQzFCLElBQUEsNEJBQVUsR0FBRTs7b0RBQ087QUFHcEI7SUFEQyxJQUFBLDBCQUFnQixHQUFFO2tEQUNQLElBQUksb0JBQUosSUFBSTttREFBQztBQUdqQjtJQURDLElBQUEsMEJBQWdCLEdBQUU7a0RBQ1AsSUFBSSxvQkFBSixJQUFJO21EQUFDO0FBR2pCO0lBREMsSUFBQSwwQkFBZ0IsR0FBRTtrREFDUCxJQUFJLG9CQUFKLElBQUk7bURBQUM7MEJBaEVOLGVBQWU7SUFGM0IsSUFBQSxnQkFBTSxFQUFDLGtCQUFrQixDQUFDO0lBQzFCLElBQUEsZUFBSyxFQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUM7R0FDM0IsZUFBZSxDQWtpQjNCIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZXVkcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZXRvc1xccGdiZW5cXHBnYmVuLXNlcnZlclxcc3JjXFxlbnRpdGllc1xcc2l0dWFjYW8tbW9yYWRpYS5lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRW50aXR5LFxuICBQcmltYXJ5R2VuZXJhdGVkQ29sdW1uLFxuICBDb2x1bW4sXG4gIENyZWF0ZURhdGVDb2x1bW4sXG4gIFVwZGF0ZURhdGVDb2x1bW4sXG4gIERlbGV0ZURhdGVDb2x1bW4sXG4gIE9uZVRvT25lLFxuICBKb2luQ29sdW1uLFxuICBJbmRleCxcbn0gZnJvbSAndHlwZW9ybSc7XG5pbXBvcnQgeyBJc05vdEVtcHR5LCBJc09wdGlvbmFsLCBJc051bWJlciwgTWluLCBJc0VudW0gfSBmcm9tICdjbGFzcy12YWxpZGF0b3InO1xuaW1wb3J0IHsgQ2lkYWRhbyB9IGZyb20gJy4vY2lkYWRhby5lbnRpdHknO1xuXG5leHBvcnQgZW51bSBUaXBvTW9yYWRpYUVudW0ge1xuICBQUk9QUklBID0gJ3Byb3ByaWEnLFxuICBBTFVHQURBID0gJ2FsdWdhZGEnLFxuICBDRURJREEgPSAnY2VkaWRhJyxcbiAgT0NVUEFDQU8gPSAnb2N1cGFjYW8nLFxuICBTSVRVQUNBT19SVUEgPSAnc2l0dWFjYW9fcnVhJyxcbiAgQUJSSUdPID0gJ2FicmlnbycsXG4gIE9VVFJPID0gJ291dHJvJyxcbn1cblxuQEVudGl0eSgnc2l0dWFjYW9fbW9yYWRpYScpXG5ASW5kZXgoWydjaWRhZGFvX2lkJ10sIHsgdW5pcXVlOiB0cnVlIH0pXG5leHBvcnQgY2xhc3MgU2l0dWFjYW9Nb3JhZGlhIHtcbiAgQFByaW1hcnlHZW5lcmF0ZWRDb2x1bW4oJ3V1aWQnKVxuICBpZDogc3RyaW5nO1xuXG4gIEBDb2x1bW4oKVxuICBASXNOb3RFbXB0eSh7IG1lc3NhZ2U6ICdJRCBkbyBjaWRhZMOjbyDDqSBvYnJpZ2F0w7NyaW8nIH0pXG4gIGNpZGFkYW9faWQ6IHN0cmluZztcblxuICBAT25lVG9PbmUoKCkgPT4gQ2lkYWRhbywgeyBvbkRlbGV0ZTogJ0NBU0NBREUnIH0pXG4gIEBKb2luQ29sdW1uKHsgbmFtZTogJ2NpZGFkYW9faWQnIH0pXG4gIGNpZGFkYW86IENpZGFkYW87XG5cbiAgQENvbHVtbih7XG4gICAgdHlwZTogJ2VudW0nLFxuICAgIGVudW06IFRpcG9Nb3JhZGlhRW51bSxcbiAgICBlbnVtTmFtZTogJ3RpcG9fbW9yYWRpYV9lbnVtJyxcbiAgICBudWxsYWJsZTogdHJ1ZSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNFbnVtKFRpcG9Nb3JhZGlhRW51bSwgeyBtZXNzYWdlOiAnVGlwbyBkZSBtb3JhZGlhIGludsOhbGlkbycgfSlcbiAgdGlwb19tb3JhZGlhOiBUaXBvTW9yYWRpYUVudW07XG5cbiAgQENvbHVtbih7IG51bGxhYmxlOiB0cnVlIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgbnVtZXJvX2NvbW9kb3M6IG51bWJlcjtcblxuICBAQ29sdW1uKCdkZWNpbWFsJywgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogMiwgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNOdW1iZXIoe30sIHsgbWVzc2FnZTogJ1ZhbG9yIGRvIGFsdWd1ZWwgZGV2ZSBzZXIgdW0gbsO6bWVybycgfSlcbiAgQE1pbigwLCB7IG1lc3NhZ2U6ICdWYWxvciBkbyBhbHVndWVsIG7Do28gcG9kZSBzZXIgbmVnYXRpdm8nIH0pXG4gIHZhbG9yX2FsdWd1ZWw6IG51bWJlcjtcblxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNOdW1iZXIoe30sIHsgbWVzc2FnZTogJ1RlbXBvIGRlIG1vcmFkaWEgZGV2ZSBzZXIgdW0gbsO6bWVybycgfSlcbiAgdGVtcG9fbW9yYWRpYTogbnVtYmVyO1xuXG4gIEBDb2x1bW4oeyBudWxsYWJsZTogdHJ1ZSB9KVxuICBASXNPcHRpb25hbCgpXG4gIHBvc3N1aV9iYW5oZWlybzogYm9vbGVhbjtcblxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBwb3NzdWlfZW5lcmdpYV9lbGV0cmljYTogYm9vbGVhbjtcblxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBwb3NzdWlfYWd1YV9lbmNhbmFkYTogYm9vbGVhbjtcblxuICBAQ29sdW1uKHsgbnVsbGFibGU6IHRydWUgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBwb3NzdWlfY29sZXRhX2xpeG86IGJvb2xlYW47XG5cbiAgQENvbHVtbih7IG51bGxhYmxlOiB0cnVlIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgb2JzZXJ2YWNvZXM6IHN0cmluZztcblxuICBAQ3JlYXRlRGF0ZUNvbHVtbigpXG4gIGNyZWF0ZWRfYXQ6IERhdGU7XG5cbiAgQFVwZGF0ZURhdGVDb2x1bW4oKVxuICB1cGRhdGVkX2F0OiBEYXRlO1xuXG4gIEBEZWxldGVEYXRlQ29sdW1uKClcbiAgcmVtb3ZlZF9hdDogRGF0ZTtcblxuICAvLyBHZXR0ZXJzIGUgU2V0dGVyc1xuICBnZXQgY2lkYWRhb0lkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY2lkYWRhb19pZDtcbiAgfVxuXG4gIHNldCBjaWRhZGFvSWQodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuY2lkYWRhb19pZCA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IGNyZWF0ZWRBdCgpOiBEYXRlIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVkX2F0O1xuICB9XG5cbiAgZ2V0IHVwZGF0ZWRBdCgpOiBEYXRlIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVkX2F0O1xuICB9XG5cbiAgZ2V0IHJlbW92ZWRBdCgpOiBEYXRlIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVkX2F0O1xuICB9XG5cbiAgLy8gTcOpdG9kb3MgVXRpbGl0w6FyaW9zXG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIGEgc2l0dWHDp8OjbyBmb2kgY3JpYWRhIHJlY2VudGVtZW50ZSAow7psdGltYXMgMjQgaG9yYXMpXG4gICAqL1xuICBpc0NyaWFkb1JlY2VudGVtZW50ZSgpOiBib29sZWFuIHtcbiAgICBjb25zdCBhZ29yYSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgdW1EaWFBdHJhcyA9IG5ldyBEYXRlKGFnb3JhLmdldFRpbWUoKSAtIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZWRfYXQgPiB1bURpYUF0cmFzO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGEgYSBpZGFkZSBkbyByZWdpc3RybyBlbSBkaWFzXG4gICAqL1xuICBnZXRJZGFkZVJlZ2lzdHJvRW1EaWFzKCk6IG51bWJlciB7XG4gICAgY29uc3QgYWdvcmEgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMoYWdvcmEuZ2V0VGltZSgpIC0gdGhpcy5jcmVhdGVkX2F0LmdldFRpbWUoKSk7XG4gICAgcmV0dXJuIE1hdGguY2VpbChkaWZmVGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgYSBzaXR1YcOnw6NvIGZvaSByZW1vdmlkYVxuICAgKi9cbiAgZm9pUmVtb3ZpZG8oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5yZW1vdmVkX2F0O1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIGEgc2l0dWHDp8OjbyBlc3TDoSBhdGl2YVxuICAgKi9cbiAgaXNBdGl2bygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMucmVtb3ZlZF9hdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSDDqSBtb3JhZGlhIHByw7NwcmlhXG4gICAqL1xuICBpc01vcmFkaWFQcm9wcmlhKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnRpcG9fbW9yYWRpYSA9PT0gVGlwb01vcmFkaWFFbnVtLlBST1BSSUE7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgbW9yYWRpYSBhbHVnYWRhXG4gICAqL1xuICBpc01vcmFkaWFBbHVnYWRhKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnRpcG9fbW9yYWRpYSA9PT0gVGlwb01vcmFkaWFFbnVtLkFMVUdBREE7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgbW9yYWRpYSBjZWRpZGFcbiAgICovXG4gIGlzTW9yYWRpYUNlZGlkYSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy50aXBvX21vcmFkaWEgPT09IFRpcG9Nb3JhZGlhRW51bS5DRURJREE7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgb2N1cGHDp8Ojb1xuICAgKi9cbiAgaXNPY3VwYWNhbygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy50aXBvX21vcmFkaWEgPT09IFRpcG9Nb3JhZGlhRW51bS5PQ1VQQUNBTztcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSBlc3TDoSBlbSBzaXR1YcOnw6NvIGRlIHJ1YVxuICAgKi9cbiAgaXNTaXR1YWNhb1J1YSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy50aXBvX21vcmFkaWEgPT09IFRpcG9Nb3JhZGlhRW51bS5TSVRVQUNBT19SVUE7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgZXN0w6EgZW0gYWJyaWdvXG4gICAqL1xuICBpc0FicmlnbygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy50aXBvX21vcmFkaWEgPT09IFRpcG9Nb3JhZGlhRW51bS5BQlJJR087XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgdGVtIG1vcmFkaWEgZXN0w6F2ZWwgKHByw7NwcmlhIG91IGFsdWdhZGEpXG4gICAqL1xuICB0ZW1Nb3JhZGlhRXN0YXZlbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc01vcmFkaWFQcm9wcmlhKCkgfHwgdGhpcy5pc01vcmFkaWFBbHVnYWRhKCk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgdGVtIG1vcmFkaWEgcHJlY8OhcmlhIChvY3VwYcOnw6NvLCBzaXR1YcOnw6NvIGRlIHJ1YSwgYWJyaWdvKVxuICAgKi9cbiAgdGVtTW9yYWRpYVByZWNhcmlhKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzT2N1cGFjYW8oKSB8fCB0aGlzLmlzU2l0dWFjYW9SdWEoKSB8fCB0aGlzLmlzQWJyaWdvKCk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgdGVtIHZhbG9yIGRlIGFsdWd1ZWwgZGVmaW5pZG9cbiAgICovXG4gIHRlbVZhbG9yQWx1Z3VlbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy52YWxvcl9hbHVndWVsICE9PSBudWxsICYmXG4gICAgICB0aGlzLnZhbG9yX2FsdWd1ZWwgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgdGhpcy52YWxvcl9hbHVndWVsID4gMFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIG8gdmFsb3IgZG8gYWx1Z3VlbCBmb3JtYXRhZG9cbiAgICovXG4gIGdldFZhbG9yQWx1Z3VlbEZvcm1hdGFkbygpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy50ZW1WYWxvckFsdWd1ZWwoKSkgcmV0dXJuICdOw6NvIGluZm9ybWFkbyc7XG4gICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgncHQtQlInLCB7XG4gICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgIGN1cnJlbmN5OiAnQlJMJyxcbiAgICB9KS5mb3JtYXQodGhpcy52YWxvcl9hbHVndWVsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSB0ZW0gbsO6bWVybyBkZSBjw7Rtb2RvcyBkZWZpbmlkb1xuICAgKi9cbiAgdGVtTnVtZXJvQ29tb2RvcygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5udW1lcm9fY29tb2RvcyAhPT0gbnVsbCAmJlxuICAgICAgdGhpcy5udW1lcm9fY29tb2RvcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICB0aGlzLm51bWVyb19jb21vZG9zID4gMFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgYSBtb3JhZGlhIMOpIGFkZXF1YWRhICh0ZW0gaW5mcmFlc3RydXR1cmEgYsOhc2ljYSlcbiAgICovXG4gIGlzTW9yYWRpYUFkZXF1YWRhKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnBvc3N1aV9iYW5oZWlybyAmJlxuICAgICAgdGhpcy5wb3NzdWlfZW5lcmdpYV9lbGV0cmljYSAmJlxuICAgICAgdGhpcy5wb3NzdWlfYWd1YV9lbmNhbmFkYSAmJlxuICAgICAgdGhpcy5wb3NzdWlfY29sZXRhX2xpeG9cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRhIHF1YW50b3MgaXRlbnMgZGUgaW5mcmFlc3RydXR1cmEgcG9zc3VpXG4gICAqL1xuICBnZXRJdGVuc0luZnJhZXN0cnV0dXJhKCk6IG51bWJlciB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBpZiAodGhpcy5wb3NzdWlfYmFuaGVpcm8pIGNvdW50Kys7XG4gICAgaWYgKHRoaXMucG9zc3VpX2VuZXJnaWFfZWxldHJpY2EpIGNvdW50Kys7XG4gICAgaWYgKHRoaXMucG9zc3VpX2FndWFfZW5jYW5hZGEpIGNvdW50Kys7XG4gICAgaWYgKHRoaXMucG9zc3VpX2NvbGV0YV9saXhvKSBjb3VudCsrO1xuICAgIHJldHVybiBjb3VudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gYSBwb250dWHDp8OjbyBkZSBhZGVxdWHDp8OjbyBkYSBtb3JhZGlhICgwLTEwMClcbiAgICovXG4gIGdldFBvbnR1YWNhb0FkZXF1YWNhbygpOiBudW1iZXIge1xuICAgIGxldCBwb250b3MgPSAwO1xuXG4gICAgLy8gVGlwbyBkZSBtb3JhZGlhICg0MCBwb250b3MpXG4gICAgaWYgKHRoaXMuaXNNb3JhZGlhUHJvcHJpYSgpKSBwb250b3MgKz0gNDA7XG4gICAgZWxzZSBpZiAodGhpcy5pc01vcmFkaWFBbHVnYWRhKCkpIHBvbnRvcyArPSAzNTtcbiAgICBlbHNlIGlmICh0aGlzLmlzTW9yYWRpYUNlZGlkYSgpKSBwb250b3MgKz0gMjU7XG4gICAgZWxzZSBpZiAodGhpcy5pc09jdXBhY2FvKCkpIHBvbnRvcyArPSAxNTtcbiAgICBlbHNlIGlmICh0aGlzLmlzQWJyaWdvKCkpIHBvbnRvcyArPSAxMDtcbiAgICBlbHNlIGlmICh0aGlzLmlzU2l0dWFjYW9SdWEoKSkgcG9udG9zICs9IDA7XG5cbiAgICAvLyBJbmZyYWVzdHJ1dHVyYSAoNjAgcG9udG9zIC0gMTUgY2FkYSlcbiAgICBwb250b3MgKz0gdGhpcy5nZXRJdGVuc0luZnJhZXN0cnV0dXJhKCkgKiAxNTtcblxuICAgIHJldHVybiBNYXRoLm1pbihwb250b3MsIDEwMCk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgdGVtIHRlbXBvIGRlIG1vcmFkaWEgZGVmaW5pZG9cbiAgICovXG4gIHRlbVRlbXBvTW9yYWRpYSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy50ZW1wb19tb3JhZGlhICE9PSBudWxsICYmXG4gICAgICB0aGlzLnRlbXBvX21vcmFkaWEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgdGhpcy50ZW1wb19tb3JhZGlhID4gMFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgbW9yYSBow6EgbXVpdG8gdGVtcG8gbm8gbG9jYWwgKG1haXMgZGUgNSBhbm9zKVxuICAgKi9cbiAgbW9yYU11aXRvVGVtcG8oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudGVtVGVtcG9Nb3JhZGlhKCkgJiYgdGhpcy50ZW1wb19tb3JhZGlhID49IDYwOyAvLyA2MCBtZXNlcyA9IDUgYW5vc1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNlIG1vcmEgaMOhIHBvdWNvIHRlbXBvIG5vIGxvY2FsIChtZW5vcyBkZSAxIGFubylcbiAgICovXG4gIG1vcmFQb3Vjb1RlbXBvKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnRlbVRlbXBvTW9yYWRpYSgpICYmIHRoaXMudGVtcG9fbW9yYWRpYSA8IDEyOyAvLyBtZW5vcyBkZSAxMiBtZXNlc1xuICB9XG5cbiAgLyoqXG4gICAqIE9idMOpbSBhIGRlc2NyacOnw6NvIGRvIHRpcG8gZGUgbW9yYWRpYVxuICAgKi9cbiAgZ2V0RGVzY3JpY2FvVGlwb01vcmFkaWEoKTogc3RyaW5nIHtcbiAgICBjb25zdCBkZXNjcmljb2VzID0ge1xuICAgICAgW1RpcG9Nb3JhZGlhRW51bS5QUk9QUklBXTogJ1Byw7NwcmlhJyxcbiAgICAgIFtUaXBvTW9yYWRpYUVudW0uQUxVR0FEQV06ICdBbHVnYWRhJyxcbiAgICAgIFtUaXBvTW9yYWRpYUVudW0uQ0VESURBXTogJ0NlZGlkYScsXG4gICAgICBbVGlwb01vcmFkaWFFbnVtLk9DVVBBQ0FPXTogJ09jdXBhw6fDo28nLFxuICAgICAgW1RpcG9Nb3JhZGlhRW51bS5TSVRVQUNBT19SVUFdOiAnU2l0dWHDp8OjbyBkZSBSdWEnLFxuICAgICAgW1RpcG9Nb3JhZGlhRW51bS5BQlJJR09dOiAnQWJyaWdvJyxcbiAgICAgIFtUaXBvTW9yYWRpYUVudW0uT1VUUk9dOiAnT3V0cm8nLFxuICAgIH07XG4gICAgcmV0dXJuIGRlc2NyaWNvZXNbdGhpcy50aXBvX21vcmFkaWFdIHx8ICdOw6NvIGluZm9ybWFkbyc7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIGEgZGVzY3Jpw6fDo28gZG8gdGVtcG8gZGUgbW9yYWRpYVxuICAgKi9cbiAgZ2V0RGVzY3JpY2FvVGVtcG9Nb3JhZGlhKCk6IHN0cmluZyB7XG4gICAgaWYgKCF0aGlzLnRlbVRlbXBvTW9yYWRpYSgpKSByZXR1cm4gJ07Do28gaW5mb3JtYWRvJztcblxuICAgIGlmICh0aGlzLnRlbXBvX21vcmFkaWEgPCAxMikge1xuICAgICAgcmV0dXJuIGAke3RoaXMudGVtcG9fbW9yYWRpYX0gbcOqcyhlcylgO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhbm9zID0gTWF0aC5mbG9vcih0aGlzLnRlbXBvX21vcmFkaWEgLyAxMik7XG4gICAgICBjb25zdCBtZXNlcyA9IHRoaXMudGVtcG9fbW9yYWRpYSAlIDEyO1xuICAgICAgaWYgKG1lc2VzID09PSAwKSB7XG4gICAgICAgIHJldHVybiBgJHthbm9zfSBhbm8ocylgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGAke2Fub3N9IGFubyhzKSBlICR7bWVzZXN9IG3DqnMoZXMpYDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIGxpc3RhIGRlIGl0ZW5zIGRlIGluZnJhZXN0cnV0dXJhIGRpc3BvbsOtdmVpc1xuICAgKi9cbiAgZ2V0SXRlbnNJbmZyYWVzdHJ1dHVyYURpc3Bvbml2ZWlzKCk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBpdGVuczogc3RyaW5nW10gPSBbXTtcbiAgICBpZiAodGhpcy5wb3NzdWlfYmFuaGVpcm8pIGl0ZW5zLnB1c2goJ0JhbmhlaXJvJyk7XG4gICAgaWYgKHRoaXMucG9zc3VpX2VuZXJnaWFfZWxldHJpY2EpIGl0ZW5zLnB1c2goJ0VuZXJnaWEgRWzDqXRyaWNhJyk7XG4gICAgaWYgKHRoaXMucG9zc3VpX2FndWFfZW5jYW5hZGEpIGl0ZW5zLnB1c2goJ8OBZ3VhIEVuY2FuYWRhJyk7XG4gICAgaWYgKHRoaXMucG9zc3VpX2NvbGV0YV9saXhvKSBpdGVucy5wdXNoKCdDb2xldGEgZGUgTGl4bycpO1xuICAgIHJldHVybiBpdGVucztcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gbGlzdGEgZGUgaXRlbnMgZGUgaW5mcmFlc3RydXR1cmEgZmFsdGFudGVzXG4gICAqL1xuICBnZXRJdGVuc0luZnJhZXN0cnV0dXJhRmFsdGFudGVzKCk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBpdGVuczogc3RyaW5nW10gPSBbXTtcbiAgICBpZiAoIXRoaXMucG9zc3VpX2JhbmhlaXJvKSBpdGVucy5wdXNoKCdCYW5oZWlybycpO1xuICAgIGlmICghdGhpcy5wb3NzdWlfZW5lcmdpYV9lbGV0cmljYSkgaXRlbnMucHVzaCgnRW5lcmdpYSBFbMOpdHJpY2EnKTtcbiAgICBpZiAoIXRoaXMucG9zc3VpX2FndWFfZW5jYW5hZGEpIGl0ZW5zLnB1c2goJ8OBZ3VhIEVuY2FuYWRhJyk7XG4gICAgaWYgKCF0aGlzLnBvc3N1aV9jb2xldGFfbGl4bykgaXRlbnMucHVzaCgnQ29sZXRhIGRlIExpeG8nKTtcbiAgICByZXR1cm4gaXRlbnM7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgcGVydGVuY2UgYSB1bSBjaWRhZMOjbyBlc3BlY8OtZmljb1xuICAgKi9cbiAgcGVydGVuY2VBb0NpZGFkYW8oY2lkYWRhb0lkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jaWRhZGFvX2lkID09PSBjaWRhZGFvSWQ7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIHVtIHJlc3VtbyBkYSBzaXR1YcOnw6NvIGRlIG1vcmFkaWFcbiAgICovXG4gIGdldFN1bW1hcnkoKTogc3RyaW5nIHtcbiAgICBjb25zdCB0aXBvID0gdGhpcy5nZXREZXNjcmljYW9UaXBvTW9yYWRpYSgpO1xuICAgIGNvbnN0IGFkZXF1YWNhbyA9IHRoaXMuZ2V0UG9udHVhY2FvQWRlcXVhY2FvKCk7XG4gICAgY29uc3QgdGVtcG8gPSB0aGlzLnRlbVRlbXBvTW9yYWRpYSgpXG4gICAgICA/IGAgLSAke3RoaXMuZ2V0RGVzY3JpY2FvVGVtcG9Nb3JhZGlhKCl9YFxuICAgICAgOiAnJztcbiAgICByZXR1cm4gYCR7dGlwb30gKCR7YWRlcXVhY2FvfSUgYWRlcXVhZGEpJHt0ZW1wb31gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlcmEgdW1hIGNoYXZlIMO6bmljYSBwYXJhIGEgc2l0dWHDp8Ojb1xuICAgKi9cbiAgZ2V0VW5pcXVlS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBzaXR1YWNhb19tb3JhZGlhXyR7dGhpcy5jaWRhZGFvX2lkfWA7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgYSBzaXR1YcOnw6NvIMOpIGNvbnNpc3RlbnRlXG4gICAqL1xuICBpc0NvbnNpc3RlbnRlKCk6IGJvb2xlYW4ge1xuICAgIC8vIFZlcmlmaWNhIHNlIHRlbSBjaWRhZMOjb1xuICAgIGlmICghdGhpcy5jaWRhZGFvX2lkKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBTZSDDqSBhbHVnYWRhLCBkZXZlIHRlciB2YWxvciBkbyBhbHVndWVsXG4gICAgaWYgKHRoaXMuaXNNb3JhZGlhQWx1Z2FkYSgpICYmICF0aGlzLnRlbVZhbG9yQWx1Z3VlbCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gU2UgdGVtIHZhbG9yIGRlIGFsdWd1ZWwsIGRldmUgc2VyIG1vcmFkaWEgYWx1Z2FkYVxuICAgIGlmICh0aGlzLnRlbVZhbG9yQWx1Z3VlbCgpICYmICF0aGlzLmlzTW9yYWRpYUFsdWdhZGEoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFNpdHVhw6fDo28gZGUgcnVhIG7Do28gZGV2ZXJpYSB0ZXIgaW5mcmFlc3RydXR1cmFcbiAgICBpZiAodGhpcy5pc1NpdHVhY2FvUnVhKCkgJiYgdGhpcy5nZXRJdGVuc0luZnJhZXN0cnV0dXJhKCkgPiAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgcG9kZSBzZXIgcmVtb3ZpZGFcbiAgICovXG4gIHBvZGVTZXJSZW1vdmlkbygpOiBib29sZWFuIHtcbiAgICAvLyBOw6NvIHBvZGUgcmVtb3ZlciBzZSBqw6EgZm9pIHJlbW92aWRvXG4gICAgaWYgKHRoaXMuZm9pUmVtb3ZpZG8oKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmEgYSBzaXR1YcOnw6NvIGRlIG1vcmFkaWEgKHNlbSBJRClcbiAgICovXG4gIGNsb25lKCk6IFBhcnRpYWw8U2l0dWFjYW9Nb3JhZGlhPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNpZGFkYW9faWQ6IHRoaXMuY2lkYWRhb19pZCxcbiAgICAgIHRpcG9fbW9yYWRpYTogdGhpcy50aXBvX21vcmFkaWEsXG4gICAgICBudW1lcm9fY29tb2RvczogdGhpcy5udW1lcm9fY29tb2RvcyxcbiAgICAgIHZhbG9yX2FsdWd1ZWw6IHRoaXMudmFsb3JfYWx1Z3VlbCxcbiAgICAgIHRlbXBvX21vcmFkaWE6IHRoaXMudGVtcG9fbW9yYWRpYSxcbiAgICAgIHBvc3N1aV9iYW5oZWlybzogdGhpcy5wb3NzdWlfYmFuaGVpcm8sXG4gICAgICBwb3NzdWlfZW5lcmdpYV9lbGV0cmljYTogdGhpcy5wb3NzdWlfZW5lcmdpYV9lbGV0cmljYSxcbiAgICAgIHBvc3N1aV9hZ3VhX2VuY2FuYWRhOiB0aGlzLnBvc3N1aV9hZ3VhX2VuY2FuYWRhLFxuICAgICAgcG9zc3VpX2NvbGV0YV9saXhvOiB0aGlzLnBvc3N1aV9jb2xldGFfbGl4byxcbiAgICAgIG9ic2VydmFjb2VzOiB0aGlzLm9ic2VydmFjb2VzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2Ugw6kgZWxlZ8OtdmVsIHBhcmEgYXV4w61saW8gbW9yYWRpYVxuICAgKi9cbiAgaXNFbGVnaXZlbEF1eGlsaW9Nb3JhZGlhKCk6IGJvb2xlYW4ge1xuICAgIC8vIFNpdHVhw6fDtWVzIHF1ZSBwb2RlbSBzZXIgZWxlZ8OtdmVpcyBwYXJhIGF1eMOtbGlvXG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuaXNNb3JhZGlhQWx1Z2FkYSgpIHx8XG4gICAgICB0aGlzLnRlbU1vcmFkaWFQcmVjYXJpYSgpIHx8XG4gICAgICAhdGhpcy5pc01vcmFkaWFBZGVxdWFkYSgpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzZSDDqSBwcmlvcml0w6FyaW8gcGFyYSBwcm9ncmFtYXMgaGFiaXRhY2lvbmFpc1xuICAgKi9cbiAgaXNQcmlvcml0YXJpb0hhYml0YWNhbygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5pc1NpdHVhY2FvUnVhKCkgfHxcbiAgICAgIHRoaXMuaXNBYnJpZ28oKSB8fFxuICAgICAgdGhpcy5pc09jdXBhY2FvKCkgfHxcbiAgICAgIHRoaXMuZ2V0UG9udHVhY2FvQWRlcXVhY2FvKCkgPCA1MFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogT2J0w6ltIG8gbsOtdmVsIGRlIHZ1bG5lcmFiaWxpZGFkZSBoYWJpdGFjaW9uYWxcbiAgICovXG4gIGdldE5pdmVsVnVsbmVyYWJpbGlkYWRlKCk6ICdCQUlYTycgfCAnTUVESU8nIHwgJ0FMVE8nIHwgJ0NSSVRJQ08nIHtcbiAgICBpZiAodGhpcy5pc1NpdHVhY2FvUnVhKCkpIHJldHVybiAnQ1JJVElDTyc7XG4gICAgaWYgKHRoaXMuaXNBYnJpZ28oKSB8fCB0aGlzLmlzT2N1cGFjYW8oKSkgcmV0dXJuICdBTFRPJztcbiAgICBpZiAoIXRoaXMuaXNNb3JhZGlhQWRlcXVhZGEoKSB8fCB0aGlzLmdldFBvbnR1YWNhb0FkZXF1YWNhbygpIDwgNTApXG4gICAgICByZXR1cm4gJ01FRElPJztcbiAgICByZXR1cm4gJ0JBSVhPJztcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRhIGEgZGF0YSBkZSBjcmlhw6fDo29cbiAgICovXG4gIGdldENyaWFjYW9Gb3JtYXRhZGEoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVkX2F0LnRvTG9jYWxlRGF0ZVN0cmluZygncHQtQlInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRhIGEgZGF0YSBkZSBhdHVhbGl6YcOnw6NvXG4gICAqL1xuICBnZXRBdHVhbGl6YWNhb0Zvcm1hdGFkYSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZWRfYXQudG9Mb2NhbGVEYXRlU3RyaW5nKCdwdC1CUicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBpbmZvcm1hw6fDtWVzIHNlbnPDrXZlaXMgcGFyYSBsb2dzXG4gICAqL1xuICB0b1NhZmVMb2coKTogUGFydGlhbDxTaXR1YWNhb01vcmFkaWE+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICB0aXBvX21vcmFkaWE6IHRoaXMudGlwb19tb3JhZGlhLFxuICAgICAgbnVtZXJvX2NvbW9kb3M6IHRoaXMubnVtZXJvX2NvbW9kb3MsXG4gICAgICB0ZW1wb19tb3JhZGlhOiB0aGlzLnRlbXBvX21vcmFkaWEsXG4gICAgICBwb3NzdWlfYmFuaGVpcm86IHRoaXMucG9zc3VpX2JhbmhlaXJvLFxuICAgICAgcG9zc3VpX2VuZXJnaWFfZWxldHJpY2E6IHRoaXMucG9zc3VpX2VuZXJnaWFfZWxldHJpY2EsXG4gICAgICBwb3NzdWlfYWd1YV9lbmNhbmFkYTogdGhpcy5wb3NzdWlfYWd1YV9lbmNhbmFkYSxcbiAgICAgIHBvc3N1aV9jb2xldGFfbGl4bzogdGhpcy5wb3NzdWlfY29sZXRhX2xpeG8sXG4gICAgICBjcmVhdGVkX2F0OiB0aGlzLmNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0OiB0aGlzLnVwZGF0ZWRfYXQsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gc3VnZXN0w7VlcyBkZSBtZWxob3JpYSBwYXJhIGEgc2l0dWHDp8OjbyBkZSBtb3JhZGlhXG4gICAqL1xuICBnZXRTdWdlc3RvZXNNZWxob3JpYSgpOiBzdHJpbmdbXSB7XG4gICAgY29uc3Qgc3VnZXN0b2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKHRoaXMudGVtTW9yYWRpYVByZWNhcmlhKCkpIHtcbiAgICAgIHN1Z2VzdG9lcy5wdXNoKCdCdXNjYXIgcHJvZ3JhbWFzIGhhYml0YWNpb25haXMgb3UgYXV4w61saW8gbW9yYWRpYScpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc01vcmFkaWFBZGVxdWFkYSgpKSB7XG4gICAgICBjb25zdCBmYWx0YW50ZXMgPSB0aGlzLmdldEl0ZW5zSW5mcmFlc3RydXR1cmFGYWx0YW50ZXMoKTtcbiAgICAgIHN1Z2VzdG9lcy5wdXNoKGBNZWxob3JhciBpbmZyYWVzdHJ1dHVyYTogJHtmYWx0YW50ZXMuam9pbignLCAnKX1gKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc01vcmFkaWFBbHVnYWRhKCkgJiYgIXRoaXMudGVtVmFsb3JBbHVndWVsKCkpIHtcbiAgICAgIHN1Z2VzdG9lcy5wdXNoKCdJbmZvcm1hciB2YWxvciBkbyBhbHVndWVsIHBhcmEgYW7DoWxpc2UgZGUgYmVuZWbDrWNpb3MnKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudGVtVGVtcG9Nb3JhZGlhKCkpIHtcbiAgICAgIHN1Z2VzdG9lcy5wdXNoKCdJbmZvcm1hciB0ZW1wbyBkZSBtb3JhZGlhIG5vIGxvY2FsIGF0dWFsJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnRlbU51bWVyb0NvbW9kb3MoKSkge1xuICAgICAgc3VnZXN0b2VzLnB1c2goJ0luZm9ybWFyIG7Dum1lcm8gZGUgY8O0bW9kb3MgZGEgbW9yYWRpYScpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc0NvbnNpc3RlbnRlKCkpIHtcbiAgICAgIHN1Z2VzdG9lcy5wdXNoKCdWZXJpZmljYXIgZSBjb3JyaWdpciBpbmNvbnNpc3TDqm5jaWFzIG5vcyBkYWRvcycpO1xuICAgIH1cblxuICAgIHJldHVybiBzdWdlc3RvZXM7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2Egc2UgcHJlY2lzYSBkZSBhdHVhbGl6YcOnw6NvIChkYWRvcyBtdWl0byBhbnRpZ29zKVxuICAgKi9cbiAgcHJlY2lzYUF0dWFsaXphY2FvKCk6IGJvb2xlYW4ge1xuICAgIC8vIERhZG9zIGNvbSBtYWlzIGRlIDYgbWVzZXMgcG9kZW0gcHJlY2lzYXIgZGUgYXR1YWxpemHDp8Ojb1xuICAgIGNvbnN0IHNlaXNlTWVzZXNBdHJhcyA9IG5ldyBEYXRlKCk7XG4gICAgc2Vpc2VNZXNlc0F0cmFzLnNldE1vbnRoKHNlaXNlTWVzZXNBdHJhcy5nZXRNb250aCgpIC0gNik7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlZF9hdCA8IHNlaXNlTWVzZXNBdHJhcztcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnTDqW0gZXN0YXTDrXN0aWNhcyBkYSBzaXR1YcOnw6NvIGRlIG1vcmFkaWFcbiAgICovXG4gIGdldEVzdGF0aXN0aWNhcygpOiB7XG4gICAgcG9udHVhY2FvQWRlcXVhY2FvOiBudW1iZXI7XG4gICAgbml2ZWxWdWxuZXJhYmlsaWRhZGU6IHN0cmluZztcbiAgICBpdGVuc0luZnJhZXN0cnV0dXJhOiBudW1iZXI7XG4gICAgdGVtcG9Nb3JhZGlhOiBzdHJpbmc7XG4gICAgZWxlZ2liaWxpZGFkZUF1eGlsaW86IGJvb2xlYW47XG4gIH0ge1xuICAgIHJldHVybiB7XG4gICAgICBwb250dWFjYW9BZGVxdWFjYW86IHRoaXMuZ2V0UG9udHVhY2FvQWRlcXVhY2FvKCksXG4gICAgICBuaXZlbFZ1bG5lcmFiaWxpZGFkZTogdGhpcy5nZXROaXZlbFZ1bG5lcmFiaWxpZGFkZSgpLFxuICAgICAgaXRlbnNJbmZyYWVzdHJ1dHVyYTogdGhpcy5nZXRJdGVuc0luZnJhZXN0cnV0dXJhKCksXG4gICAgICB0ZW1wb01vcmFkaWE6IHRoaXMuZ2V0RGVzY3JpY2FvVGVtcG9Nb3JhZGlhKCksXG4gICAgICBlbGVnaWJpbGlkYWRlQXV4aWxpbzogdGhpcy5pc0VsZWdpdmVsQXV4aWxpb01vcmFkaWEoKSxcbiAgICB9O1xuICB9XG59XG4iXSwidmVyc2lvbiI6M30=