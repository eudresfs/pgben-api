260483e7fc32e58072e45595a33d1038
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d;
Object.defineProperty(exports, "__esModule", { value: true });
exports.DadosSociaisResponseDto = void 0;
const swagger_1 = require("@nestjs/swagger");
const class_transformer_1 = require("class-transformer");
const escolaridade_enum_1 = require("../../../enums/escolaridade.enum");
const situacao_trabalho_enum_1 = require("../../../enums/situacao-trabalho.enum");
/**
 * DTO de resposta para dados sociais de um cidadão
 *
 * Padroniza o formato de retorno dos dados sociais, incluindo
 * campos calculados e formatação adequada para o frontend.
 */
class DadosSociaisResponseDto {
    id;
    cidadao_id;
    escolaridade;
    publico_prioritario;
    renda;
    ocupacao;
    recebe_pbf;
    valor_pbf;
    recebe_bpc;
    tipo_bpc;
    valor_bpc;
    curso_profissionalizante;
    interesse_curso_profissionalizante;
    situacao_trabalho;
    area_trabalho;
    familiar_apto_trabalho;
    area_interesse_familiar;
    observacoes;
    renda_per_capita;
    total_beneficios;
    renda_total;
    created_at;
    updated_at;
    constructor(dadosSociais) {
        if (dadosSociais) {
            this.id = dadosSociais.id;
            this.cidadao_id = dadosSociais.cidadao_id;
            this.escolaridade = dadosSociais.escolaridade;
            this.publico_prioritario = dadosSociais.publico_prioritario;
            this.renda = dadosSociais.renda
                ? parseFloat(dadosSociais.renda.toString())
                : null;
            this.ocupacao = dadosSociais.ocupacao;
            this.recebe_pbf = dadosSociais.recebe_pbf;
            this.valor_pbf = dadosSociais.valor_pbf
                ? parseFloat(dadosSociais.valor_pbf.toString())
                : null;
            this.recebe_bpc = dadosSociais.recebe_bpc;
            this.tipo_bpc = dadosSociais.tipo_bpc;
            this.valor_bpc = dadosSociais.valor_bpc
                ? parseFloat(dadosSociais.valor_bpc.toString())
                : null;
            this.curso_profissionalizante = dadosSociais.curso_profissionalizante;
            this.interesse_curso_profissionalizante =
                dadosSociais.interesse_curso_profissionalizante;
            this.situacao_trabalho = dadosSociais.situacao_trabalho;
            this.area_trabalho = dadosSociais.area_trabalho;
            this.familiar_apto_trabalho = dadosSociais.familiar_apto_trabalho;
            this.area_interesse_familiar = dadosSociais.area_interesse_familiar;
            this.observacoes = dadosSociais.observacoes;
            this.created_at = dadosSociais.created_at;
            this.updated_at = dadosSociais.updated_at;
            // Cálculos derivados
            this.total_beneficios = this.calculateTotalBeneficios();
            this.renda_total = this.calculateRendaTotal();
        }
    }
    /**
     * Calcula o total de benefícios recebidos
     */
    calculateTotalBeneficios() {
        let total = 0;
        if (this.valor_pbf)
            total += this.valor_pbf;
        if (this.valor_bpc)
            total += this.valor_bpc;
        return total > 0 ? total : null;
    }
    /**
     * Calcula a renda total (renda + benefícios)
     */
    calculateRendaTotal() {
        let total = 0;
        if (this.renda)
            total += this.renda;
        if (this.valor_pbf)
            total += this.valor_pbf;
        if (this.valor_bpc)
            total += this.valor_bpc;
        return total > 0 ? total : null;
    }
}
exports.DadosSociaisResponseDto = DadosSociaisResponseDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'ID único dos dados sociais',
        example: '123e4567-e89b-12d3-a456-426614174000',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "id", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'ID do cidadão proprietário dos dados sociais',
        example: '123e4567-e89b-12d3-a456-426614174001',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "cidadao_id", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Nível de escolaridade do cidadão',
        enum: escolaridade_enum_1.EscolaridadeEnum,
        example: escolaridade_enum_1.EscolaridadeEnum.MEDIO_COMPLETO,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", typeof (_a = typeof escolaridade_enum_1.EscolaridadeEnum !== "undefined" && escolaridade_enum_1.EscolaridadeEnum) === "function" ? _a : Object)
], DadosSociaisResponseDto.prototype, "escolaridade", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão faz parte de público prioritário',
        example: true,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "publico_prioritario", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Renda mensal do cidadão em reais',
        example: 1500.5,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ value }) => (value ? parseFloat(value) : null)),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "renda", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Ocupação ou profissão do cidadão',
        example: 'Auxiliar de limpeza',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "ocupacao", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão recebe Programa Bolsa Família',
        example: false,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "recebe_pbf", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Valor mensal recebido do Programa Bolsa Família',
        example: 400.0,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ value }) => (value ? parseFloat(value) : null)),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "valor_pbf", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão recebe Benefício de Prestação Continuada',
        example: false,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "recebe_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Tipo do BPC recebido',
        example: 'Pessoa com deficiência',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "tipo_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Valor mensal recebido do BPC',
        example: 1320.0,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ value }) => (value ? parseFloat(value) : null)),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "valor_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Curso profissionalizante que o cidadão possui ou está cursando',
        example: 'Técnico em Informática',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "curso_profissionalizante", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão tem interesse em fazer curso profissionalizante',
        example: true,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "interesse_curso_profissionalizante", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Situação atual de trabalho do cidadão',
        enum: situacao_trabalho_enum_1.SituacaoTrabalhoEnum,
        example: situacao_trabalho_enum_1.SituacaoTrabalhoEnum.DESEMPREGADO,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", typeof (_b = typeof situacao_trabalho_enum_1.SituacaoTrabalhoEnum !== "undefined" && situacao_trabalho_enum_1.SituacaoTrabalhoEnum) === "function" ? _b : Object)
], DadosSociaisResponseDto.prototype, "situacao_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Área de trabalho ou interesse profissional',
        example: 'Serviços gerais',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "area_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se há familiar apto para trabalhar na composição familiar',
        example: true,
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", Boolean)
], DadosSociaisResponseDto.prototype, "familiar_apto_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Área de interesse profissional de familiares',
        example: 'Construção civil',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "area_interesse_familiar", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Observações adicionais sobre a situação social',
        example: 'Família em situação de vulnerabilidade social',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", String)
], DadosSociaisResponseDto.prototype, "observacoes", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Renda per capita calculada automaticamente',
        example: 375.12,
        type: 'number',
        format: 'decimal',
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ obj }) => {
        // Calcula renda per capita baseada na composição familiar
        // Este cálculo será implementado no service
        return obj.renda_per_capita || null;
    }),
    __metadata("design:type", Number)
], DadosSociaisResponseDto.prototype, "renda_per_capita", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Total de benefícios recebidos (PBF + BPC)',
        example: 1720.0,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ obj }) => {
        let total = 0;
        if (obj.valor_pbf)
            total += parseFloat(obj.valor_pbf);
        if (obj.valor_bpc)
            total += parseFloat(obj.valor_bpc);
        return total > 0 ? total : null;
    }),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "total_beneficios", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Renda total (renda + benefícios)',
        example: 3220.0,
        type: 'number',
        format: 'decimal',
        nullable: true,
    }),
    (0, class_transformer_1.Expose)(),
    (0, class_transformer_1.Transform)(({ obj }) => {
        let total = 0;
        if (obj.renda)
            total += parseFloat(obj.renda);
        if (obj.valor_pbf)
            total += parseFloat(obj.valor_pbf);
        if (obj.valor_bpc)
            total += parseFloat(obj.valor_bpc);
        return total > 0 ? total : null;
    }),
    __metadata("design:type", Object)
], DadosSociaisResponseDto.prototype, "renda_total", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Data de criação do registro',
        example: '2024-01-15T10:30:00Z',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object)
], DadosSociaisResponseDto.prototype, "created_at", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Data da última atualização',
        example: '2024-01-20T14:45:00Z',
    }),
    (0, class_transformer_1.Expose)(),
    __metadata("design:type", typeof (_d = typeof Date !== "undefined" && Date) === "function" ? _d : Object)
], DadosSociaisResponseDto.prototype, "updated_at", void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGNpZGFkYW9cXGR0b1xcZGFkb3Mtc29jaWFpcy1yZXNwb25zZS5kdG8udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUE4QztBQUM5Qyx5REFBc0Q7QUFFdEQsd0VBQW9FO0FBQ3BFLGtGQUE2RTtBQUU3RTs7Ozs7R0FLRztBQUNILE1BQWEsdUJBQXVCO0lBTWxDLEVBQUUsQ0FBUztJQU9YLFVBQVUsQ0FBUztJQVFuQixZQUFZLENBQW1CO0lBTy9CLG1CQUFtQixDQUFVO0lBVzdCLEtBQUssQ0FBZ0I7SUFPckIsUUFBUSxDQUFTO0lBT2pCLFVBQVUsQ0FBVTtJQVdwQixTQUFTLENBQWdCO0lBT3pCLFVBQVUsQ0FBVTtJQU9wQixRQUFRLENBQVM7SUFXakIsU0FBUyxDQUFnQjtJQVF6Qix3QkFBd0IsQ0FBUztJQVFqQyxrQ0FBa0MsQ0FBVTtJQVE1QyxpQkFBaUIsQ0FBdUI7SUFPeEMsYUFBYSxDQUFTO0lBUXRCLHNCQUFzQixDQUFVO0lBT2hDLHVCQUF1QixDQUFTO0lBT2hDLFdBQVcsQ0FBUztJQWNwQixnQkFBZ0IsQ0FBUztJQWdCekIsZ0JBQWdCLENBQWdCO0lBaUJoQyxXQUFXLENBQWdCO0lBTzNCLFVBQVUsQ0FBTztJQU9qQixVQUFVLENBQU87SUFFakIsWUFBWSxZQUEwQjtRQUNwQyxJQUFJLFlBQVksRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxFQUFFLEdBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQztZQUMxQixJQUFJLENBQUMsVUFBVSxHQUFHLFlBQVksQ0FBQyxVQUFVLENBQUM7WUFDMUMsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDO1lBQzlDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxZQUFZLENBQUMsbUJBQW1CLENBQUM7WUFDNUQsSUFBSSxDQUFDLEtBQUssR0FBRyxZQUFZLENB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LENBQUM7UUFDZCxJQUFJLEdBQUcsQ0FBQyxLQUFLO1lBQUUsS0FBSyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDOUMsSUFBSSxHQUFHLENBQUMsU0FBUztZQUFFLEtBQUssSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3RELElBQUksR0FBRyxDQUFDLFNBQVM7WUFBRSxLQUFLLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN0RCxPQUFPLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ2xDLENBQUMsQ0FBQzs7NERBQ3lCO0FBTzNCO0lBTEMsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsV0FBVyxFQUFFLDZCQUE2QjtRQUMxQyxPQUFPLEVBQUUsc0JBQXNCO0tBQ2hDLENBQUM7SUFDRCxJQUFBLDBCQUFNLEdBQUU7a0RBQ0csSUFBSSxvQkFBSixJQUFJOzJEQUFDO0FBT2pCO0lBTEMsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsV0FBVyxFQUFFLDRCQUE0QjtRQUN6QyxPQUFPLEVBQUUsc0JBQXNCO0tBQ2hDLENBQUM7SUFDRCxJQUFBLDBCQUFNLEdBQUU7a0RBQ0csSUFBSSxvQkFBSixJQUFJOzJEQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZXVkcmVcXE9uZURyaXZlXFxEZXNrdG9wXFxQcm9qZXRvc1xccGdiZW5cXHBnYmVuLXNlcnZlclxcc3JjXFxtb2R1bGVzXFxjaWRhZGFvXFxkdG9cXGRhZG9zLXNvY2lhaXMtcmVzcG9uc2UuZHRvLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwaVByb3BlcnR5IH0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbmltcG9ydCB7IEV4cG9zZSwgVHJhbnNmb3JtIH0gZnJvbSAnY2xhc3MtdHJhbnNmb3JtZXInO1xuaW1wb3J0IHsgRGFkb3NTb2NpYWlzIH0gZnJvbSAnLi4vLi4vLi4vZW50aXRpZXMvZGFkb3Mtc29jaWFpcy5lbnRpdHknO1xuaW1wb3J0IHsgRXNjb2xhcmlkYWRlRW51bSB9IGZyb20gJy4uLy4uLy4uL2VudW1zL2VzY29sYXJpZGFkZS5lbnVtJztcbmltcG9ydCB7IFNpdHVhY2FvVHJhYmFsaG9FbnVtIH0gZnJvbSAnLi4vLi4vLi4vZW51bXMvc2l0dWFjYW8tdHJhYmFsaG8uZW51bSc7XG5cbi8qKlxuICogRFRPIGRlIHJlc3Bvc3RhIHBhcmEgZGFkb3Mgc29jaWFpcyBkZSB1bSBjaWRhZMOjb1xuICpcbiAqIFBhZHJvbml6YSBvIGZvcm1hdG8gZGUgcmV0b3JubyBkb3MgZGFkb3Mgc29jaWFpcywgaW5jbHVpbmRvXG4gKiBjYW1wb3MgY2FsY3VsYWRvcyBlIGZvcm1hdGHDp8OjbyBhZGVxdWFkYSBwYXJhIG8gZnJvbnRlbmQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEYWRvc1NvY2lhaXNSZXNwb25zZUR0byB7XG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdJRCDDum5pY28gZG9zIGRhZG9zIHNvY2lhaXMnLFxuICAgIGV4YW1wbGU6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLFxuICB9KVxuICBARXhwb3NlKClcbiAgaWQ6IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnSUQgZG8gY2lkYWTDo28gcHJvcHJpZXTDoXJpbyBkb3MgZGFkb3Mgc29jaWFpcycsXG4gICAgZXhhbXBsZTogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMScsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBjaWRhZGFvX2lkOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ07DrXZlbCBkZSBlc2NvbGFyaWRhZGUgZG8gY2lkYWTDo28nLFxuICAgIGVudW06IEVzY29sYXJpZGFkZUVudW0sXG4gICAgZXhhbXBsZTogRXNjb2xhcmlkYWRlRW51bS5NRURJT19DT01QTEVUTyxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIGVzY29sYXJpZGFkZTogRXNjb2xhcmlkYWRlRW51bTtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnSW5kaWNhIHNlIG8gY2lkYWTDo28gZmF6IHBhcnRlIGRlIHDDumJsaWNvIHByaW9yaXTDoXJpbycsXG4gICAgZXhhbXBsZTogdHJ1ZSxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIHB1YmxpY29fcHJpb3JpdGFyaW86IGJvb2xlYW47XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1JlbmRhIG1lbnNhbCBkbyBjaWRhZMOjbyBlbSByZWFpcycsXG4gICAgZXhhbXBsZTogMTUwMC41LFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGZvcm1hdDogJ2RlY2ltYWwnLFxuICAgIG51bGxhYmxlOiB0cnVlLFxuICB9KVxuICBARXhwb3NlKClcbiAgQFRyYW5zZm9ybSgoeyB2YWx1ZSB9KSA9PiAodmFsdWUgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IG51bGwpKVxuICByZW5kYTogbnVtYmVyIHwgbnVsbDtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnT2N1cGHDp8OjbyBvdSBwcm9maXNzw6NvIGRvIGNpZGFkw6NvJyxcbiAgICBleGFtcGxlOiAnQXV4aWxpYXIgZGUgbGltcGV6YScsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBvY3VwYWNhbzogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdJbmRpY2Egc2UgbyBjaWRhZMOjbyByZWNlYmUgUHJvZ3JhbWEgQm9sc2EgRmFtw61saWEnLFxuICAgIGV4YW1wbGU6IGZhbHNlLFxuICB9KVxuICBARXhwb3NlKClcbiAgcmVjZWJlX3BiZjogYm9vbGVhbjtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnVmFsb3IgbWVuc2FsIHJlY2ViaWRvIGRvIFByb2dyYW1hIEJvbHNhIEZhbcOtbGlhJyxcbiAgICBleGFtcGxlOiA0MDAuMCxcbiAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICBmb3JtYXQ6ICdkZWNpbWFsJyxcbiAgICBudWxsYWJsZTogdHJ1ZSxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4gKHZhbHVlID8gcGFyc2VGbG9hdCh2YWx1ZSkgOiBudWxsKSlcbiAgdmFsb3JfcGJmOiBudW1iZXIgfCBudWxsO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdJbmRpY2Egc2UgbyBjaWRhZMOjbyByZWNlYmUgQmVuZWbDrWNpbyBkZSBQcmVzdGHDp8OjbyBDb250aW51YWRhJyxcbiAgICBleGFtcGxlOiBmYWxzZSxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIHJlY2ViZV9icGM6IGJvb2xlYW47XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1RpcG8gZG8gQlBDIHJlY2ViaWRvJyxcbiAgICBleGFtcGxlOiAnUGVzc29hIGNvbSBkZWZpY2nDqm5jaWEnLFxuICB9KVxuICBARXhwb3NlKClcbiAgdGlwb19icGM6IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnVmFsb3IgbWVuc2FsIHJlY2ViaWRvIGRvIEJQQycsXG4gICAgZXhhbXBsZTogMTMyMC4wLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGZvcm1hdDogJ2RlY2ltYWwnLFxuICAgIG51bGxhYmxlOiB0cnVlLFxuICB9KVxuICBARXhwb3NlKClcbiAgQFRyYW5zZm9ybSgoeyB2YWx1ZSB9KSA9PiAodmFsdWUgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IG51bGwpKVxuICB2YWxvcl9icGM6IG51bWJlciB8IG51bGw7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICdDdXJzbyBwcm9maXNzaW9uYWxpemFudGUgcXVlIG8gY2lkYWTDo28gcG9zc3VpIG91IGVzdMOhIGN1cnNhbmRvJyxcbiAgICBleGFtcGxlOiAnVMOpY25pY28gZW0gSW5mb3Jtw6F0aWNhJyxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIGN1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZTogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246XG4gICAgICAnSW5kaWNhIHNlIG8gY2lkYWTDo28gdGVtIGludGVyZXNzZSBlbSBmYXplciBjdXJzbyBwcm9maXNzaW9uYWxpemFudGUnLFxuICAgIGV4YW1wbGU6IHRydWUsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBpbnRlcmVzc2VfY3Vyc29fcHJvZmlzc2lvbmFsaXphbnRlOiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdTaXR1YcOnw6NvIGF0dWFsIGRlIHRyYWJhbGhvIGRvIGNpZGFkw6NvJyxcbiAgICBlbnVtOiBTaXR1YWNhb1RyYWJhbGhvRW51bSxcbiAgICBleGFtcGxlOiBTaXR1YWNhb1RyYWJhbGhvRW51bS5ERVNFTVBSRUdBRE8sXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBzaXR1YWNhb190cmFiYWxobzogU2l0dWFjYW9UcmFiYWxob0VudW07XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ8OBcmVhIGRlIHRyYWJhbGhvIG91IGludGVyZXNzZSBwcm9maXNzaW9uYWwnLFxuICAgIGV4YW1wbGU6ICdTZXJ2acOnb3MgZ2VyYWlzJyxcbiAgfSlcbiAgQEV4cG9zZSgpXG4gIGFyZWFfdHJhYmFsaG86IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgJ0luZGljYSBzZSBow6EgZmFtaWxpYXIgYXB0byBwYXJhIHRyYWJhbGhhciBuYSBjb21wb3Npw6fDo28gZmFtaWxpYXInLFxuICAgIGV4YW1wbGU6IHRydWUsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBmYW1pbGlhcl9hcHRvX3RyYWJhbGhvOiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICfDgXJlYSBkZSBpbnRlcmVzc2UgcHJvZmlzc2lvbmFsIGRlIGZhbWlsaWFyZXMnLFxuICAgIGV4YW1wbGU6ICdDb25zdHJ1w6fDo28gY2l2aWwnLFxuICB9KVxuICBARXhwb3NlKClcbiAgYXJlYV9pbnRlcmVzc2VfZmFtaWxpYXI6IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnT2JzZXJ2YcOnw7VlcyBhZGljaW9uYWlzIHNvYnJlIGEgc2l0dWHDp8OjbyBzb2NpYWwnLFxuICAgIGV4YW1wbGU6ICdGYW3DrWxpYSBlbSBzaXR1YcOnw6NvIGRlIHZ1bG5lcmFiaWxpZGFkZSBzb2NpYWwnLFxuICB9KVxuICBARXhwb3NlKClcbiAgb2JzZXJ2YWNvZXM6IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnUmVuZGEgcGVyIGNhcGl0YSBjYWxjdWxhZGEgYXV0b21hdGljYW1lbnRlJyxcbiAgICBleGFtcGxlOiAzNzUuMTIsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZm9ybWF0OiAnZGVjaW1hbCcsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBAVHJhbnNmb3JtKCh7IG9iaiB9KSA9PiB7XG4gICAgLy8gQ2FsY3VsYSByZW5kYSBwZXIgY2FwaXRhIGJhc2VhZGEgbmEgY29tcG9zacOnw6NvIGZhbWlsaWFyXG4gICAgLy8gRXN0ZSBjw6FsY3VsbyBzZXLDoSBpbXBsZW1lbnRhZG8gbm8gc2VydmljZVxuICAgIHJldHVybiBvYmoucmVuZGFfcGVyX2NhcGl0YSB8fCBudWxsO1xuICB9KVxuICByZW5kYV9wZXJfY2FwaXRhOiBudW1iZXI7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1RvdGFsIGRlIGJlbmVmw61jaW9zIHJlY2ViaWRvcyAoUEJGICsgQlBDKScsXG4gICAgZXhhbXBsZTogMTcyMC4wLFxuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIGZvcm1hdDogJ2RlY2ltYWwnLFxuICAgIG51bGxhYmxlOiB0cnVlLFxuICB9KVxuICBARXhwb3NlKClcbiAgQFRyYW5zZm9ybSgoeyBvYmogfSkgPT4ge1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgaWYgKG9iai52YWxvcl9wYmYpIHRvdGFsICs9IHBhcnNlRmxvYXQob2JqLnZhbG9yX3BiZik7XG4gICAgaWYgKG9iai52YWxvcl9icGMpIHRvdGFsICs9IHBhcnNlRmxvYXQob2JqLnZhbG9yX2JwYyk7XG4gICAgcmV0dXJuIHRvdGFsID4gMCA/IHRvdGFsIDogbnVsbDtcbiAgfSlcbiAgdG90YWxfYmVuZWZpY2lvczogbnVtYmVyIHwgbnVsbDtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnUmVuZGEgdG90YWwgKHJlbmRhICsgYmVuZWbDrWNpb3MpJyxcbiAgICBleGFtcGxlOiAzMjIwLjAsXG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgZm9ybWF0OiAnZGVjaW1hbCcsXG4gICAgbnVsbGFibGU6IHRydWUsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICBAVHJhbnNmb3JtKCh7IG9iaiB9KSA9PiB7XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICBpZiAob2JqLnJlbmRhKSB0b3RhbCArPSBwYXJzZUZsb2F0KG9iai5yZW5kYSk7XG4gICAgaWYgKG9iai52YWxvcl9wYmYpIHRvdGFsICs9IHBhcnNlRmxvYXQob2JqLnZhbG9yX3BiZik7XG4gICAgaWYgKG9iai52YWxvcl9icGMpIHRvdGFsICs9IHBhcnNlRmxvYXQob2JqLnZhbG9yX2JwYyk7XG4gICAgcmV0dXJuIHRvdGFsID4gMCA/IHRvdGFsIDogbnVsbDtcbiAgfSlcbiAgcmVuZGFfdG90YWw6IG51bWJlciB8IG51bGw7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0RhdGEgZGUgY3JpYcOnw6NvIGRvIHJlZ2lzdHJvJyxcbiAgICBleGFtcGxlOiAnMjAyNC0wMS0xNVQxMDozMDowMFonLFxuICB9KVxuICBARXhwb3NlKClcbiAgY3JlYXRlZF9hdDogRGF0ZTtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnRGF0YSBkYSDDumx0aW1hIGF0dWFsaXphw6fDo28nLFxuICAgIGV4YW1wbGU6ICcyMDI0LTAxLTIwVDE0OjQ1OjAwWicsXG4gIH0pXG4gIEBFeHBvc2UoKVxuICB1cGRhdGVkX2F0OiBEYXRlO1xuXG4gIGNvbnN0cnVjdG9yKGRhZG9zU29jaWFpczogRGFkb3NTb2NpYWlzKSB7XG4gICAgaWYgKGRhZG9zU29jaWFpcykge1xuICAgICAgdGhpcy5pZCA9IGRhZG9zU29jaWFpcy5pZDtcbiAgICAgIHRoaXMuY2lkYWRhb19pZCA9IGRhZG9zU29jaWFpcy5jaWRhZGFvX2lkO1xuICAgICAgdGhpcy5lc2NvbGFyaWRhZGUgPSBkYWRvc1NvY2lhaXMuZXNjb2xhcmlkYWRlO1xuICAgICAgdGhpcy5wdWJsaWNvX3ByaW9yaXRhcmlvID0gZGFkb3NTb2NpYWlzLnB1YmxpY29fcHJpb3JpdGFyaW87XG4gICAgICB0aGlzLnJlbmRhID0gZGFkb3NTb2NpYWlzLnJlbmRhXG4gICAgICAgID8gcGFyc2VGbG9hdChkYWRvc1NvY2lhaXMucmVuZGEudG9TdHJpbmcoKSlcbiAgICAgICAgOiBudWxsO1xuICAgICAgdGhpcy5vY3VwYWNhbyA9IGRhZG9zU29jaWFpcy5vY3VwYWNhbztcbiAgICAgIHRoaXMucmVjZWJlX3BiZiA9IGRhZG9zU29jaWFpcy5yZWNlYmVfcGJmO1xuICAgICAgdGhpcy52YWxvcl9wYmYgPSBkYWRvc1NvY2lhaXMudmFsb3JfcGJmXG4gICAgICAgID8gcGFyc2VGbG9hdChkYWRvc1NvY2lhaXMudmFsb3JfcGJmLnRvU3RyaW5nKCkpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIHRoaXMucmVjZWJlX2JwYyA9IGRhZG9zU29jaWFpcy5yZWNlYmVfYnBjO1xuICAgICAgdGhpcy50aXBvX2JwYyA9IGRhZG9zU29jaWFpcy50aXBvX2JwYztcbiAgICAgIHRoaXMudmFsb3JfYnBjID0gZGFkb3NTb2NpYWlzLnZhbG9yX2JwY1xuICAgICAgICA/IHBhcnNlRmxvYXQoZGFkb3NTb2NpYWlzLnZhbG9yX2JwYy50b1N0cmluZygpKVxuICAgICAgICA6IG51bGw7XG4gICAgICB0aGlzLmN1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZSA9IGRhZG9zU29jaWFpcy5jdXJzb19wcm9maXNzaW9uYWxpemFudGU7XG4gICAgICB0aGlzLmludGVyZXNzZV9jdXJzb19wcm9maXNzaW9uYWxpemFudGUgPVxuICAgICAgICBkYWRvc1NvY2lhaXMuaW50ZXJlc3NlX2N1cnNvX3Byb2Zpc3Npb25hbGl6YW50ZTtcbiAgICAgIHRoaXMuc2l0dWFjYW9fdHJhYmFsaG8gPSBkYWRvc1NvY2lhaXMuc2l0dWFjYW9fdHJhYmFsaG87XG4gICAgICB0aGlzLmFyZWFfdHJhYmFsaG8gPSBkYWRvc1NvY2lhaXMuYXJlYV90cmFiYWxobztcbiAgICAgIHRoaXMuZmFtaWxpYXJfYXB0b190cmFiYWxobyA9IGRhZG9zU29jaWFpcy5mYW1pbGlhcl9hcHRvX3RyYWJhbGhvO1xuICAgICAgdGhpcy5hcmVhX2ludGVyZXNzZV9mYW1pbGlhciA9IGRhZG9zU29jaWFpcy5hcmVhX2ludGVyZXNzZV9mYW1pbGlhcjtcbiAgICAgIHRoaXMub2JzZXJ2YWNvZXMgPSBkYWRvc1NvY2lhaXMub2JzZXJ2YWNvZXM7XG4gICAgICB0aGlzLmNyZWF0ZWRfYXQgPSBkYWRvc1NvY2lhaXMuY3JlYXRlZF9hdDtcbiAgICAgIHRoaXMudXBkYXRlZF9hdCA9IGRhZG9zU29jaWFpcy51cGRhdGVkX2F0O1xuXG4gICAgICAvLyBDw6FsY3Vsb3MgZGVyaXZhZG9zXG4gICAgICB0aGlzLnRvdGFsX2JlbmVmaWNpb3MgPSB0aGlzLmNhbGN1bGF0ZVRvdGFsQmVuZWZpY2lvcygpO1xuICAgICAgdGhpcy5yZW5kYV90b3RhbCA9IHRoaXMuY2FsY3VsYXRlUmVuZGFUb3RhbCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhIG8gdG90YWwgZGUgYmVuZWbDrWNpb3MgcmVjZWJpZG9zXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVRvdGFsQmVuZWZpY2lvcygpOiBudW1iZXIgfCBudWxsIHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGlmICh0aGlzLnZhbG9yX3BiZikgdG90YWwgKz0gdGhpcy52YWxvcl9wYmY7XG4gICAgaWYgKHRoaXMudmFsb3JfYnBjKSB0b3RhbCArPSB0aGlzLnZhbG9yX2JwYztcbiAgICByZXR1cm4gdG90YWwgPiAwID8gdG90YWwgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGEgYSByZW5kYSB0b3RhbCAocmVuZGEgKyBiZW5lZsOtY2lvcylcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlUmVuZGFUb3RhbCgpOiBudW1iZXIgfCBudWxsIHtcbiAgICBsZXQgdG90YWwgPSAwO1xuICAgIGlmICh0aGlzLnJlbmRhKSB0b3RhbCArPSB0aGlzLnJlbmRhO1xuICAgIGlmICh0aGlzLnZhbG9yX3BiZikgdG90YWwgKz0gdGhpcy52YWxvcl9wYmY7XG4gICAgaWYgKHRoaXMudmFsb3JfYnBjKSB0b3RhbCArPSB0aGlzLnZhbG9yX2JwYztcbiAgICByZXR1cm4gdG90YWwgPiAwID8gdG90YWwgOiBudWxsO1xuICB9XG59XG4iXSwidmVyc2lvbiI6M30=