deae94831bd0f2007621dcfd6309e184
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PasswordResetStatsDto = exports.ValidateTokenResponseDto = exports.ResetPasswordResponseDto = exports.ForgotPasswordResponseDto = exports.ValidateTokenDto = exports.ResetPasswordDto = exports.ForgotPasswordDto = void 0;
// src/auth/dto/password-reset.dto.ts
const swagger_1 = require("@nestjs/swagger");
const class_validator_1 = require("class-validator");
/**
 * DTO para solicitação de recuperação de senha
 */
class ForgotPasswordDto {
    email;
}
exports.ForgotPasswordDto = ForgotPasswordDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Email do usuário para recuperação de senha',
        example: 'usuario@semtas.gov.br',
        format: 'email',
    }),
    (0, class_validator_1.IsEmail)({}, { message: 'Email deve ter um formato válido' }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Email é obrigatório' }),
    __metadata("design:type", String)
], ForgotPasswordDto.prototype, "email", void 0);
/**
 * DTO para redefinição de senha
 */
class ResetPasswordDto {
    token;
    newPassword;
    confirmPassword;
}
exports.ResetPasswordDto = ResetPasswordDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Token de recuperação de senha',
        example: 'abc123def456ghi789',
        minLength: 32,
        maxLength: 128,
    }),
    (0, class_validator_1.IsString)({ message: 'Token deve ser uma string' }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Token é obrigatório' }),
    (0, class_validator_1.MinLength)(32, { message: 'Token deve ter pelo menos 32 caracteres' }),
    (0, class_validator_1.MaxLength)(128, { message: 'Token deve ter no máximo 128 caracteres' }),
    __metadata("design:type", String)
], ResetPasswordDto.prototype, "token", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Nova senha do usuário',
        example: 'MinhaNovaSenh@123',
        minLength: 8,
        maxLength: 128,
    }),
    (0, class_validator_1.IsString)({ message: 'Senha deve ser uma string' }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Senha é obrigatória' }),
    (0, class_validator_1.MinLength)(8, { message: 'Senha deve ter pelo menos 8 caracteres' }),
    (0, class_validator_1.MaxLength)(128, { message: 'Senha deve ter no máximo 128 caracteres' }),
    (0, class_validator_1.Matches)(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/, {
        message: 'Senha deve conter pelo menos: 1 letra minúscula, 1 maiúscula, 1 número e 1 caractere especial',
    }),
    __metadata("design:type", String)
], ResetPasswordDto.prototype, "newPassword", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Confirmação da nova senha',
        example: 'MinhaNovaSenh@123',
    }),
    (0, class_validator_1.IsString)({ message: 'Confirmação de senha deve ser uma string' }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Confirmação de senha é obrigatória' }),
    __metadata("design:type", String)
], ResetPasswordDto.prototype, "confirmPassword", void 0);
/**
 * DTO para validação de token
 */
class ValidateTokenDto {
    token;
}
exports.ValidateTokenDto = ValidateTokenDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Token de recuperação para validação',
        example: 'abc123def456ghi789',
    }),
    (0, class_validator_1.IsString)({ message: 'Token deve ser uma string' }),
    (0, class_validator_1.IsNotEmpty)({ message: 'Token é obrigatório' }),
    __metadata("design:type", String)
], ValidateTokenDto.prototype, "token", void 0);
/**
 * DTO de resposta para solicitação de recuperação
 */
class ForgotPasswordResponseDto {
    message;
    timestamp;
    expiresInMinutes;
}
exports.ForgotPasswordResponseDto = ForgotPasswordResponseDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Mensagem de confirmação',
        example: 'Se o email existir, um link de recuperação será enviado',
    }),
    __metadata("design:type", String)
], ForgotPasswordResponseDto.prototype, "message", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Timestamp da solicitação',
        example: '2024-01-15T10:30:00Z',
    }),
    __metadata("design:type", String)
], ForgotPasswordResponseDto.prototype, "timestamp", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Tempo de expiração do token em minutos',
        example: 15,
    }),
    __metadata("design:type", Number)
], ForgotPasswordResponseDto.prototype, "expiresInMinutes", void 0);
/**
 * DTO de resposta para redefinição de senha
 */
class ResetPasswordResponseDto {
    message;
    timestamp;
    requiresReauth;
}
exports.ResetPasswordResponseDto = ResetPasswordResponseDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Mensagem de confirmação',
        example: 'Senha redefinida com sucesso',
    }),
    __metadata("design:type", String)
], ResetPasswordResponseDto.prototype, "message", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Timestamp da redefinição',
        example: '2024-01-15T10:35:00Z',
    }),
    __metadata("design:type", String)
], ResetPasswordResponseDto.prototype, "timestamp", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o usuário deve fazer login novamente',
        example: true,
    }),
    __metadata("design:type", Boolean)
], ResetPasswordResponseDto.prototype, "requiresReauth", void 0);
/**
 * DTO de resposta para validação de token
 */
class ValidateTokenResponseDto {
    valid;
    minutesRemaining;
    email;
    error;
}
exports.ValidateTokenResponseDto = ValidateTokenResponseDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o token é válido',
        example: true,
    }),
    __metadata("design:type", Boolean)
], ValidateTokenResponseDto.prototype, "valid", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Tempo restante em minutos (se válido)',
        example: 12,
        required: false,
    }),
    __metadata("design:type", Number)
], ValidateTokenResponseDto.prototype, "minutesRemaining", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Email associado ao token (se válido)',
        example: 'usuario@semtas.gov.br',
        required: false,
    }),
    __metadata("design:type", String)
], ValidateTokenResponseDto.prototype, "email", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Mensagem de erro (se inválido)',
        example: 'Token expirado ou inválido',
        required: false,
    }),
    __metadata("design:type", String)
], ValidateTokenResponseDto.prototype, "error", void 0);
/**
 * DTO para estatísticas de recuperação de senha (admin)
 */
class PasswordResetStatsDto {
    requestsLast24h;
    successfulResetsLast24h;
    activeTokens;
    expiredTokensLast24h;
    successRate;
    uniqueUsersLast24h;
}
exports.PasswordResetStatsDto = PasswordResetStatsDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Total de solicitações nas últimas 24h',
        example: 15,
    }),
    __metadata("design:type", Number)
], PasswordResetStatsDto.prototype, "requestsLast24h", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Total de redefinições bem-sucedidas nas últimas 24h',
        example: 12,
    }),
    __metadata("design:type", Number)
], PasswordResetStatsDto.prototype, "successfulResetsLast24h", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Tokens ativos (não expirados)',
        example: 8,
    }),
    __metadata("design:type", Number)
], PasswordResetStatsDto.prototype, "activeTokens", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Tokens expirados nas últimas 24h',
        example: 3,
    }),
    __metadata("design:type", Number)
], PasswordResetStatsDto.prototype, "expiredTokensLast24h", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Taxa de sucesso (%)',
        example: 80.0,
    }),
    __metadata("design:type", Number)
], PasswordResetStatsDto.prototype, "successRate", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Usuários únicos que solicitaram recuperação nas últimas 24h',
        example: 14,
    }),
    __metadata("design:type", Number)
], PasswordResetStatsDto.prototype, "uniqueUsersLast24h", void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXGF1dGhcXGR0b3NcXHBhc3N3b3JkLXJlc2V0LmR0by50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxxQ0FBcUM7QUFDckMsNkNBQThDO0FBQzlDLHFEQVF5QjtBQUV6Qjs7R0FFRztBQUNILE1BQWEsaUJBQWlCO0lBUTVCLEtBQUssQ0FBUztDQUNmO0FBVEQsOENBU0M7QUFEQztJQVBDLElBQUEscUJBQVcsRUFBQztRQUNYLFdBQVcsRUFBRSw0Q0FBNEM7UUFDekQsT0FBTyxFQUFFLHVCQUF1QjtRQUNoQyxNQUFNLEVBQUUsT0FBTztLQUNoQixDQUFDO0lBQ0QsSUFBQSx5QkFBTyxFQUFDLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRSxDQUFDO0lBQzVELElBQUEsNEJBQVUsRUFBQyxFQUFFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxDQUFDOztnREFDakM7QUFHaEI7O0dBRUc7QUFDSCxNQUFhLGdCQUFnQjtJQVczQixLQUFLLENBQVM7SUFnQmQsV0FBVyxDQUFTO0lBUXBCLGVBQWUsQ0FBUztDQUN6QjtBQXBDRCw0Q0FvQ0M7QUF6QkM7SUFWQyxJQUFBLHFCQUFXLEVBQUM7UUFDWCxXQUFXLEVBQUUsK0JBQStCO1FBQzVDLE9BQU8sRUFBRSxvQkFBb0I7UUFDN0IsU0FBUyxFQUFFLEVBQUU7UUFDYixTQUFTLEVBQUUsR0FBRztLQUNmLENBQUM7SUFDRCxJQUFBLDBCQUFRLEVBQUMsRUFBRSxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsQ0FBQztJQUNsRCxJQUFBLDRCQUFVLEVBQUMsRUFBRSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsQ0FBQztJQUM5QyxJQUFBLDJCQUFTLEVBQUMsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLHlDQUF5QyxFQUFFLENBQUM7SUFDckUsSUFBQSwyQkFBUyxFQUFDLEdBQUcsRUFBRSxFQUFFLE9BQU8s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VyxFQUFDO1FBQ1gsV0FBVyxFQUFFLHFCQUFxQjtRQUNsQyxPQUFPLEVBQUUsSUFBSTtLQUNkLENBQUM7OzBEQUNrQjtBQU1wQjtJQUpDLElBQUEscUJBQVcsRUFBQztRQUNYLFdBQVcsRUFBRSw2REFBNkQ7UUFDMUUsT0FBTyxFQUFFLEVBQUU7S0FDWixDQUFDOztpRUFDeUIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXGF1dGhcXGR0b3NcXHBhc3N3b3JkLXJlc2V0LmR0by50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXV0aC9kdG8vcGFzc3dvcmQtcmVzZXQuZHRvLnRzXG5pbXBvcnQgeyBBcGlQcm9wZXJ0eSB9IGZyb20gJ0BuZXN0anMvc3dhZ2dlcic7XG5pbXBvcnQge1xuICBJc0VtYWlsLFxuICBJc1N0cmluZyxcbiAgTWluTGVuZ3RoLFxuICBNYXhMZW5ndGgsXG4gIE1hdGNoZXMsXG4gIElzTm90RW1wdHksXG4gIElzVVVJRCxcbn0gZnJvbSAnY2xhc3MtdmFsaWRhdG9yJztcblxuLyoqXG4gKiBEVE8gcGFyYSBzb2xpY2l0YcOnw6NvIGRlIHJlY3VwZXJhw6fDo28gZGUgc2VuaGFcbiAqL1xuZXhwb3J0IGNsYXNzIEZvcmdvdFBhc3N3b3JkRHRvIHtcbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0VtYWlsIGRvIHVzdcOhcmlvIHBhcmEgcmVjdXBlcmHDp8OjbyBkZSBzZW5oYScsXG4gICAgZXhhbXBsZTogJ3VzdWFyaW9Ac2VtdGFzLmdvdi5icicsXG4gICAgZm9ybWF0OiAnZW1haWwnLFxuICB9KVxuICBASXNFbWFpbCh7fSwgeyBtZXNzYWdlOiAnRW1haWwgZGV2ZSB0ZXIgdW0gZm9ybWF0byB2w6FsaWRvJyB9KVxuICBASXNOb3RFbXB0eSh7IG1lc3NhZ2U6ICdFbWFpbCDDqSBvYnJpZ2F0w7NyaW8nIH0pXG4gIGVtYWlsOiBzdHJpbmc7XG59XG5cbi8qKlxuICogRFRPIHBhcmEgcmVkZWZpbmnDp8OjbyBkZSBzZW5oYVxuICovXG5leHBvcnQgY2xhc3MgUmVzZXRQYXNzd29yZER0byB7XG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUb2tlbiBkZSByZWN1cGVyYcOnw6NvIGRlIHNlbmhhJyxcbiAgICBleGFtcGxlOiAnYWJjMTIzZGVmNDU2Z2hpNzg5JyxcbiAgICBtaW5MZW5ndGg6IDMyLFxuICAgIG1heExlbmd0aDogMTI4LFxuICB9KVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnVG9rZW4gZGV2ZSBzZXIgdW1hIHN0cmluZycgfSlcbiAgQElzTm90RW1wdHkoeyBtZXNzYWdlOiAnVG9rZW4gw6kgb2JyaWdhdMOzcmlvJyB9KVxuICBATWluTGVuZ3RoKDMyLCB7IG1lc3NhZ2U6ICdUb2tlbiBkZXZlIHRlciBwZWxvIG1lbm9zIDMyIGNhcmFjdGVyZXMnIH0pXG4gIEBNYXhMZW5ndGgoMTI4LCB7IG1lc3NhZ2U6ICdUb2tlbiBkZXZlIHRlciBubyBtw6F4aW1vIDEyOCBjYXJhY3RlcmVzJyB9KVxuICB0b2tlbjogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdOb3ZhIHNlbmhhIGRvIHVzdcOhcmlvJyxcbiAgICBleGFtcGxlOiAnTWluaGFOb3ZhU2VuaEAxMjMnLFxuICAgIG1pbkxlbmd0aDogOCxcbiAgICBtYXhMZW5ndGg6IDEyOCxcbiAgfSlcbiAgQElzU3RyaW5nKHsgbWVzc2FnZTogJ1NlbmhhIGRldmUgc2VyIHVtYSBzdHJpbmcnIH0pXG4gIEBJc05vdEVtcHR5KHsgbWVzc2FnZTogJ1NlbmhhIMOpIG9icmlnYXTDs3JpYScgfSlcbiAgQE1pbkxlbmd0aCg4LCB7IG1lc3NhZ2U6ICdTZW5oYSBkZXZlIHRlciBwZWxvIG1lbm9zIDggY2FyYWN0ZXJlcycgfSlcbiAgQE1heExlbmd0aCgxMjgsIHsgbWVzc2FnZTogJ1NlbmhhIGRldmUgdGVyIG5vIG3DoXhpbW8gMTI4IGNhcmFjdGVyZXMnIH0pXG4gIEBNYXRjaGVzKC9eKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qXFxkKSg/PS4qW0AkISUqPyZdKVtBLVphLXpcXGRAJCElKj8mXS8sIHtcbiAgICBtZXNzYWdlOlxuICAgICAgJ1NlbmhhIGRldmUgY29udGVyIHBlbG8gbWVub3M6IDEgbGV0cmEgbWluw7pzY3VsYSwgMSBtYWnDunNjdWxhLCAxIG7Dum1lcm8gZSAxIGNhcmFjdGVyZSBlc3BlY2lhbCcsXG4gIH0pXG4gIG5ld1Bhc3N3b3JkOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0NvbmZpcm1hw6fDo28gZGEgbm92YSBzZW5oYScsXG4gICAgZXhhbXBsZTogJ01pbmhhTm92YVNlbmhAMTIzJyxcbiAgfSlcbiAgQElzU3RyaW5nKHsgbWVzc2FnZTogJ0NvbmZpcm1hw6fDo28gZGUgc2VuaGEgZGV2ZSBzZXIgdW1hIHN0cmluZycgfSlcbiAgQElzTm90RW1wdHkoeyBtZXNzYWdlOiAnQ29uZmlybWHDp8OjbyBkZSBzZW5oYSDDqSBvYnJpZ2F0w7NyaWEnIH0pXG4gIGNvbmZpcm1QYXNzd29yZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERUTyBwYXJhIHZhbGlkYcOnw6NvIGRlIHRva2VuXG4gKi9cbmV4cG9ydCBjbGFzcyBWYWxpZGF0ZVRva2VuRHRvIHtcbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1Rva2VuIGRlIHJlY3VwZXJhw6fDo28gcGFyYSB2YWxpZGHDp8OjbycsXG4gICAgZXhhbXBsZTogJ2FiYzEyM2RlZjQ1NmdoaTc4OScsXG4gIH0pXG4gIEBJc1N0cmluZyh7IG1lc3NhZ2U6ICdUb2tlbiBkZXZlIHNlciB1bWEgc3RyaW5nJyB9KVxuICBASXNOb3RFbXB0eSh7IG1lc3NhZ2U6ICdUb2tlbiDDqSBvYnJpZ2F0w7NyaW8nIH0pXG4gIHRva2VuOiBzdHJpbmc7XG59XG5cbi8qKlxuICogRFRPIGRlIHJlc3Bvc3RhIHBhcmEgc29saWNpdGHDp8OjbyBkZSByZWN1cGVyYcOnw6NvXG4gKi9cbmV4cG9ydCBjbGFzcyBGb3Jnb3RQYXNzd29yZFJlc3BvbnNlRHRvIHtcbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ01lbnNhZ2VtIGRlIGNvbmZpcm1hw6fDo28nLFxuICAgIGV4YW1wbGU6ICdTZSBvIGVtYWlsIGV4aXN0aXIsIHVtIGxpbmsgZGUgcmVjdXBlcmHDp8OjbyBzZXLDoSBlbnZpYWRvJyxcbiAgfSlcbiAgbWVzc2FnZTogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUaW1lc3RhbXAgZGEgc29saWNpdGHDp8OjbycsXG4gICAgZXhhbXBsZTogJzIwMjQtMDEtMTVUMTA6MzA6MDBaJyxcbiAgfSlcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1RlbXBvIGRlIGV4cGlyYcOnw6NvIGRvIHRva2VuIGVtIG1pbnV0b3MnLFxuICAgIGV4YW1wbGU6IDE1LFxuICB9KVxuICBleHBpcmVzSW5NaW51dGVzOiBudW1iZXI7XG59XG5cbi8qKlxuICogRFRPIGRlIHJlc3Bvc3RhIHBhcmEgcmVkZWZpbmnDp8OjbyBkZSBzZW5oYVxuICovXG5leHBvcnQgY2xhc3MgUmVzZXRQYXNzd29yZFJlc3BvbnNlRHRvIHtcbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ01lbnNhZ2VtIGRlIGNvbmZpcm1hw6fDo28nLFxuICAgIGV4YW1wbGU6ICdTZW5oYSByZWRlZmluaWRhIGNvbSBzdWNlc3NvJyxcbiAgfSlcbiAgbWVzc2FnZTogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUaW1lc3RhbXAgZGEgcmVkZWZpbmnDp8OjbycsXG4gICAgZXhhbXBsZTogJzIwMjQtMDEtMTVUMTA6MzU6MDBaJyxcbiAgfSlcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0luZGljYSBzZSBvIHVzdcOhcmlvIGRldmUgZmF6ZXIgbG9naW4gbm92YW1lbnRlJyxcbiAgICBleGFtcGxlOiB0cnVlLFxuICB9KVxuICByZXF1aXJlc1JlYXV0aDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBEVE8gZGUgcmVzcG9zdGEgcGFyYSB2YWxpZGHDp8OjbyBkZSB0b2tlblxuICovXG5leHBvcnQgY2xhc3MgVmFsaWRhdGVUb2tlblJlc3BvbnNlRHRvIHtcbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ0luZGljYSBzZSBvIHRva2VuIMOpIHbDoWxpZG8nLFxuICAgIGV4YW1wbGU6IHRydWUsXG4gIH0pXG4gIHZhbGlkOiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUZW1wbyByZXN0YW50ZSBlbSBtaW51dG9zIChzZSB2w6FsaWRvKScsXG4gICAgZXhhbXBsZTogMTIsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBtaW51dGVzUmVtYWluaW5nPzogbnVtYmVyO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdFbWFpbCBhc3NvY2lhZG8gYW8gdG9rZW4gKHNlIHbDoWxpZG8pJyxcbiAgICBleGFtcGxlOiAndXN1YXJpb0BzZW10YXMuZ292LmJyJyxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIGVtYWlsPzogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdNZW5zYWdlbSBkZSBlcnJvIChzZSBpbnbDoWxpZG8pJyxcbiAgICBleGFtcGxlOiAnVG9rZW4gZXhwaXJhZG8gb3UgaW52w6FsaWRvJyxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIGVycm9yPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIERUTyBwYXJhIGVzdGF0w61zdGljYXMgZGUgcmVjdXBlcmHDp8OjbyBkZSBzZW5oYSAoYWRtaW4pXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXNzd29yZFJlc2V0U3RhdHNEdG8ge1xuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnVG90YWwgZGUgc29saWNpdGHDp8O1ZXMgbmFzIMO6bHRpbWFzIDI0aCcsXG4gICAgZXhhbXBsZTogMTUsXG4gIH0pXG4gIHJlcXVlc3RzTGFzdDI0aDogbnVtYmVyO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUb3RhbCBkZSByZWRlZmluacOnw7VlcyBiZW0tc3VjZWRpZGFzIG5hcyDDumx0aW1hcyAyNGgnLFxuICAgIGV4YW1wbGU6IDEyLFxuICB9KVxuICBzdWNjZXNzZnVsUmVzZXRzTGFzdDI0aDogbnVtYmVyO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUb2tlbnMgYXRpdm9zIChuw6NvIGV4cGlyYWRvcyknLFxuICAgIGV4YW1wbGU6IDgsXG4gIH0pXG4gIGFjdGl2ZVRva2VuczogbnVtYmVyO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUb2tlbnMgZXhwaXJhZG9zIG5hcyDDumx0aW1hcyAyNGgnLFxuICAgIGV4YW1wbGU6IDMsXG4gIH0pXG4gIGV4cGlyZWRUb2tlbnNMYXN0MjRoOiBudW1iZXI7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1RheGEgZGUgc3VjZXNzbyAoJSknLFxuICAgIGV4YW1wbGU6IDgwLjAsXG4gIH0pXG4gIHN1Y2Nlc3NSYXRlOiBudW1iZXI7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1VzdcOhcmlvcyDDum5pY29zIHF1ZSBzb2xpY2l0YXJhbSByZWN1cGVyYcOnw6NvIG5hcyDDumx0aW1hcyAyNGgnLFxuICAgIGV4YW1wbGU6IDE0LFxuICB9KVxuICB1bmlxdWVVc2Vyc0xhc3QyNGg6IG51bWJlcjtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==