{"file":"C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\shared\\interceptors\\validation-error.interceptor.spec.ts","mappings":"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","names":[],"sources":["C:\\Users\\eudre\\OneDrive\\Desktop\\Projetos\\pgben\\pgben-server\\src\\shared\\interceptors\\validation-error.interceptor.spec.ts"],"sourcesContent":["import { Test, TestingModule } from '@nestjs/testing';\nimport { BadRequestException, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { of, throwError } from 'rxjs';\nimport { ValidationErrorInterceptor, ValidationMessageHelper } from './validation-error.interceptor';\n\ndescribe('ValidationErrorInterceptor', () => {\n  let interceptor: ValidationErrorInterceptor;\n  let mockExecutionContext: ExecutionContext;\n  let mockCallHandler: CallHandler;\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [ValidationErrorInterceptor],\n    }).compile();\n\n    interceptor = module.get<ValidationErrorInterceptor>(ValidationErrorInterceptor);\n    \n    mockExecutionContext = {\n      switchToHttp: jest.fn(),\n      getClass: jest.fn(),\n      getHandler: jest.fn(),\n      getArgs: jest.fn(),\n      getArgByIndex: jest.fn(),\n      switchToRpc: jest.fn(),\n      switchToWs: jest.fn(),\n      getType: jest.fn(),\n    };\n\n    mockCallHandler = {\n      handle: jest.fn(),\n    };\n  });\n\n  describe('intercept', () => {\n    it('deve passar erros não relacionados à validação sem modificação', (done) => {\n      const nonValidationError = new Error('Erro genérico');\n      mockCallHandler.handle = jest.fn(() => throwError(() => nonValidationError));\n\n      interceptor.intercept(mockExecutionContext, mockCallHandler).subscribe({\n        error: (error) => {\n          expect(error).toBe(nonValidationError);\n          done();\n        },\n      });\n    });\n\n    it('deve passar BadRequestException não relacionado à validação', (done) => {\n      const nonValidationBadRequest = new BadRequestException('Erro customizado');\n      mockCallHandler.handle = jest.fn(() => throwError(() => nonValidationBadRequest));\n\n      interceptor.intercept(mockExecutionContext, mockCallHandler).subscribe({\n        error: (error) => {\n          expect(error).toBeInstanceOf(BadRequestException);\n          expect(error.getResponse()).toBe('Erro customizado');\n          done();\n        },\n      });\n    });\n\n    it('deve melhorar erros de validação do class-validator', (done) => {\n      const validationError = new BadRequestException({\n        error: 'Bad Request',\n        message: [\n          'nome must be a string',\n          'email must be an email',\n          'idade must not be less than 18',\n        ],\n        statusCode: 400,\n      });\n\n      mockCallHandler.handle = jest.fn(() => throwError(() => validationError));\n\n      interceptor.intercept(mockExecutionContext, mockCallHandler).subscribe({\n        error: (error) => {\n          try {\n            expect(error).toBeInstanceOf(BadRequestException);\n            const response = error.getResponse();\n            \n            expect(response).toHaveProperty('error', 'Erro de Validação');\n            expect(response).toHaveProperty('message', 'Os dados fornecidos contêm erros de validação');\n            expect(response).toHaveProperty('details');\n            expect(response).toHaveProperty('timestamp');\n            expect(response).toHaveProperty('statusCode', 400);\n            \n            done();\n          } catch (e) {\n            done(e);\n          }\n        },\n      });\n    });\n\n    it('deve agrupar erros por campo', (done) => {\n      const validationError = new BadRequestException({\n        error: 'Bad Request',\n        message: [\n          'nome must be a string',\n          'nome must be longer than 2 characters',\n          'email must be an email',\n        ],\n        statusCode: 400,\n      });\n\n      mockCallHandler.handle = jest.fn(() => throwError(() => validationError));\n\n      interceptor.intercept(mockExecutionContext, mockCallHandler).subscribe({\n        error: (error) => {\n          try {\n            const response = error.getResponse();\n            const details = response.details;\n            \n            expect(details).toHaveProperty('nome');\n            expect(details).toHaveProperty('email');\n            expect(details.nome).toHaveLength(2); // Dois erros para o campo nome\n            expect(details.email).toHaveLength(1); // Um erro para o campo email\n            \n            done();\n          } catch (e) {\n            done(e);\n          }\n        },\n      });\n    });\n\n    it('deve melhorar mensagens de erro de enum', async () => {\n      const enumError = new BadRequestException({\n        error: 'Bad Request',\n        message: [\n          'status must be one of the following values [ATIVO, INATIVO, PENDENTE]',\n        ],\n        statusCode: 400,\n      });\n\n      mockCallHandler.handle = jest.fn(() => throwError(() => enumError));\n\n      try {\n        await interceptor.intercept(mockExecutionContext, mockCallHandler).toPromise();\n      } catch (error) {\n        const response = error.getResponse();\n        const details = response.details;\n        \n        expect(details.status[0]).toContain('deve ser um dos seguintes valores');\n        expect(details.status[0]).toContain('ATIVO, INATIVO, PENDENTE');\n      }\n    });\n\n    it('deve melhorar mensagens de erro de tipo', async () => {\n      const typeError = new BadRequestException({\n        error: 'Bad Request',\n        message: [\n          'idade must be a number',\n          'ativo must be a boolean',\n        ],\n        statusCode: 400,\n      });\n\n      mockCallHandler.handle = jest.fn(() => throwError(() => typeError));\n\n      try {\n        await interceptor.intercept(mockExecutionContext, mockCallHandler).toPromise();\n      } catch (error) {\n        const response = error.getResponse();\n        const details = response.details;\n        \n        expect(details.idade[0]).toContain('deve ser um número');\n        expect(details.ativo[0]).toContain('deve ser um verdadeiro ou falso');\n      }\n    });\n\n    it('deve melhorar mensagens de erro de tamanho', (done) => {\n      const lengthError = new BadRequestException({\n        error: 'Bad Request',\n        message: [\n          'nome must be longer than 2 characters',\n          'descricao must be shorter than 100 characters',\n        ],\n        statusCode: 400,\n      });\n\n      mockCallHandler.handle = jest.fn(() => throwError(() => lengthError));\n\n      interceptor.intercept(mockExecutionContext, mockCallHandler).subscribe({\n        error: (error) => {\n          try {\n            const response = error.getResponse();\n            const details = response.details;\n            \n            expect(details.nome[0]).toContain('deve ter mais de 2 caracteres');\n            expect(details.descricao[0]).toContain('deve ter menos de 100 caracteres');\n            \n            done();\n          } catch (e) {\n            done(e);\n          }\n        },\n      });\n    });\n\n    it('deve melhorar mensagens de erro numérico', (done) => {\n      const numericError = new BadRequestException({\n        error: 'Bad Request',\n        message: [\n          'idade must not be less than 18',\n          'salario must not be greater than 50000',\n        ],\n        statusCode: 400,\n      });\n\n      mockCallHandler.handle = jest.fn(() => throwError(() => numericError));\n\n      interceptor.intercept(mockExecutionContext, mockCallHandler).subscribe({\n        error: (error) => {\n          try {\n            const response = error.getResponse();\n            const details = response.details;\n            \n            expect(details.idade[0]).toContain('deve ser maior ou igual a 18');\n            expect(details.salario[0]).toContain('deve ser menor ou igual a 50000');\n            \n            done();\n          } catch (e) {\n            done(e);\n          }\n        },\n      });\n    });\n\n    it('deve passar dados válidos sem modificação', (done) => {\n      const validData = { id: 1, nome: 'Teste' };\n      mockCallHandler.handle = jest.fn(() => of(validData));\n\n      interceptor.intercept(mockExecutionContext, mockCallHandler).subscribe({\n        next: (data) => {\n          expect(data).toBe(validData);\n          done();\n        },\n      });\n    });\n  });\n});\n\ndescribe('ValidationMessageHelper', () => {\n  describe('required', () => {\n    it('deve criar mensagem para campo obrigatório', () => {\n      const message = ValidationMessageHelper.required('nome');\n      expect(message).toBe(\"O campo 'nome' é obrigatório\");\n    });\n  });\n\n  describe('invalidType', () => {\n    it('deve criar mensagem para tipo inválido', () => {\n      const message = ValidationMessageHelper.invalidType('idade', 'number');\n      expect(message).toBe(\"O campo 'idade' deve ser número\");\n    });\n\n    it('deve mapear tipos em inglês para português', () => {\n      expect(ValidationMessageHelper.invalidType('campo', 'string'))\n        .toBe(\"O campo 'campo' deve ser texto\");\n      expect(ValidationMessageHelper.invalidType('campo', 'boolean'))\n        .toBe(\"O campo 'campo' deve ser verdadeiro ou falso\");\n      expect(ValidationMessageHelper.invalidType('campo', 'email'))\n        .toBe(\"O campo 'campo' deve ser email válido\");\n    });\n  });\n\n  describe('invalidLength', () => {\n    it('deve criar mensagem para tamanho com min e max', () => {\n      const message = ValidationMessageHelper.invalidLength('nome', 2, 50);\n      expect(message).toBe(\"O campo 'nome' deve ter entre 2 e 50 caracteres\");\n    });\n\n    it('deve criar mensagem apenas para mínimo', () => {\n      const message = ValidationMessageHelper.invalidLength('nome', 2);\n      expect(message).toBe(\"O campo 'nome' deve ter pelo menos 2 caracteres\");\n    });\n\n    it('deve criar mensagem apenas para máximo', () => {\n      const message = ValidationMessageHelper.invalidLength('nome', undefined, 50);\n      expect(message).toBe(\"O campo 'nome' deve ter no máximo 50 caracteres\");\n    });\n\n    it('deve criar mensagem genérica quando não há limites', () => {\n      const message = ValidationMessageHelper.invalidLength('nome');\n      expect(message).toBe(\"O campo 'nome' tem tamanho inválido\");\n    });\n  });\n\n  describe('invalidRange', () => {\n    it('deve criar mensagem para intervalo com min e max', () => {\n      const message = ValidationMessageHelper.invalidRange('idade', 18, 65);\n      expect(message).toBe(\"O campo 'idade' deve estar entre 18 e 65\");\n    });\n\n    it('deve criar mensagem apenas para mínimo', () => {\n      const message = ValidationMessageHelper.invalidRange('idade', 18);\n      expect(message).toBe(\"O campo 'idade' deve ser maior ou igual a 18\");\n    });\n\n    it('deve criar mensagem apenas para máximo', () => {\n      const message = ValidationMessageHelper.invalidRange('idade', undefined, 65);\n      expect(message).toBe(\"O campo 'idade' deve ser menor ou igual a 65\");\n    });\n  });\n\n  describe('invalidFormat', () => {\n    it('deve criar mensagem para formato inválido', () => {\n      const message = ValidationMessageHelper.invalidFormat('email', 'email');\n      expect(message).toBe(\"O campo 'email' deve ter o formato: email válido (exemplo: usuario@dominio.com)\");\n    });\n\n    it('deve mapear formatos conhecidos', () => {\n      expect(ValidationMessageHelper.invalidFormat('cpf', 'cpf'))\n        .toContain('CPF válido (exemplo: 123.456.789-00)');\n      expect(ValidationMessageHelper.invalidFormat('telefone', 'phone'))\n        .toContain('telefone válido (exemplo: (11) 99999-9999)');\n    });\n\n    it('deve usar formato original se não mapeado', () => {\n      const message = ValidationMessageHelper.invalidFormat('campo', 'formato_customizado');\n      expect(message).toBe(\"O campo 'campo' deve ter o formato: formato_customizado\");\n    });\n  });\n});"],"version":3}