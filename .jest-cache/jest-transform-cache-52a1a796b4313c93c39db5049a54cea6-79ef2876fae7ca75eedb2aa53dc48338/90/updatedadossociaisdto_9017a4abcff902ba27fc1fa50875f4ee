6ab58627628b42c77f1157d594e5ac3b
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b;
Object.defineProperty(exports, "__esModule", { value: true });
exports.UpdateDadosSociaisDto = void 0;
const swagger_1 = require("@nestjs/swagger");
const create_dados_sociais_dto_1 = require("./create-dados-sociais.dto");
const class_validator_1 = require("class-validator");
const class_transformer_1 = require("class-transformer");
const escolaridade_enum_1 = require("../../../enums/escolaridade.enum");
const situacao_trabalho_enum_1 = require("../../../enums/situacao-trabalho.enum");
const enum_validator_1 = require("../../../shared/validators/enum-validator");
/**
 * DTO para atualização de dados sociais de um cidadão
 *
 * Permite atualização parcial dos dados sociais, mantendo as mesmas
 * validações do DTO de criação mas com todos os campos opcionais.
 */
class UpdateDadosSociaisDto extends (0, swagger_1.PartialType)(create_dados_sociais_dto_1.CreateDadosSociaisDto) {
    escolaridade;
    publico_prioritario;
    renda;
    ocupacao;
    recebe_pbf;
    valor_pbf;
    recebe_bpc;
    tipo_bpc;
    valor_bpc;
    curso_profissionalizante;
    interesse_curso_profissionalizante;
    situacao_trabalho;
    area_trabalho;
    familiar_apto_trabalho;
    area_interesse_familiar;
    observacoes;
}
exports.UpdateDadosSociaisDto = UpdateDadosSociaisDto;
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Nível de escolaridade do cidadão',
        enum: escolaridade_enum_1.EscolaridadeEnum,
        example: escolaridade_enum_1.EscolaridadeEnum.MEDIO_COMPLETO,
        required: false,
        enumName: 'EscolaridadeEnum',
    }),
    (0, class_validator_1.IsOptional)(),
    (0, enum_validator_1.IsEnumValue)(escolaridade_enum_1.EscolaridadeEnum, {
        enumName: 'Escolaridade',
        caseSensitive: false,
    }),
    __metadata("design:type", typeof (_a = typeof escolaridade_enum_1.EscolaridadeEnum !== "undefined" && escolaridade_enum_1.EscolaridadeEnum) === "function" ? _a : Object)
], UpdateDadosSociaisDto.prototype, "escolaridade", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão faz parte de público prioritário',
        example: true,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({
        message: 'O campo publico_prioritario deve ser verdadeiro ou falso',
    }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "publico_prioritario", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Renda mensal do cidadão em reais',
        example: 1500.5,
        minimum: 0,
        maximum: 50000,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsNumber)({ maxDecimalPlaces: 2 }, {
        message: 'Renda deve ser um número válido com no máximo 2 casas decimais',
    }),
    (0, class_validator_1.Min)(0, { message: 'Renda não pode ser negativa' }),
    (0, class_validator_1.Max)(50000, { message: 'Renda não pode exceder R$ 50.000,00' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            // Remove vírgulas e converte para número
            const cleanValue = value.replace(/,/g, '.');
            return parseFloat(cleanValue);
        }
        return value;
    }),
    __metadata("design:type", Number)
], UpdateDadosSociaisDto.prototype, "renda", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Ocupação ou profissão do cidadão',
        example: 'Auxiliar de limpeza',
        maxLength: 255,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Ocupação deve ser um texto' }),
    (0, class_validator_1.MaxLength)(255, { message: 'Ocupação deve ter no máximo 255 caracteres' }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "ocupacao", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão recebe Programa Bolsa Família',
        example: false,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo recebe_pbf deve ser verdadeiro ou falso' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "recebe_pbf", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Valor mensal recebido do Programa Bolsa Família',
        example: 400.0,
        minimum: 50,
        maximum: 10000,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.ValidateIf)((o) => o.recebe_pbf === true),
    (0, class_validator_1.IsNumber)({ maxDecimalPlaces: 2 }, {
        message: 'Valor do PBF deve ser um número válido com no máximo 2 casas decimais',
    }),
    (0, class_validator_1.Min)(50, { message: 'Valor do PBF deve ser no mínimo R$ 50,00' }),
    (0, class_validator_1.Max)(10000, { message: 'Valor do PBF não pode exceder R$ 10.000,00' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            // Remove vírgulas e espaços, converte para número
            const cleanValue = value.replace(/[,\s]/g, '.').replace(/\.{2,}/g, '.');
            return parseFloat(cleanValue) || 0;
        }
        return value;
    }),
    __metadata("design:type", Number)
], UpdateDadosSociaisDto.prototype, "valor_pbf", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão recebe Benefício de Prestação Continuada',
        example: false,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({ message: 'O campo recebe_bpc deve ser verdadeiro ou falso' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "recebe_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Tipo do BPC recebido (idoso, deficiente, etc.)',
        example: 'Pessoa com deficiência',
        maxLength: 100,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.ValidateIf)((o) => o.recebe_bpc === true),
    (0, class_validator_1.IsString)({ message: 'Tipo do BPC deve ser um texto' }),
    (0, class_validator_1.MaxLength)(100, { message: 'Tipo do BPC deve ter no máximo 100 caracteres' }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "tipo_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Valor mensal recebido do BPC',
        example: 1320.0,
        minimum: 100,
        maximum: 10000,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.ValidateIf)((o) => o.recebe_bpc === true),
    (0, class_validator_1.IsNumber)({ maxDecimalPlaces: 2 }, {
        message: 'Valor do BPC deve ser um número válido com no máximo 2 casas decimais',
    }),
    (0, class_validator_1.Min)(100, { message: 'Valor do BPC deve ser no mínimo R$ 100,00' }),
    (0, class_validator_1.Max)(10000, { message: 'Valor do BPC não pode exceder R$ 10.000,00' }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            // Remove vírgulas e espaços, converte para número
            const cleanValue = value.replace(/[,\s]/g, '.').replace(/\.{2,}/g, '.');
            return parseFloat(cleanValue) || 0;
        }
        return value;
    }),
    __metadata("design:type", Number)
], UpdateDadosSociaisDto.prototype, "valor_bpc", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Curso profissionalizante que o cidadão possui ou está cursando',
        example: 'Técnico em Informática',
        maxLength: 255,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Curso profissionalizante deve ser um texto' }),
    (0, class_validator_1.MaxLength)(255, {
        message: 'Curso profissionalizante deve ter no máximo 255 caracteres',
    }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "curso_profissionalizante", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se o cidadão tem interesse em fazer curso profissionalizante',
        example: true,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({
        message: 'O campo interesse_curso_profissionalizante deve ser verdadeiro ou falso',
    }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "interesse_curso_profissionalizante", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Situação atual de trabalho do cidadão',
        enum: situacao_trabalho_enum_1.SituacaoTrabalhoEnum,
        example: situacao_trabalho_enum_1.SituacaoTrabalhoEnum.DESEMPREGADO,
        required: false,
        enumName: 'SituacaoTrabalhoEnum',
    }),
    (0, class_validator_1.IsOptional)(),
    (0, enum_validator_1.IsEnumValue)(situacao_trabalho_enum_1.SituacaoTrabalhoEnum, {
        enumName: 'Situação de Trabalho',
        caseSensitive: false,
    }),
    __metadata("design:type", typeof (_b = typeof situacao_trabalho_enum_1.SituacaoTrabalhoEnum !== "undefined" && situacao_trabalho_enum_1.SituacaoTrabalhoEnum) === "function" ? _b : Object)
], UpdateDadosSociaisDto.prototype, "situacao_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Área de trabalho ou interesse profissional',
        example: 'Serviços gerais',
        maxLength: 255,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Área de trabalho deve ser um texto' }),
    (0, class_validator_1.MaxLength)(255, {
        message: 'Área de trabalho deve ter no máximo 255 caracteres',
    }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "area_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Indica se há familiar apto para trabalhar na composição familiar',
        example: true,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsBoolean)({
        message: 'O campo familiar_apto_trabalho deve ser verdadeiro ou falso',
    }),
    (0, class_transformer_1.Transform)(({ value }) => {
        if (typeof value === 'string') {
            return value.toLowerCase() === 'true';
        }
        return value;
    }),
    __metadata("design:type", Boolean)
], UpdateDadosSociaisDto.prototype, "familiar_apto_trabalho", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Área de interesse profissional de familiares',
        example: 'Construção civil',
        maxLength: 255,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Área de interesse familiar deve ser um texto' }),
    (0, class_validator_1.MaxLength)(255, {
        message: 'Área de interesse familiar deve ter no máximo 255 caracteres',
    }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "area_interesse_familiar", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Observações adicionais sobre a situação social',
        example: 'Família em situação de vulnerabilidade social',
        maxLength: 1000,
        required: false,
    }),
    (0, class_validator_1.IsOptional)(),
    (0, class_validator_1.IsString)({ message: 'Observações devem ser um texto' }),
    (0, class_validator_1.MaxLength)(1000, {
        message: 'Observações devem ter no máximo 1000 caracteres',
    }),
    __metadata("design:type", String)
], UpdateDadosSociaisDto.prototype, "observacoes", void 0);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxldWRyZVxcT25lRHJpdmVcXERlc2t0b3BcXFByb2pldG9zXFxwZ2JlblxccGdiZW4tc2VydmVyXFxzcmNcXG1vZHVsZXNcXGNpZGFkYW9cXGR0b1xcdXBkYXRlLWRhZG9zLXNvY2lhaXMuZHRvLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBMkQ7QUFDM0QseUVBQW1FO0FBQ25FLHFEQVV5QjtBQUN6Qix5REFBOEM7QUFDOUMsd0VBQW9FO0FBQ3BFLGtGQUE2RTtBQUM3RSw4RUFBd0U7QUFFeEU7Ozs7O0dBS0c7QUFDSCxNQUFhLHFCQUFzQixTQUFRLElBQUEscUJBQVcsRUFBQyxnREFBcUIsQ0FBQztJQWEzRSxZQUFZLENBQW9CO0lBaUJoQyxtQkFBbUIsQ0FBVztJQTBCOUIsS0FBSyxDQUFVO0lBV2YsUUFBUSxDQUFVO0lBZWxCLFVBQVUsQ0FBVztJQTRCckIsU0FBUyxDQUFVO0lBZW5CLFVBQVUsQ0FBVztJQVlyQixRQUFRLENBQVU7SUE0QmxCLFNBQVMsQ0FBVTtJQWNuQix3QkFBd0IsQ0FBVTtJQW1CbEMsa0NBQWtDLENBQVc7SUFjN0MsaUJBQWlCLENBQXdCO0lBYXpDLGFBQWEsQ0FBVTtJQWtCdkIsc0JBQXNCLENBQVc7SUFhakMsdUJBQXVCLENBQVU7SUFhakMsV0FBVyxDQUFVO0NBQ3RCO0FBOVFELHNEQThRQztBQWpRQztJQVpDLElBQUEscUJBQVcsRUFBQztRQUNYLFdBQVcsRUFBRSxrQ0FBa0M7UUFDL0MsSUFBSSxFQUFFLG9DQUFnQjtRQUN0QixPQUFPLEVBQUUsb0NBQWdCLENBQUMsY0FBYztRQUN4QyxRQUFRLEVBQUUsS0FBSztRQUNmLFFBQVEsRUFBRSxrQkFBa0I7S0FDN0IsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTtJQUNaLElBQUEsNEJBQVcsRUFBQyxvQ0FBZ0IsRUFBRTtRQUM3QixRQUFRLEVBQUUsY0FBYztRQUN4QixhQUFhLEVBQUUsS0FBSztLQUNyQixDQUFDO2tEQUNhLG9DQUFnQixvQkFBaEIsb0NBQWdC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LEVBQUUsS0FBSyxNQUFNLENBQUM7UUFDeEMsQ0FBQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQyxDQUFDOztxRUFDK0I7QUFhakM7SUFYQyxJQUFBLHFCQUFXLEVBQUM7UUFDWCxXQUFXLEVBQUUsOENBQThDO1FBQzNELE9BQU8sRUFBRSxrQkFBa0I7UUFDM0IsU0FBUyxFQUFFLEdBQUc7UUFDZCxRQUFRLEVBQUUsS0FBSztLQUNoQixDQUFDO0lBQ0QsSUFBQSw0QkFBVSxHQUFFO0lBQ1osSUFBQSwwQkFBUSxFQUFDLEVBQUUsT0FBTyxFQUFFLDhDQUE4QyxFQUFFLENBQUM7SUFDckUsSUFBQSwyQkFBUyxFQUFDLEdBQUcsRUFBRTtRQUNkLE9BQU8sRUFBRSw4REFBOEQ7S0FDeEUsQ0FBQzs7c0VBQytCO0FBYWpDO0lBWEMsSUFBQSxxQkFBVyxFQUFDO1FBQ1gsV0FBVyxFQUFFLGdEQUFnRDtRQUM3RCxPQUFPLEVBQUUsK0NBQStDO1FBQ3hELFNBQVMsRUFBRSxJQUFJO1FBQ2YsUUFBUSxFQUFFLEtBQUs7S0FDaEIsQ0FBQztJQUNELElBQUEsNEJBQVUsR0FBRTtJQUNaLElBQUEsMEJBQVEsRUFBQyxFQUFFLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxDQUFDO0lBQ3ZELElBQUEsMkJBQVMsRUFBQyxJQUFJLEVBQUU7UUFDZixPQUFPLEVBQUUsaURBQWlEO0tBQzNELENBQUM7OzBEQUNtQiIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXGV1ZHJlXFxPbmVEcml2ZVxcRGVza3RvcFxcUHJvamV0b3NcXHBnYmVuXFxwZ2Jlbi1zZXJ2ZXJcXHNyY1xcbW9kdWxlc1xcY2lkYWRhb1xcZHRvXFx1cGRhdGUtZGFkb3Mtc29jaWFpcy5kdG8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBpUHJvcGVydHksIFBhcnRpYWxUeXBlIH0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbmltcG9ydCB7IENyZWF0ZURhZG9zU29jaWFpc0R0byB9IGZyb20gJy4vY3JlYXRlLWRhZG9zLXNvY2lhaXMuZHRvJztcbmltcG9ydCB7XG4gIElzT3B0aW9uYWwsXG4gIElzTnVtYmVyLFxuICBNaW4sXG4gIE1heCxcbiAgSXNFbnVtLFxuICBJc1N0cmluZyxcbiAgSXNCb29sZWFuLFxuICBWYWxpZGF0ZUlmLFxuICBNYXhMZW5ndGgsXG59IGZyb20gJ2NsYXNzLXZhbGlkYXRvcic7XG5pbXBvcnQgeyBUcmFuc2Zvcm0gfSBmcm9tICdjbGFzcy10cmFuc2Zvcm1lcic7XG5pbXBvcnQgeyBFc2NvbGFyaWRhZGVFbnVtIH0gZnJvbSAnLi4vLi4vLi4vZW51bXMvZXNjb2xhcmlkYWRlLmVudW0nO1xuaW1wb3J0IHsgU2l0dWFjYW9UcmFiYWxob0VudW0gfSBmcm9tICcuLi8uLi8uLi9lbnVtcy9zaXR1YWNhby10cmFiYWxoby5lbnVtJztcbmltcG9ydCB7IElzRW51bVZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3ZhbGlkYXRvcnMvZW51bS12YWxpZGF0b3InO1xuXG4vKipcbiAqIERUTyBwYXJhIGF0dWFsaXphw6fDo28gZGUgZGFkb3Mgc29jaWFpcyBkZSB1bSBjaWRhZMOjb1xuICpcbiAqIFBlcm1pdGUgYXR1YWxpemHDp8OjbyBwYXJjaWFsIGRvcyBkYWRvcyBzb2NpYWlzLCBtYW50ZW5kbyBhcyBtZXNtYXNcbiAqIHZhbGlkYcOnw7VlcyBkbyBEVE8gZGUgY3JpYcOnw6NvIG1hcyBjb20gdG9kb3Mgb3MgY2FtcG9zIG9wY2lvbmFpcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFVwZGF0ZURhZG9zU29jaWFpc0R0byBleHRlbmRzIFBhcnRpYWxUeXBlKENyZWF0ZURhZG9zU29jaWFpc0R0bykge1xuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnTsOtdmVsIGRlIGVzY29sYXJpZGFkZSBkbyBjaWRhZMOjbycsXG4gICAgZW51bTogRXNjb2xhcmlkYWRlRW51bSxcbiAgICBleGFtcGxlOiBFc2NvbGFyaWRhZGVFbnVtLk1FRElPX0NPTVBMRVRPLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICBlbnVtTmFtZTogJ0VzY29sYXJpZGFkZUVudW0nLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0VudW1WYWx1ZShFc2NvbGFyaWRhZGVFbnVtLCB7XG4gICAgZW51bU5hbWU6ICdFc2NvbGFyaWRhZGUnLFxuICAgIGNhc2VTZW5zaXRpdmU6IGZhbHNlLFxuICB9KVxuICBlc2NvbGFyaWRhZGU/OiBFc2NvbGFyaWRhZGVFbnVtO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdJbmRpY2Egc2UgbyBjaWRhZMOjbyBmYXogcGFydGUgZGUgcMO6YmxpY28gcHJpb3JpdMOhcmlvJyxcbiAgICBleGFtcGxlOiB0cnVlLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNCb29sZWFuKHtcbiAgICBtZXNzYWdlOiAnTyBjYW1wbyBwdWJsaWNvX3ByaW9yaXRhcmlvIGRldmUgc2VyIHZlcmRhZGVpcm8gb3UgZmFsc28nLFxuICB9KVxuICBAVHJhbnNmb3JtKCh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KVxuICBwdWJsaWNvX3ByaW9yaXRhcmlvPzogYm9vbGVhbjtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnUmVuZGEgbWVuc2FsIGRvIGNpZGFkw6NvIGVtIHJlYWlzJyxcbiAgICBleGFtcGxlOiAxNTAwLjUsXG4gICAgbWluaW11bTogMCxcbiAgICBtYXhpbXVtOiA1MDAwMCxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzTnVtYmVyKFxuICAgIHsgbWF4RGVjaW1hbFBsYWNlczogMiB9LFxuICAgIHtcbiAgICAgIG1lc3NhZ2U6ICdSZW5kYSBkZXZlIHNlciB1bSBuw7ptZXJvIHbDoWxpZG8gY29tIG5vIG3DoXhpbW8gMiBjYXNhcyBkZWNpbWFpcycsXG4gICAgfSxcbiAgKVxuICBATWluKDAsIHsgbWVzc2FnZTogJ1JlbmRhIG7Do28gcG9kZSBzZXIgbmVnYXRpdmEnIH0pXG4gIEBNYXgoNTAwMDAsIHsgbWVzc2FnZTogJ1JlbmRhIG7Do28gcG9kZSBleGNlZGVyIFIkIDUwLjAwMCwwMCcgfSlcbiAgQFRyYW5zZm9ybSgoeyB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFJlbW92ZSB2w61yZ3VsYXMgZSBjb252ZXJ0ZSBwYXJhIG7Dum1lcm9cbiAgICAgIGNvbnN0IGNsZWFuVmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8sL2csICcuJyk7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChjbGVhblZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KVxuICByZW5kYT86IG51bWJlcjtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnT2N1cGHDp8OjbyBvdSBwcm9maXNzw6NvIGRvIGNpZGFkw6NvJyxcbiAgICBleGFtcGxlOiAnQXV4aWxpYXIgZGUgbGltcGV6YScsXG4gICAgbWF4TGVuZ3RoOiAyNTUsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc1N0cmluZyh7IG1lc3NhZ2U6ICdPY3VwYcOnw6NvIGRldmUgc2VyIHVtIHRleHRvJyB9KVxuICBATWF4TGVuZ3RoKDI1NSwgeyBtZXNzYWdlOiAnT2N1cGHDp8OjbyBkZXZlIHRlciBubyBtw6F4aW1vIDI1NSBjYXJhY3RlcmVzJyB9KVxuICBvY3VwYWNhbz86IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnSW5kaWNhIHNlIG8gY2lkYWTDo28gcmVjZWJlIFByb2dyYW1hIEJvbHNhIEZhbcOtbGlhJyxcbiAgICBleGFtcGxlOiBmYWxzZSxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzQm9vbGVhbih7IG1lc3NhZ2U6ICdPIGNhbXBvIHJlY2ViZV9wYmYgZGV2ZSBzZXIgdmVyZGFkZWlybyBvdSBmYWxzbycgfSlcbiAgQFRyYW5zZm9ybSgoeyB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSlcbiAgcmVjZWJlX3BiZj86IGJvb2xlYW47XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ1ZhbG9yIG1lbnNhbCByZWNlYmlkbyBkbyBQcm9ncmFtYSBCb2xzYSBGYW3DrWxpYScsXG4gICAgZXhhbXBsZTogNDAwLjAsXG4gICAgbWluaW11bTogNTAsXG4gICAgbWF4aW11bTogMTAwMDAsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBWYWxpZGF0ZUlmKChvKSA9PiBvLnJlY2ViZV9wYmYgPT09IHRydWUpXG4gIEBJc051bWJlcihcbiAgICB7IG1heERlY2ltYWxQbGFjZXM6IDIgfSxcbiAgICB7XG4gICAgICBtZXNzYWdlOlxuICAgICAgICAnVmFsb3IgZG8gUEJGIGRldmUgc2VyIHVtIG7Dum1lcm8gdsOhbGlkbyBjb20gbm8gbcOheGltbyAyIGNhc2FzIGRlY2ltYWlzJyxcbiAgICB9LFxuICApXG4gIEBNaW4oNTAsIHsgbWVzc2FnZTogJ1ZhbG9yIGRvIFBCRiBkZXZlIHNlciBubyBtw61uaW1vIFIkIDUwLDAwJyB9KVxuICBATWF4KDEwMDAwLCB7IG1lc3NhZ2U6ICdWYWxvciBkbyBQQkYgbsOjbyBwb2RlIGV4Y2VkZXIgUiQgMTAuMDAwLDAwJyB9KVxuICBAVHJhbnNmb3JtKCh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gUmVtb3ZlIHbDrXJndWxhcyBlIGVzcGHDp29zLCBjb252ZXJ0ZSBwYXJhIG7Dum1lcm9cbiAgICAgIGNvbnN0IGNsZWFuVmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bLFxcc10vZywgJy4nKS5yZXBsYWNlKC9cXC57Mix9L2csICcuJyk7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChjbGVhblZhbHVlKSB8fCAwO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIHZhbG9yX3BiZj86IG51bWJlcjtcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnSW5kaWNhIHNlIG8gY2lkYWTDo28gcmVjZWJlIEJlbmVmw61jaW8gZGUgUHJlc3Rhw6fDo28gQ29udGludWFkYScsXG4gICAgZXhhbXBsZTogZmFsc2UsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0Jvb2xlYW4oeyBtZXNzYWdlOiAnTyBjYW1wbyByZWNlYmVfYnBjIGRldmUgc2VyIHZlcmRhZGVpcm8gb3UgZmFsc28nIH0pXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIHJlY2ViZV9icGM/OiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdUaXBvIGRvIEJQQyByZWNlYmlkbyAoaWRvc28sIGRlZmljaWVudGUsIGV0Yy4pJyxcbiAgICBleGFtcGxlOiAnUGVzc29hIGNvbSBkZWZpY2nDqm5jaWEnLFxuICAgIG1heExlbmd0aDogMTAwLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBAVmFsaWRhdGVJZigobykgPT4gby5yZWNlYmVfYnBjID09PSB0cnVlKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnVGlwbyBkbyBCUEMgZGV2ZSBzZXIgdW0gdGV4dG8nIH0pXG4gIEBNYXhMZW5ndGgoMTAwLCB7IG1lc3NhZ2U6ICdUaXBvIGRvIEJQQyBkZXZlIHRlciBubyBtw6F4aW1vIDEwMCBjYXJhY3RlcmVzJyB9KVxuICB0aXBvX2JwYz86IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOiAnVmFsb3IgbWVuc2FsIHJlY2ViaWRvIGRvIEJQQycsXG4gICAgZXhhbXBsZTogMTMyMC4wLFxuICAgIG1pbmltdW06IDEwMCxcbiAgICBtYXhpbXVtOiAxMDAwMCxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQFZhbGlkYXRlSWYoKG8pID0+IG8ucmVjZWJlX2JwYyA9PT0gdHJ1ZSlcbiAgQElzTnVtYmVyKFxuICAgIHsgbWF4RGVjaW1hbFBsYWNlczogMiB9LFxuICAgIHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgICdWYWxvciBkbyBCUEMgZGV2ZSBzZXIgdW0gbsO6bWVybyB2w6FsaWRvIGNvbSBubyBtw6F4aW1vIDIgY2FzYXMgZGVjaW1haXMnLFxuICAgIH0sXG4gIClcbiAgQE1pbigxMDAsIHsgbWVzc2FnZTogJ1ZhbG9yIGRvIEJQQyBkZXZlIHNlciBubyBtw61uaW1vIFIkIDEwMCwwMCcgfSlcbiAgQE1heCgxMDAwMCwgeyBtZXNzYWdlOiAnVmFsb3IgZG8gQlBDIG7Do28gcG9kZSBleGNlZGVyIFIkIDEwLjAwMCwwMCcgfSlcbiAgQFRyYW5zZm9ybSgoeyB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFJlbW92ZSB2w61yZ3VsYXMgZSBlc3Bhw6dvcywgY29udmVydGUgcGFyYSBuw7ptZXJvXG4gICAgICBjb25zdCBjbGVhblZhbHVlID0gdmFsdWUucmVwbGFjZSgvWyxcXHNdL2csICcuJykucmVwbGFjZSgvXFwuezIsfS9nLCAnLicpO1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoY2xlYW5WYWx1ZSkgfHwgMDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KVxuICB2YWxvcl9icGM/OiBudW1iZXI7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICdDdXJzbyBwcm9maXNzaW9uYWxpemFudGUgcXVlIG8gY2lkYWTDo28gcG9zc3VpIG91IGVzdMOhIGN1cnNhbmRvJyxcbiAgICBleGFtcGxlOiAnVMOpY25pY28gZW0gSW5mb3Jtw6F0aWNhJyxcbiAgICBtYXhMZW5ndGg6IDI1NSxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzU3RyaW5nKHsgbWVzc2FnZTogJ0N1cnNvIHByb2Zpc3Npb25hbGl6YW50ZSBkZXZlIHNlciB1bSB0ZXh0bycgfSlcbiAgQE1heExlbmd0aCgyNTUsIHtcbiAgICBtZXNzYWdlOiAnQ3Vyc28gcHJvZmlzc2lvbmFsaXphbnRlIGRldmUgdGVyIG5vIG3DoXhpbW8gMjU1IGNhcmFjdGVyZXMnLFxuICB9KVxuICBjdXJzb19wcm9maXNzaW9uYWxpemFudGU/OiBzdHJpbmc7XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICdJbmRpY2Egc2UgbyBjaWRhZMOjbyB0ZW0gaW50ZXJlc3NlIGVtIGZhemVyIGN1cnNvIHByb2Zpc3Npb25hbGl6YW50ZScsXG4gICAgZXhhbXBsZTogdHJ1ZSxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzQm9vbGVhbih7XG4gICAgbWVzc2FnZTpcbiAgICAgICdPIGNhbXBvIGludGVyZXNzZV9jdXJzb19wcm9maXNzaW9uYWxpemFudGUgZGV2ZSBzZXIgdmVyZGFkZWlybyBvdSBmYWxzbycsXG4gIH0pXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIGludGVyZXNzZV9jdXJzb19wcm9maXNzaW9uYWxpemFudGU/OiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdTaXR1YcOnw6NvIGF0dWFsIGRlIHRyYWJhbGhvIGRvIGNpZGFkw6NvJyxcbiAgICBlbnVtOiBTaXR1YWNhb1RyYWJhbGhvRW51bSxcbiAgICBleGFtcGxlOiBTaXR1YWNhb1RyYWJhbGhvRW51bS5ERVNFTVBSRUdBRE8sXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgIGVudW1OYW1lOiAnU2l0dWFjYW9UcmFiYWxob0VudW0nLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0VudW1WYWx1ZShTaXR1YWNhb1RyYWJhbGhvRW51bSwge1xuICAgIGVudW1OYW1lOiAnU2l0dWHDp8OjbyBkZSBUcmFiYWxobycsXG4gICAgY2FzZVNlbnNpdGl2ZTogZmFsc2UsXG4gIH0pXG4gIHNpdHVhY2FvX3RyYWJhbGhvPzogU2l0dWFjYW9UcmFiYWxob0VudW07XG5cbiAgQEFwaVByb3BlcnR5KHtcbiAgICBkZXNjcmlwdGlvbjogJ8OBcmVhIGRlIHRyYWJhbGhvIG91IGludGVyZXNzZSBwcm9maXNzaW9uYWwnLFxuICAgIGV4YW1wbGU6ICdTZXJ2acOnb3MgZ2VyYWlzJyxcbiAgICBtYXhMZW5ndGg6IDI1NSxcbiAgICByZXF1aXJlZDogZmFsc2UsXG4gIH0pXG4gIEBJc09wdGlvbmFsKClcbiAgQElzU3RyaW5nKHsgbWVzc2FnZTogJ8OBcmVhIGRlIHRyYWJhbGhvIGRldmUgc2VyIHVtIHRleHRvJyB9KVxuICBATWF4TGVuZ3RoKDI1NSwge1xuICAgIG1lc3NhZ2U6ICfDgXJlYSBkZSB0cmFiYWxobyBkZXZlIHRlciBubyBtw6F4aW1vIDI1NSBjYXJhY3RlcmVzJyxcbiAgfSlcbiAgYXJlYV90cmFiYWxobz86IHN0cmluZztcblxuICBAQXBpUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgJ0luZGljYSBzZSBow6EgZmFtaWxpYXIgYXB0byBwYXJhIHRyYWJhbGhhciBuYSBjb21wb3Npw6fDo28gZmFtaWxpYXInLFxuICAgIGV4YW1wbGU6IHRydWUsXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxuICB9KVxuICBASXNPcHRpb25hbCgpXG4gIEBJc0Jvb2xlYW4oe1xuICAgIG1lc3NhZ2U6ICdPIGNhbXBvIGZhbWlsaWFyX2FwdG9fdHJhYmFsaG8gZGV2ZSBzZXIgdmVyZGFkZWlybyBvdSBmYWxzbycsXG4gIH0pXG4gIEBUcmFuc2Zvcm0oKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pXG4gIGZhbWlsaWFyX2FwdG9fdHJhYmFsaG8/OiBib29sZWFuO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICfDgXJlYSBkZSBpbnRlcmVzc2UgcHJvZmlzc2lvbmFsIGRlIGZhbWlsaWFyZXMnLFxuICAgIGV4YW1wbGU6ICdDb25zdHJ1w6fDo28gY2l2aWwnLFxuICAgIG1heExlbmd0aDogMjU1LFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnw4FyZWEgZGUgaW50ZXJlc3NlIGZhbWlsaWFyIGRldmUgc2VyIHVtIHRleHRvJyB9KVxuICBATWF4TGVuZ3RoKDI1NSwge1xuICAgIG1lc3NhZ2U6ICfDgXJlYSBkZSBpbnRlcmVzc2UgZmFtaWxpYXIgZGV2ZSB0ZXIgbm8gbcOheGltbyAyNTUgY2FyYWN0ZXJlcycsXG4gIH0pXG4gIGFyZWFfaW50ZXJlc3NlX2ZhbWlsaWFyPzogc3RyaW5nO1xuXG4gIEBBcGlQcm9wZXJ0eSh7XG4gICAgZGVzY3JpcHRpb246ICdPYnNlcnZhw6fDtWVzIGFkaWNpb25haXMgc29icmUgYSBzaXR1YcOnw6NvIHNvY2lhbCcsXG4gICAgZXhhbXBsZTogJ0ZhbcOtbGlhIGVtIHNpdHVhw6fDo28gZGUgdnVsbmVyYWJpbGlkYWRlIHNvY2lhbCcsXG4gICAgbWF4TGVuZ3RoOiAxMDAwLFxuICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgfSlcbiAgQElzT3B0aW9uYWwoKVxuICBASXNTdHJpbmcoeyBtZXNzYWdlOiAnT2JzZXJ2YcOnw7VlcyBkZXZlbSBzZXIgdW0gdGV4dG8nIH0pXG4gIEBNYXhMZW5ndGgoMTAwMCwge1xuICAgIG1lc3NhZ2U6ICdPYnNlcnZhw6fDtWVzIGRldmVtIHRlciBubyBtw6F4aW1vIDEwMDAgY2FyYWN0ZXJlcycsXG4gIH0pXG4gIG9ic2VydmFjb2VzPzogc3RyaW5nO1xufVxuIl0sInZlcnNpb24iOjN9